"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~ondemand.InlinePlayer~ondem-9bd28fed","icons/IconChevronDownNoMargin-js","icons/IconMediaDock-js","icons/IconMicrophone-js","icons/IconPlus-js"],{451566:(e,t,i)=>{i.d(t,{Z:()=>c});var r=i(807896),n=i(202784),a=i(928316),o=i(372612),s=i(392237);class l extends n.Component{constructor(...e){super(...e),this._updateStyles=e=>{if(e){const t=a.findDOMNode(e);t&&[...t.childNodes].forEach((e=>{e instanceof HTMLElement&&(e.style.borderColor="transparent",e.style.borderWidth="1px")}))}}}render(){const{colors:e}=s.default.theme;return n.createElement(o.Z,(0,r.Z)({activeThumbColor:e.primary,activeTrackColor:e.lightPrimary,ref:this._updateStyles},this.props))}}const c=l},401339:(e,t,i)=>{i.d(t,{Z:()=>a});const r={},n=["touchend","touchmove","touchstart"];const a={isTouchSupported:()=>n.some((e=>!!function(e,t){if(void 0!==r[e])return r[e];const i=document.createElement(t||"div"),n=`on${e}`;let a=n in i;return a||(i.setAttribute(n,"return;"),a="function"==typeof i[n]),r[e]=a,a}(e)))}},433460:(e,t,i)=>{i.d(t,{Z:()=>h});var r=i(807896),n=i(202784),a=i(325686),o=i(111677),s=i.n(o),l=i(404971),c=i(868634),d=i(336373),u=i(181054),p=i(392237),m=i(823161);const h=function(e){const t=d.Z.useAnalytics(),[i,a]=n.useState(),o=!!(i&&i>70),{"aria-label":s,presenceRingType:l,spaceId:c,...p}=e,h=s||function(e,t){switch(e){case"audiospace":return y.activeAudioSpace({screenName:t});case"livevideo":return y.activeLiveVideo({screenName:t});default:return}}(l,e.screenName);n.useEffect((()=>{switch(l){case"audiospace":t.scribe({action:"impression",element:"audiospace_ring"});break;case"livevideo":t.scribe({action:"impression",element:"livevideo_ring"})}}),[t,l]);const b=n.useCallback((e=>n.createElement(u.Z.Default,(0,r.Z)({},e,{type:l}))),[l]);return n.createElement(m.default,(0,r.Z)({},p,{BorderComponent:b,"aria-label":h,avatarRef:function(e){if(e){const t=e.getBoundingClientRect();t.width!==i&&a(t.width)}},borderWidth:o?"large":"medium",decoration:n.createElement(g,{isWide:o,type:l}),gapWidth:o?"space4":"space2",onClick:function(){switch(l){case"audiospace":t.scribe({action:"click",element:"audiospace_ring"});break;case"livevideo":t.scribe({action:"click",element:"livevideo_ring"})}},withLink:!0}))};function g(e){switch(e.type){case"audiospace":case"livevideo":return n.createElement(b,e);default:return null}}function b(e){return"livevideo"===e.type?n.createElement(c.ZP,{fontSize:e.isWide?"subtext2":"subtext3",style:[f.liveVideoLabelContainer,f.borderNarrow,e.isWide?f.liveVideoLabel:f.liveVideoLabelNarrow],type:"live"}):n.createElement(a.Z,{style:[f.root,e.isWide?f.rootWide:f.rootNarrow]},n.createElement(u.Z.Default,{style:[f.spaceGradient,e.isWide?f.borderWide:f.borderNarrow]},n.createElement(l.default,{style:f.spaceIcon})))}const f=p.default.create((e=>{const t=e.spacesPx.space16+e.spacesPx.space2,i="100%",r=e.spacesPx.space4,n=e.spacesPx.space2;return{root:{borderRadius:e.borderRadii.infinite,bottom:0,end:0,height:"30%",minHeight:t,minWidth:t,pointerEvents:"none",position:"absolute",width:"30%"},liveVideoLabelContainer:{maxWidth:"120%"},liveVideoLabel:{borderColor:e.colors.cellBackground,bottom:0,start:"50%",position:"absolute",transform:[{translateX:"-50%"},{translateY:"25%"}]},liveVideoLabelNarrow:{borderColor:e.colors.cellBackground,bottom:0,start:"50%",position:"absolute",transform:[{translateX:"-50%"},{translateY:"30%"}],paddingHorizontal:e.spaces.space2,paddingVertical:0},rootWide:{end:-1*r,bottom:-1*r},rootNarrow:{end:-1*n,bottom:-1*n},borderWide:{borderWidth:r},borderNarrow:{borderWidth:n},spaceGradient:{justifyContent:"center",width:i,height:i,borderRadius:e.borderRadii.infinite,borderColor:e.colors.cellBackground},spaceIcon:{padding:e.spaces.space2,color:e.colors.white}}})),y={withoutUsernameFallback:s().b3688156,activeAudioSpace:s().c0eb8825,activeLiveVideo:s().d068dc6d}},238406:(e,t,i)=>{i.d(t,{Z:()=>l});var r=i(202784),n=i(731708),a=i(226684),o=i(310452),s=i(720283);const l=({animateIn:e,description:t,entities:i,isConcise:l,style:c,testID:d,userId:u,withheldDescription:p,withheldEntities:m})=>{const{description:h,entities:g}=(0,s.H)({description:t,entities:i,withheldDescription:p,withheldEntities:m}),b=o.ZP.descriptionTextParts(h,g);return b.length?r.createElement(n.ZP,{dir:"auto",numberOfLines:l?2:void 0,style:c,testID:d},b.map(((t,i)=>r.createElement(a.ZP,{animateIn:e,key:`user_${u}_textpart_${i}`,linkify:!0,part:t})))):null}},720283:(e,t,i)=>{i.d(t,{H:()=>r});const r=({description:e,entities:t,withheldDescription:i,withheldEntities:r})=>i?{description:i,entities:r}:{description:e,entities:t}},794294:(e,t,i)=>{i.d(t,{Z:()=>r});const r=i(392237).default.create((e=>({transitionTransform:{transitionProperty:"transform",transitionDuration:"400ms",transitionTimingFunction:"cubic-bezier(0.215, 0.610, 0.355, 1.000)"}})))},707816:(e,t,i)=>{i.d(t,{EO:()=>r,M8:()=>a,TN:()=>n});const r=()=>Math.random()>.5?1:-1;function n(e=1,t=0){return Math.random()*(e-t)+t}const a=e=>({width:e,height:e})},425474:(e,t,i)=>{i.d(t,{Z:()=>x});var r=i(807896),n=(i(571372),i(202784)),a=i(325686),o=i(111677),s=i.n(o),l=i(38502),c=i(498844),d=i(83515),u=i(926628),p=i(520913),m=i(643442),h=i(466445),g=i(461756),b=i(731708),f=i(682474),y=i(384153),v=i(483677),w=i(530732),E=i(392237),Z=i(794215),k=i(823161),S=i(272594),C=i(586035);function x(e){const[t,i]=n.useState(null);const o=(s=e.onPress,y.Z.selectiveClickHandler((e=>{"function"==typeof s&&s()})));var s;const l=e.withStraightBorders?null:D.radius;return n.createElement(w.Z,{"aria-label":_.voiceTweet,link:e.link,onLayout:function({nativeEvent:e}){const{width:t}=e.layout,r=t<T.largeWidthBreakpoint;i(r)},onPress:o,role:"button",style:[D.interactiveViewRoot,l]},n.createElement(a.Z,{style:l},n.createElement(f.Z,{ratio:E.default.theme.aspectRatios.landscape},null===t?null:n.createElement(P,(0,r.Z)({},e,{isNarrow:t})))))}function P(e){const{captionsState:t,isNarrow:i,tweet:r,withStraightBorders:o}=e,[s,f]=n.useState(1);if(!C.B(r)||!r.voiceInfo)throw new Error("VoiceMedia tweet prop must have voiceInfo");const y=r.voiceInfo,P=e.onMuteToggle,{isMuted:B,isPlaying:R}=e;let I=E.default.theme.colors.primary;const L=r.user.profile_image_extensions_media_color?.palette;if(L){const e=v.Z.get(L);e&&(I=M(e.rgb))}const V=e.durationMs||x.getVoiceTweetDuration(r),z=e.progressMs||0,A=Math.max(0,V-z);let W=0;if(R){const e=y.audiowaveValues;if(Array.isArray(e)){W=e[Math.floor(A)%e.length]/100}}const H=i?T.mobile:T.desktop,N=i?"subtext2":"body",j=[D.container,o?null:D.radius,i?D.containerMobile:D.containerDesktop],$=[{height:E.default.theme.fontSizesPx[N]},D.lighter,D.white],F=i?"subtext3":"body",O=[{height:H.captionsIcon},D.white],G=[D.playbackToggle,{width:H.playbackToggle,height:H.playbackToggle,borderRadius:H.playbackToggle}],U=[D.white,{width:H.playbackToggleIcon,height:H.playbackToggleIcon}];const K=void 0===t||t===x.CaptionsState.unavailable,q=t===x.CaptionsState.on,Y=t===x.CaptionsState.off;let X=_.captionsUnavailable;return q?X=_.hideCaptions:Y&&(X=_.showCaptions),n.createElement(a.Z,{onLayout:function({nativeEvent:e}){const{height:t}=e.layout,i=.7*t,r=Math.floor(i/E.default.theme.lineHeightsPx[F]);f(r)},style:[j,{backgroundColor:I}]},n.createElement(a.Z,{style:D.innerContainer},n.createElement(a.Z,{style:D.topLeft},n.createElement(b.ZP,{color:"white",size:N,style:D.clipIndex,weight:"heavy"},y.clipIndex,"/",y.numberOfClips)),n.createElement(w.Z,{"aria-label":X,disabled:K,onClick:e.onCaptionsToggle,style:D.topRight,testID:"captionsToggle"},q?n.createElement(l.default,{style:O}):n.createElement(c.default,{style:O})),n.createElement(a.Z,{style:D.bottomLeft},n.createElement(b.ZP,{color:"white",size:N,style:D.lighter},n.createElement(Z.Z,{countdown:!0,timeMs:A})),n.createElement(a.Z,{style:D.muteButton},n.createElement(w.Z,{"aria-label":B?_.unmute:_.mute,onPress:P},B?n.createElement(d.default,{style:$}):n.createElement(u.default,{style:$})))),n.createElement(a.Z,{style:D.bottomRight},n.createElement(p.default,{style:[...$,D.twitterIcon]}),n.createElement(b.ZP,{color:"white",size:N,style:D.lighter,weight:"heavy"},_.voice)),n.createElement(a.Z,null,g.Z.reducedMotionEnabled?null:n.createElement(a.Z,{style:[D.voiceIndicator,R?D.activeVoiceIndicator:D.inactiveVoiceIndicator]},n.createElement(S.Z,{audioLevel:W,color:E.default.theme.colors.white,paused:!R,size:H.avatar})),n.createElement(k.default,{size:"custom",style:{width:H.avatar,height:H.avatar},uri:r.user.profile_image_url_https}),n.createElement(a.Z,{style:D.playbackToggleContainer},n.createElement(a.Z,{style:G},R?n.createElement(m.default,{style:U}):n.createElement(h.default,{style:U})))),q&&e.caption?n.createElement(a.Z,{style:D.captionViewer,testID:"captionsViewer"},n.createElement(b.ZP,{align:"center",color:"whiteOnColor",numberOfLines:s,size:F},e.caption)):null))}x.getVoiceTweetDuration=function(e){const[t]=e.extended_entities?.media||[];let i;return t&&"photo"!==t.type&&t.video_info&&(i=t.video_info.duration_millis),void 0!==i?i:-1};const T={largeWidthBreakpoint:400,mobile:{avatar:90,playbackToggle:38,playbackToggleIcon:17,captionsIcon:22},desktop:{avatar:165,playbackToggle:69,playbackToggleIcon:31,captionsIcon:40}},D=E.default.create((e=>({interactiveViewRoot:{width:"100%",height:"100%"},radius:{borderRadius:e.borderRadii.large},container:{width:"100%",height:"100%"},containerMobile:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space16,width:"100%",height:"100%"},containerDesktop:{paddingVertical:e.spaces.space16,paddingHorizontal:e.spaces.space20},innerContainer:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},topLeft:{position:"absolute",top:0,start:0},topRight:{position:"absolute",top:0,end:0},captionViewer:{position:"absolute",bottom:"10%",padding:e.spaces.space8,backgroundColor:e.colors.translucentBlack77,borderRadius:e.borderRadii.small,marginHorizontal:"auto",width:"fit-content"},bottomLeft:{position:"absolute",bottom:0,start:0,flexDirection:"row",justifyContent:"center",alignItems:"center"},bottomRight:{position:"absolute",bottom:0,end:0,flexDirection:"row",justifyContent:"center",alignItems:"center"},clipIndex:{letterSpacing:e.spaces.space2},captionsLabel:{letterSpacing:e.spaces.space2,marginTop:e.spaces.space4,textTransform:"uppercase"},voiceIndicator:{transition:"opacity 0.2s 0s ease-in-out"},activeVoiceIndicator:{opacity:1},inactiveVoiceIndicator:{opacity:0},playbackToggleContainer:{position:"absolute",top:0,start:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},playbackToggle:{backgroundColor:e.colors.translucentBlack77,justifyContent:"center",alignItems:"center"},muteButton:{marginStart:e.spaces.space4},twitterIcon:{marginEnd:e.spaces.space4},white:{color:e.colors.white},lighter:{opacity:.5}}))),_={voice:s().h13ffc88,voiceTweet:s().c8c4600e,mute:s().ec8ab8b4,unmute:s().b8b6344a,play:s().de8c5eb2,pause:s().ec286028,showCaptions:s().a858b25c,hideCaptions:s().j25d7cca,captionsUnavailable:s().ad77feb6};x.CaptionsState=Object.freeze({on:"on",off:"off",unavailable:"unavailable"});const M=(e,t=1)=>`rgba(${e.red}, ${e.green}, ${e.blue}, ${t})`},625881:(e,t,i)=>{i.d(t,{S:()=>u});var r=i(202784),n=i(325686),a=i(111677),o=i.n(a),s=i(184605),l=i(173739),c=i(392237),d=i(794215);function u(e){const[t,i]=r.useState(e.progressMs),[a,o]=r.useState(!1),c=r.useRef(!1);r.useEffect((()=>{e.externalSeeking&&(c.current=!1)}),[e.externalSeeking]);const u=e.externalSeeking&&c.current||a?t:e.progressMs,h=r.createElement(l.Z,{"aria-label":m.seekSlider,color:"purple500",keepLTR:!0,keyboardStep:5e3,max:e.durationMs,min:0,onActive:function(i){if(e.onSliderActive?.(i),!i){const i=t;e.onSeek(i),c.current=!0}o(i)},onChange:function(t){a||e.onSeek(t),i(t)},step:"any",value:u,withGrayBackground:!0,withHidingThumb:!0});if(!e.withTimes)return h;const g=e.durationMs-u;return r.createElement(n.Z,null,r.createElement(n.Z,{style:p.sliderRow},r.createElement(n.Z,{style:p.slider},h)),r.createElement(n.Z,{style:p.sliderTimes},r.createElement(d.Z,{size:"subtext2",timeMs:(0,s.Z)(u)?u:0}),r.createElement(d.Z,{countdown:!0,size:"subtext2",timeMs:(0,s.Z)(g)?g:0,withCountdownSymbol:!0})))}const p=c.default.create((e=>({sliderRow:{flexDirection:"row"},slider:{flex:1},sliderTimes:{flexDirection:"row",justifyContent:"space-between"}}))),m={seekSlider:o().hea01798}},118149:(e,t,i)=>{i.d(t,{uP:()=>D});var r=i(807896),n=i(202784),a=i(325686),o=i(111677),s=i.n(o),l=i(643442),c=i(466445),d=i(837020),u=i(731708),p=i(154003),m=i(384153),h=i(483677),g=i(530732),b=i(522171),f=i(365023),y=i(292627),v=i(470397),w=i(392237),E=i(794215),Z=i(823161),k=i(366635),S=i(41871),C=i(625881);function x(e){const t=I(e.onDockPress),i=I(e.onUserPress),o=I(e.onRequestClose),s=I(e.onTogglePlayback);return n.createElement(n.Fragment,null,n.createElement(a.Z,{style:B.sliderContainer},n.createElement(C.S,{durationMs:e.durationMs,externalSeeking:e.isSeeking,onSeek:e.onSeek,onSliderActive:e.onSliderActive,progressMs:e.progressMs})),n.createElement(a.Z,{style:B.dockContentRow},n.createElement(Z.default,{"aria-hidden":!0,focusable:!1,onClick:i,screenName:e.user.screen_name,size:"large",uri:e.user.profile_image_url_https,withLink:!0}),n.createElement(a.Z,{style:B.dockContentTitle},n.createElement(v.Z,{size:"subtext2"},n.createElement(k.Z,{isBlueVerified:e.user.is_blue_verified,isVerified:e.user.verified,name:e.user.name,nameSize:"subtext2",onLinkClick:i,screenName:e.user.screen_name,screenNameSize:"subtext2",verifiedType:e.user.verified_type,weight:"normal",withLink:!0}),n.createElement(E.Z,{size:"subtext2",timeMs:e.durationMs})),n.createElement(u.ZP,{numberOfLines:1,onPress:t,size:"subtext2",weight:"bold"},e.title)),n.createElement(p.ZP,(0,r.Z)({"aria-label":e.isPlaying?_.pause:_.play,icon:e.isPlaying?n.createElement(l.default,null):n.createElement(c.default,null),onPress:s,testID:"togglePlayback"},M)),n.createElement(a.Z,{style:B.dockContentButtonSpacer}),n.createElement(p.ZP,(0,r.Z)({"aria-label":_.close,icon:n.createElement(d.default,null),onPress:o,testID:"close"},M))))}function P(e){const t=I(e.onDockPress),i=I(e.onRequestClose),o=I(e.onTogglePlayback),s=I(e.onUserPress),m=n.useMemo((()=>{const t=e.user.profile_image_extensions_media_color?.palette;if(t){const e=h.Z.get(t);if(e)return L(e.rgb)}return w.default.theme.colors.primary}),[e.user]),g=e.isMuted?_.unmute:_.mute;return n.createElement(a.Z,{style:[R.wideContainer,R.wideContainerBorderRadius]},n.createElement(a.Z,{style:R.mainContentContainer},n.createElement(a.Z,{style:[R.wideAvatarContainer,{backgroundColor:m}]},n.createElement(Z.default,{"aria-hidden":!0,focusable:!1,onClick:s,screenName:e.user.screen_name,size:"xLarge",uri:e.user.profile_image_url_https,withLink:!0})),n.createElement(a.Z,{style:R.mainContent},n.createElement(k.Z,{isBlueVerified:e.user.is_blue_verified,isVerified:e.user.verified,name:e.user.name,nameSize:"subtext2",onLinkClick:s,screenName:e.user.screen_name,screenNameSize:"subtext2",verifiedType:e.user.verified_type,weight:"normal",withLink:!0,withScreenName:!0}),n.createElement(u.ZP,{numberOfLines:2,onPress:t,size:"subtext2",weight:"bold"},e.title))),n.createElement(a.Z,{style:R.belowMainContent},n.createElement(a.Z,{style:R.slider},n.createElement(C.S,{durationMs:e.durationMs,externalSeeking:e.isSeeking,onSeek:e.onSeek,onSliderActive:e.onSliderActive,progressMs:e.progressMs,withTimes:!0})),n.createElement(a.Z,{style:R.iconRow},n.createElement(S.Z,(0,r.Z)({accessibilityLabelIcon:g,accessibilityLabelSlider:_.volumeSlider,isMuted:e.isMuted,onMuteToggle:e.onMuteToggle,onSliderChange:e.onVolumeChange,sliderColor:"purple500",type:void 0,volumePercent:e.volume,withGraySliderTrack:!0,withNavigationSliderBackground:!0},M)),n.createElement(p.ZP,(0,r.Z)({"aria-label":e.isPlaying?_.pause:_.play,icon:e.isPlaying?n.createElement(l.default,null):n.createElement(c.default,null),onPress:o,testID:"togglePlayback"},M)))),n.createElement(p.ZP,(0,r.Z)({"aria-label":_.close,icon:n.createElement(d.default,null),onPress:i,style:R.closeIcon,testID:"close"},M)))}function T(e){const t=n.useRef({}),i=n.useRef(null),r=e.isWide&&R.wideContainerBorderRadius,o=I((()=>{t.current.isSliderActive||e.onDockPress()})),s=n.useMemo((()=>function(){i.current&&i.current.focus()}),[]);n.useEffect((()=>{const t=function(e){return function(t){if("Space"===t.code)return function(e){e.preventDefault(),e.stopPropagation()}(t),e.onTogglePlayback()}}(e);return i.current&&i.current.addEventListener("keydown",t),function(){i.current&&i.current.removeEventListener("keydown",t)}}),[i.current,e.onTogglePlayback]),n.useEffect((()=>function(){clearTimeout(t.current.onSliderActiveTimeout)}),[]);const l=e.title||_.untitled,c={...e,title:l,onSliderActive:function(e){clearTimeout(t.current.onSliderActiveTimeout),e?t.current.isSliderActive=e:t.current.onSliderActiveTimeout=setTimeout((()=>{t.current.isSliderActive=e}),V)}};return n.createElement(b.Z,{enabled:!0,handlers:{[b.Z.shortcuts.audio.dock]:s,[b.Z.shortcuts.audio.play]:e.onTogglePlayback}},n.createElement(g.Z,{"aria-label":_.voiceDock,onPress:o,ref:function(e){i.current=e},style:[B.container,r]},n.createElement(a.Z,{style:[B.innerContainer,r]},e.isWide?n.createElement(P,c):n.createElement(x,c))))}function D(e){const t=e.isWide?y.Z.DesktopVoiceTweetDock:y.Z.MobileVoiceTweetDock,i=[e.isWide?[R.root,{maxWidth:e.width}]:B.root];return n.createElement(t,null,n.createElement(f.Z,{id:"VoiceTweetDock"},((t,o)=>n.createElement(a.Z,(0,r.Z)({ref:t()},o({style:i})),n.createElement(T,e)))))}const _={untitled:s().gfaaead8,close:s().af8fa2ae,pause:s().fb236728,play:s().f17dfdb6,voiceDock:s().cfd13f46,unmute:s().b8b6344a,mute:s().ec8ab8b4,volumeSlider:s().c9a642fa,seekSlider:s().hea01798},M={borderColor:"transparent",color:"text",size:"medium"},B=w.default.create((e=>({root:{},container:{backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.xSmall},innerContainer:{backgroundColor:e.colors.navigationBackground},sliderContainer:{position:"absolute",zIndex:1,top:0,start:0,end:0,marginTop:-1*e.spacesPx.space20,transform:[{translateY:e.spacesPx.space20/2}]},dockContentRow:{padding:e.spaces.space4,flexDirection:"row",justifyContent:"center",alignItems:"center"},dockContentTitle:{marginHorizontal:e.spaces.space12,marginVertical:e.spaces.space4,flexDirection:"column",flex:1},dockContentButtonSpacer:{width:e.spaces.space12}}))),R=w.default.create((e=>{const t=e.spaces.space16,i=e.borderRadii.xLarge,r=e.spaces.space4;return{root:{alignSelf:"flex-end",width:"100%",marginVertical:e.spaces.space20,marginEnd:e.spaces.space20},wideContainerBorderRadius:{borderRadius:i},wideContainer:{padding:t,paddingEnd:r},wideAvatarContainer:{borderRadius:e.borderRadii.medium,padding:e.spaces.space12},mainContentContainer:{flexDirection:"row"},mainContent:{marginStart:e.spaces.space12,marginEnd:e.spaces.space40,flex:1,flexDirection:"column"},username:{color:e.colors.gray700},closeIcon:{position:"absolute",top:r,end:r},belowMainContent:{marginTop:e.spaces.space12,flexDirection:"row"},slider:{flex:1},iconRow:{marginStart:e.spaces.space12,flexDirection:"row",justifyContent:"center"}}}));function I(e){return m.Z.selectiveClickHandler((t=>{"function"==typeof e&&e()}))}const L=(e,t=1)=>`rgba(${e.red}, ${e.green}, ${e.blue}, ${t})`,V=200},41871:(e,t,i)=>{i.d(t,{Z:()=>v});var r=i(807896),n=i(202784),a=i(325686),o=i(111677),s=i.n(o),l=i(83515),c=i(926628),d=i(301049),u=i(154003),p=i(466792),m=i(173739),h=i(392237);const g=s().b3160a69;class b extends n.PureComponent{constructor(...e){super(...e),this.state={showSlider:!1,isSliderActive:!1},this._handleButtonLayoutChange=e=>{const{containerHeight:t}=this.props,{sliderMaxHeight:i}=this.state,{height:r}=e.nativeEvent.layout;if(t){const e=t-r-h.default.theme.spacesPx.space20+"px";e!==i&&this.setState({sliderMaxHeight:e})}},this._handleSliderActive=e=>this.setState({isSliderActive:e}),this._showSlider=()=>this.setState({showSlider:!0}),this._hideSlider=()=>this.setState({showSlider:!1}),this._shouldShowSlider=e=>e.showSlider||e.isSliderActive,this._normalizeValue=e=>Math.max(0,Math.min(e,100)),this._getSliderMarginStyles=e=>{const t=e??"medium";return y["large"===t?"xLarge":t]},this._handleKeyDown=e=>{const{onSliderChange:t,volumePercent:i}=this.props,{altKey:r,ctrlKey:n,metaKey:a}=e;if(r||n||a)return;const o=e.key===d.Z.ArrowUp||e.key===d.Z.ArrowRight,s=e.key===d.Z.ArrowDown||e.key===d.Z.ArrowLeft;if(o||s){const r=this._normalizeValue(i+10*(o?1:-1));t&&t(r),e.preventDefault()}}}componentDidUpdate(e,t){const{onHideSlider:i,onShowSlider:r,onSliderChange:n}=this.props;if(n){const e=this._shouldShowSlider(t),n=this._shouldShowSlider(this.state);!e&&n&&r&&r(),e&&!n&&i&&i()}}render(){const{accessibilityLabelIcon:e,accessibilityLabelSlider:t,containerHeight:i,isMuted:o,onHideSlider:s,onMuteToggle:d,onShowSlider:b,onSliderChange:y,pullRight:v,sliderColor:w,volumePercent:E,withGraySliderTrack:Z,withNavigationSliderBackground:k,...S}=this.props,C=o?n.createElement(l.default,null):n.createElement(c.default,null),x=k?f.sliderWithNavigationBackground:f.sliderWithDefaultBackground;return n.createElement(p.Z,{disabled:!y,onFocusRingGained:y?this._showSlider:void 0,onFocusRingLost:y?this._hideSlider:void 0,onHoverIn:y?this._showSlider:void 0,onHoverOut:y?this._hideSlider:void 0},n.createElement(a.Z,{onKeyDown:y?this._handleKeyDown:void 0},n.createElement(u.ZP,(0,r.Z)({"aria-label":e,icon:C,onLayout:this._handleButtonLayoutChange,onPress:d,pullRight:v,type:"onMediaText"},S)),y&&n.createElement(p.Z,{onFocusRingGained:b,onFocusRingLost:s},(({isFocusedWithin:e})=>n.createElement(a.Z,{style:[f.sliderBackground,x,this._getSliderMarginStyles(S.size),e||this._shouldShowSlider(this.state)?null:h.default.visuallyHidden,!!i&&{maxHeight:this.state.sliderMaxHeight}]},n.createElement(m.Z,{accessibilityLabelValueText:g({volumePercent:E}),"aria-label":t,color:w||"white",isVertical:!0,keyboardStep:10,max:100,min:0,onActive:this._handleSliderActive,onChange:y,step:1,value:o?0:E||0,withGrayBackground:Z}))))))}}b.defaultProps={pullRight:!1};const f=h.default.create((e=>({sliderBackground:{bottom:0,borderRadius:e.borderRadii.xLarge,height:`calc(${e.spaces.space64}*2)`,start:e.spaces.space4,position:"absolute",padding:e.spaces.space12,paddingVertical:e.spaces.space16,end:e.spaces.space4},sliderWithDefaultBackground:{backgroundColor:e.colors.translucentBlack30},sliderWithNavigationBackground:{backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.xSmall}}))),y=h.default.create((({spaces:e,spacesPx:t})=>{const i=`${t.space16+t.space4+t.space2}px`,r=`${t.space20+t.space24}px`,n=`${t.space12+t.space40}px`;return{xSmall:{marginBottom:e.space24},small:{marginBottom:e.space32},medium:{marginBottom:e.space36},large:{marginBottom:r},xLarge:{marginBotom:n},smallCompact:{marginBottom:i},DEPRECATED_normalCompact:{marginBottom:e.space32},DEPRECATED_normal:{marginBottom:e.space40}}})),v=b},67877:(e,t,i)=>{i.d(t,{Z:()=>r});const r=(e,t)=>{let i=null;const r=()=>{i=null,e()};return()=>(i||(i=t(r)),i)}},796684:(e,t,i)=>{i.d(t,{Z:()=>p});var r=i(202784),n=i(325686),a=i(913973),o=i(516951),s=i(731708),l=i(454740),c=i(58881),d=i(530732),u=i(392237);const p=e=>{const{"aria-label":t,"aria-posinset":i,"aria-setsize":p,checked:g,containerStyle:b,decoration:f,description:y,disabled:v,label:w,name:E,onChange:Z,testID:k}=e,S="string"==typeof w?r.createElement(s.ZP,{weight:"bold"},w):w,C="string"==typeof y,x=y?C?r.createElement(s.ZP,{color:"gray700",style:l.W.description},y):r.createElement(n.Z,{style:m.descriptionComponent},y):null,P=c.Z.generate({backgroundColor:u.default.theme.colors.transparent,color:u.default.theme.colors.primary,customHoverBackgroundColor:u.default.theme.colors.transparent,customPressedBackgroundColor:u.default.theme.colors.transparent}),T=c.Z.generate({backgroundColor:u.default.theme.colors.transparent,color:g?u.default.theme.colors.primary:u.default.theme.colors.gray700,withFocusWithinFocusRing:!0});return r.createElement(r.Fragment,null,r.createElement(d.Z,{disabled:v,interactiveStyles:P,role:"label",style:[l.W.root,b],testID:k},(e=>r.createElement(r.Fragment,null,f?r.createElement(n.Z,{style:l.W.decorationContainer},f):null,r.createElement(n.Z,{style:l.W.content},S,C&&x),r.createElement(n.Z,{style:m.radioContainer},r.createElement(d.Z,{disabled:v,interactiveStyles:T,interactivityState:e,style:m.radioBackground},r.createElement(n.Z,{style:[m.circle,g&&m.circleActive,v&&m.circleDisabled,g&&v&&m.circleCheckedAndDisabled]},g?r.createElement(a.default,{style:m.checkMark}):null)),r.createElement("input",{"aria-label":t,"aria-posinset":i,"aria-setsize":p,checked:g,disabled:v,name:E,onChange:g?o.Z:Z,style:h,type:"radio"}))))),C?null:x)},m=u.default.create((e=>({radioBackground:{borderRadius:e.borderRadii.infinite,margin:`-${e.spaces.space8}`,padding:e.spaces.space8},radioContainer:{userSelect:"none",marginStart:e.spaces.space24},nativeControl:{...u.default.absoluteFillObject,cursor:"inherit",height:"100%",margin:0,opacity:0,padding:0,width:"100%"},circleDisabled:{borderColor:e.colors.gray200},circleCheckedAndDisabled:{backgroundColor:e.colors.gray300,borderColor:e.colors.gray300},circle:{alignItems:"center",backgroundColor:e.colors.cellBackground,borderColor:e.colors.gray700,borderStyle:"solid",borderWidth:e.borderWidths.medium,borderRadius:e.spaces.space32,height:e.spaces.space20,justifyContent:"center",width:e.spaces.space20},circleActive:{borderColor:e.colors.primary,backgroundColor:e.colors.primary},checkMark:{width:"18px",height:"18px",color:e.colors.whiteOnColor},descriptionComponent:{marginHorizontal:e.spaces.space32}}))),h={...u.default.absoluteFillObject,cursor:"inherit",height:"100%",margin:0,opacity:0,padding:0,width:"100%"}},896632:(e,t,i)=>{i.d(t,{Z:()=>c});var r=i(202784),n=i(325686),a=i(731708),o=i(392237);let s=1;const l=o.default.create((e=>({header:{alignItems:"flex-start"},row:{flexDirection:"row"},label:{paddingTop:e.spaces.space12,paddingBottom:e.spaces.space4},disabled:{opacity:.5},switchVariant:{padding:e.spaces.space2,backgroundColor:e.colors.gray50,borderRadius:e.borderRadii.large}}))),c=e=>{const{"aria-label":t,backgroundStyles:i,description:o,disabled:c,horizontal:d,label:u,name:p,onChange:m,options:h,renderBorderWhenSelected:g,renderSelector:b,selectorBackgroundStyles:f,switchStyle:y,value:v}=e,w=(()=>{const e=r.useRef("");return r.useEffect((()=>{e.current=`CONTROL_${s}_LABEL`,s+=1}),[]),e})(),E=e=>()=>{m(p,e)};return r.createElement(n.Z,{"aria-label":t,"aria-labelledby":u&&!t?w.current:void 0,role:"radiogroup",style:c&&l.disabled},u?r.createElement(n.Z,{id:w.current,role:"label",style:l.header},r.createElement(a.ZP,{style:l.label,weight:"bold"},u),o?r.createElement(a.ZP,{color:"gray700",size:"subtext2"},o):null):null,r.createElement(n.Z,{style:[d&&l.row,y&&l.switchVariant,i]},h.map(((e,t)=>b({"aria-posinset":t+1,"aria-setsize":h.length,checked:e.value===v,disabled:c,name:p,switchStyle:y,horizontal:d,renderBorderWhenSelected:g,selectorBackgroundStyles:f,onChange:E(e.value),...e})))))}},27137:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(157396);const n=(0,i(587878).Z)({palette:r.CV.light,key:"light-blue-normal",highContrastEnabled:!1,chirpFontEnabled:!1,scale:"normal"})},63274:(e,t,i)=>{i.r(t),i.d(t,{default:()=>l});var r=i(202784),n=i(890601),a=i(783427),o=i(347101);const s=(e={})=>{const{direction:t}=(0,a.Z)();return(0,n.Z)("svg",{...e,role:e["aria-label"]?e.role||"img":void 0,"aria-hidden":void 0===e["aria-label"],style:[o.Z.root,e.style],viewBox:"0 0 17 10",children:r.createElement("g",null,r.createElement("path",{d:"M.043 1.485L1.457.065 8.5 7.115l7.043-7.05 1.414 1.42L8.5 9.935.043 1.485z"}))},{writingDirection:t})};s.metadata={width:17,height:10};const l=s},360816:(e,t,i)=>{i.r(t),i.d(t,{default:()=>c});var r=i(202784),n=i(890601),a=i(783427),o=i(717683),s=i(347101);const l=(e={})=>{const t=r.useContext(o.Z),{direction:i}=(0,a.Z)();return(0,n.Z)("svg",{...e,role:e["aria-label"]?e.role||"img":void 0,"aria-hidden":void 0===e["aria-label"],style:[s.Z.root,e.style,t&&s.Z.iconRTL],viewBox:"0 0 24 24",children:r.createElement("g",null,r.createElement("path",{d:"M3.457 2.04L9 7.59V3h2v8H3V9h4.586L2.043 3.46l1.414-1.42zM19.5 8H14V6h5.5C20.881 6 22 7.12 22 8.5v11c0 1.38-1.119 2.5-2.5 2.5h-11C7.119 22 6 20.88 6 19.5V14h2v5.5c0 .28.224.5.5.5h11c.276 0 .5-.22.5-.5v-11c0-.28-.224-.5-.5-.5z"}))},{writingDirection:i})};l.metadata={width:24,height:24};const c=l},133272:(e,t,i)=>{i.r(t),i.d(t,{default:()=>l});var r=i(202784),n=i(890601),a=i(783427),o=i(347101);const s=(e={})=>{const{direction:t}=(0,a.Z)();return(0,n.Z)("svg",{...e,role:e["aria-label"]?e.role||"img":void 0,"aria-hidden":void 0===e["aria-label"],style:[o.Z.root,e.style],viewBox:"0 0 24 24",children:r.createElement("g",null,r.createElement("path",{d:"M17 7v4c0 2.76-2.239 5-5 5s-5-2.24-5-5V7c0-2.76 2.239-5 5-5s5 2.24 5 5zm-4 12.947c4.677-.504 7.228-4.469 7.949-6.631l-1.896-.635c-.074.217-1.866 5.318-7.052 5.318s-6.979-5.102-7.051-5.316l-1.897.633c.721 2.162 3.271 6.127 7.949 6.631V22h2v-2.053H13z"}))},{writingDirection:t})};s.metadata={width:24,height:24};const l=s},379327:(e,t,i)=>{i.r(t),i.d(t,{default:()=>l});var r=i(202784),n=i(890601),a=i(783427),o=i(347101);const s=(e={})=>{const{direction:t}=(0,a.Z)();return(0,n.Z)("svg",{...e,role:e["aria-label"]?e.role||"img":void 0,"aria-hidden":void 0===e["aria-label"],style:[o.Z.root,e.style],viewBox:"0 0 24 24",children:r.createElement("g",null,r.createElement("path",{d:"M11 11V4h2v7h7v2h-7v7h-2v-7H4v-2h7z"}))},{writingDirection:t})};s.metadata={width:24,height:24};const l=s},364837:(e,t,i)=>{i.d(t,{R:()=>c});var r=i(19697),n=i(549755),a=i(205074);const o=1,s=2,l=3,c=e=>{if((0,a.DS)(e)){if(e.isGif){const{height:t,img:i,orientation:a,width:o}=e;return(0,r.$i)(i,o,t,a).then((e=>(0,r.q8)(e)),(e=>{throw new n.Z("Gif preview could not be generated",l)}))}{const e=new n.Z("The provided image must be a gif",s);return Promise.reject(e)}}{const e=new n.Z("The provided file is not a valid image",o);return Promise.reject(e)}}},193089:(e,t,i)=>{i.d(t,{Z:()=>r});const r=e=>{const t=new Map;return e.forEach((([e,i])=>{t.set(e,i)})),t}},326399:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(827515),n=i(676145);const a=(e,t)=>{if((0,r.Z)(e)&&(0,r.Z)(t)){if(e>t)return 1;if(e<t)return-1}else if((0,n.Z)(e)&&(0,n.Z)(t)){if(e>t)return 1;if(e<t)return-1}else if(o(e)&&o(t)){if(e>t)return 1;if(e<t)return-1}return 0};function o(e){return"boolean"==typeof e}const s=(e,t,i)=>{const s=(0,n.Z)(i)?Array(t.length).fill(i):i,l=t.map((e=>(0,n.Z)(e)?t=>{const i="object"==typeof t?t?.[e]:void 0;return(0,n.Z)(i)||(0,r.Z)(i)||o(i)?i:void 0}:e));return e.concat().sort(((e,t)=>(i,r)=>{for(let n=0;n<e.length;n++){const o=e[n],s=t[n]||"asc",l=a(o(i),o(r));if(0!==l)return"desc"===s?-1*l:l}return 0})(l,s))}},822240:(e,t,i)=>{i.d(t,{Z:()=>r});i(136728);const r=(e,t,i=1)=>{const r=[];for(let n=e;i>0?n<t:n>t;n+=i)r.push(n);return r}},684565:(e,t,i)=>{i.d(t,{C:()=>r});const r=(e,t)=>e.reduce(((e,i)=>{const r=t(i);return"number"==typeof r?e+r:e}),0)}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~ondemand.InlinePlayer~ondem-9bd28fed.ff3d217a.js.map