(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~loader.DMDrawer~bundle.DMRichTextCompose~bundle.DirectMessages-9f4db315"],{721879:e=>{e.exports={queryId:"Olw-OJOhKTC30FzvBW4Lbg",operationName:"BookmarkFolderTimeline",operationType:"query",metadata:{featureSwitches:["rweb_video_screen_enabled","payments_enabled","profile_label_improvements_pcf_label_in_post_enabled","rweb_tipjar_consumption_enabled","verified_phone_label_enabled","creator_subscriptions_tweet_preview_api_enabled","responsive_web_graphql_timeline_navigation_enabled","responsive_web_graphql_skip_user_profile_image_extensions_enabled","premium_content_api_read_enabled","communities_web_enable_tweet_community_results_fetch","c9s_tweet_anatomy_moderator_badge_enabled","responsive_web_grok_analyze_button_fetch_trends_enabled","responsive_web_grok_analyze_post_followups_enabled","responsive_web_jetfuel_frame","responsive_web_grok_share_attachment_enabled","articles_preview_enabled","responsive_web_edit_tweet_api_enabled","graphql_is_translatable_rweb_tweet_is_translatable_enabled","view_counts_everywhere_api_enabled","longform_notetweets_consumption_enabled","responsive_web_twitter_article_tweet_consumption_enabled","tweet_awards_web_tipping_enabled","responsive_web_grok_show_grok_translated_post","responsive_web_grok_analysis_button_from_backend","creator_subscriptions_quote_tweet_preview_enabled","freedom_of_speech_not_reach_fetch_enabled","standardized_nudges_misinfo","tweet_with_visibility_results_prefer_gql_limited_actions_policy_enabled","longform_notetweets_rich_text_read_enabled","longform_notetweets_inline_media_enabled","responsive_web_grok_image_annotation_enabled","responsive_web_grok_community_note_auto_translation_is_enabled","responsive_web_enhance_cards_enabled"],fieldToggles:["withAuxiliaryUserLabels","withArticleRichContentState","withArticlePlainText","withGrokAnalyze","withDisallowedReplyControls"]}}},218276:e=>{e.exports={queryId:"i78YDd0Tza-dV4SYs58kRg",operationName:"BookmarkFoldersSlice",operationType:"query",metadata:{featureSwitches:[],fieldToggles:[]}}},295904:e=>{e.exports={queryId:"4KHZvvNbHNf07bsgnL9gWA",operationName:"bookmarkTweetToFolder",operationType:"mutation",metadata:{featureSwitches:[],fieldToggles:[]}}},549186:e=>{e.exports={queryId:"FiBK5AU13TfLV9K0R_rQ2w",operationName:"Bookmarks",operationType:"query",metadata:{featureSwitches:["rweb_video_screen_enabled","payments_enabled","profile_label_improvements_pcf_label_in_post_enabled","rweb_tipjar_consumption_enabled","verified_phone_label_enabled","creator_subscriptions_tweet_preview_api_enabled","responsive_web_graphql_timeline_navigation_enabled","responsive_web_graphql_skip_user_profile_image_extensions_enabled","premium_content_api_read_enabled","communities_web_enable_tweet_community_results_fetch","c9s_tweet_anatomy_moderator_badge_enabled","responsive_web_grok_analyze_button_fetch_trends_enabled","responsive_web_grok_analyze_post_followups_enabled","responsive_web_jetfuel_frame","responsive_web_grok_share_attachment_enabled","articles_preview_enabled","responsive_web_edit_tweet_api_enabled","graphql_is_translatable_rweb_tweet_is_translatable_enabled","view_counts_everywhere_api_enabled","longform_notetweets_consumption_enabled","responsive_web_twitter_article_tweet_consumption_enabled","tweet_awards_web_tipping_enabled","responsive_web_grok_show_grok_translated_post","responsive_web_grok_analysis_button_from_backend","creator_subscriptions_quote_tweet_preview_enabled","freedom_of_speech_not_reach_fetch_enabled","standardized_nudges_misinfo","tweet_with_visibility_results_prefer_gql_limited_actions_policy_enabled","longform_notetweets_rich_text_read_enabled","longform_notetweets_inline_media_enabled","responsive_web_grok_image_annotation_enabled","responsive_web_grok_community_note_auto_translation_is_enabled","responsive_web_enhance_cards_enabled"],fieldToggles:["withAuxiliaryUserLabels","withArticleRichContentState","withArticlePlainText","withGrokAnalyze","withDisallowedReplyControls"]}}},769948:e=>{e.exports={queryId:"6Xxqpq8TM_CREYiuof_h5w",operationName:"createBookmarkFolder",operationType:"mutation",metadata:{featureSwitches:[],fieldToggles:[]}}},871585:e=>{e.exports={queryId:"skiACZKC1GDYli-M8RzEPQ",operationName:"BookmarksAllDelete",operationType:"mutation",metadata:{featureSwitches:[],fieldToggles:[]}}},418631:e=>{e.exports={queryId:"2UTTsO-6zs93XqlEUZPsSg",operationName:"DeleteBookmarkFolder",operationType:"mutation",metadata:{featureSwitches:[],fieldToggles:[]}}},734701:e=>{e.exports={queryId:"a6kPp1cS1Dgbsjhapz1PNw",operationName:"EditBookmarkFolder",operationType:"mutation",metadata:{featureSwitches:[],fieldToggles:[]}}},630986:e=>{e.exports={queryId:"2Qbj9XZvtUvyJB4gFwWfaA",operationName:"RemoveTweetFromBookmarkFolder",operationType:"mutation",metadata:{featureSwitches:[],fieldToggles:[]}}},403911:(e,t,o)=>{"use strict";o.d(t,{Z:()=>M});var r=o(506899),a=o(163889),n=o(414742),i=o(703710);const s=new r.fK.Entity("bookmarkFolders",{});var l=o(218276),d=o.n(l),c=o(721879),u=o.n(c),p=o(549186),m=o.n(p),_=o(295904),h=o.n(_),b=o(769948),f=o.n(b),w=o(871585),g=o.n(w),v=o(418631),y=o.n(v),k=o(734701),P=o.n(k),D=o(630986),I=o.n(D),C=o(934309);const E={result:[],entities:{},slice_info:{}},Z=(e,t)=>{const o=t?.bookmark_all_delete,r="Done"===o;return r||(0,a.ZP)("GQL Bookmarks: Failed to delete all bookmarks"),(0,n.jB)(e)||!r},F=(0,n.kj)((e=>{const t=e?.viewer?.user_results?.result,o="User"===t?.__typename?t:void 0,r=o?.bookmark_collections_slice?.items;return!r}),"GQL Bookmark Folders: Failed to render Bookmark Folders timeline"),T=(0,n.kj)((e=>{const t=e?.bookmark_collection_timeline?.timeline;return!t}),"GQL Bookmark Folders: Failed to render Bookmark Folders timeline"),M=({apiClient:e,featureSwitches:t})=>({bookmarkTweetToFolder:t=>e.graphQL(h(),{...t},(0,n.kj)((e=>!e.bookmark_collection_tweet_put),"GQL Bookmark Folders: failed to Add Tweet to Bookmark Folder")),createBookmarkFolder:t=>e.graphQL(f(),{...t},(0,n.kj)((e=>!e.bookmark_collection_create),"GQL Bookmark Folders: failed to Create Bookmark Folder")),deleteAll:()=>e.graphQL(g(),{},Z).then((e=>e)),deleteBookmarkFolder(t){const{bookmarkFolderId:o}=t;return e.graphQL(y(),{bookmark_collection_id:o})},editBookmarkFolder(t){const{bookmarkFolderId:o,name:r}=t;return e.graphQL(P(),{bookmark_collection_id:o,name:r})},removeTweetFromBookmarkFolder(t){const{bookmarkFolderId:o,tweetId:r}=t;return e.graphQL(I(),{bookmark_collection_id:o,tweet_id:r})},fetchBookmarksTimeline:({count:o,cursor:r})=>e.graphQL(m(),{count:o,cursor:r,includePromotedContent:!0,...(0,i.d)(t)},((e,t)=>!t?.bookmark_timeline_v2?.timeline)).then((e=>e?.bookmark_timeline_v2?.timeline||C.cY)),fetchBookmarkFolderTimeline:({bookmark_collection_id:o,cursor:r})=>e.graphQL(u(),{bookmark_collection_id:o,cursor:r,includePromotedContent:!0,...(0,i.d)(t)},T).then((e=>e?.bookmark_collection_timeline?.timeline||C.cY)),fetchBookmarkFoldersSlice:t=>t?e.graphQL(d(),t,F).then((e=>{const t=e?.viewer?.user_results?.result,o="User"===t?.__typename?t:void 0,a=o?.bookmark_collections_slice;if(a){const{entities:e,result:t}=(0,r.Fv)(a.items,[s]);return{entities:e,result:t,slice_info:a.slice_info}}return E})):Promise.resolve(E)})},290402:(e,t,o)=>{"use strict";o.d(t,{Z:()=>_});var r=o(807896),a=o(202784),n=o(182056),i=o(879113),s=o(392237),l=o(111677),d=o.n(l),c=o(968478);const u=d().aa6e3300,p=({retryMessage:e,...t},o)=>{const s=n.Z.isOnline();return a.createElement(i.Z,(0,r.Z)({},t,{icon:s?void 0:a.createElement(c.default,{style:m.icon}),retryMessage:s?e:u}))},m=s.default.create((e=>({icon:{color:e.colors.gray700,fontSize:e.spaces.space32}}))),_=a.forwardRef(p)},333241:(e,t,o)=>{"use strict";o.d(t,{Z:()=>y});o(136728);var r=o(202784),a=o(638236),n=o(811176),i=o(111677),s=o.n(i),l=o(415506),d=o(516951),c=o(376293),u=o(847607),p=o(417714),m=o(988823);const _="block",h="mute",b="removeFollower",f="report",w="share",g=s().j7bb1a43,v=s().g00b4c55,y=(0,m.M)((e=>{const{onBlock:t,onClose:o,onMute:i,onRemoveFollower:s,onReportUser:m,onShare:y,onUnblock:k,onUnmute:P,user:D}=e,I=[],C=(t,o)=>{const{confirm:r,onClose:a}=e;if(t){const{label:e,...n}=t;r({confirmButtonLabel:e,...n}).then(o,d.Z).finally(a)}else o()};!!window.navigator.share&&!D.protected&&!D.blocking&&!D.blocked_by&&I.push({Icon:a.Z,onClick:()=>{o(),y()},testID:w,text:v({screenName:D.screen_name})});!D.blocking&&I.push({...(0,u.N1)(D,(()=>{o(),i()}),(()=>{o(),P()})),testID:h});D.followed_by&&I.push({...(0,p.l)({removeFollowerAction:e=>{C(e,s)},user:D}),testID:b}),I.push((0,c.op)({blockAction:e=>C(e,t),source:c.SC.FOLLOWERS_LIST,testID:_,unblockAction:e=>C(e,k),user:D})),I.push({Icon:l.default,onClick:()=>{o(),m()},testID:f,text:g({screenName:D.screen_name})});const E=I.map((({Icon:e,onClick:t,testID:o,text:r})=>({text:r,onClick:t,Icon:e,testID:o})));return r.createElement(n.Z,{items:E,onCloseRequested:o})}))},113392:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});o(136728);var r=o(202784),a=o(154003),n=o(392237),i=o(111677),s=o.n(i),l=o(937450),d=o(725516);const c=s().a4993fa2,u=s().i0db46e6,p=n.default.create((e=>({icon:{color:e.colors.gray700}}))),m=({dmConversationId:e,enabled:t=!0,gifSearchKeySource:o,history:n,isWebRedesign:i,onPress:s,style:m,testID:_})=>{const h=(0,d.z)(),b=r.useCallback((()=>{s&&s(),h.scribe({element:"found_media_button",action:"click"}),n.push({pathname:"/i/foundmedia/search",state:{gifSearchKeySource:o,dmConversationId:e}})}),[e,h,o,n,s]);return r.createElement(a.ZP,{"aria-label":c,disabled:!t,hoverLabel:{label:u},icon:r.createElement(l.default,{style:i&&p.icon}),onPress:b,size:"medium",style:m,testID:_,type:i?"primaryText":"brandText"})}},373554:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f,h:()=>h});var r=o(807896),a=o(202784),n=o(449161),i=o(392237),s=o(111677),l=o.n(s),d=o(473026),c=o(276259),u=o(540387);const p="fileInput",m=l().b9960f32,_=a.createElement(d.default,null),h=({acceptGifs:e,acceptImages:t=!0,acceptVideo:o})=>(t?c.v5:[]).concat(e?[c.Re]:[]).concat(o?u.jn:[]);const b=i.default.create((e=>({root:{margin:`-${e.spaces.space12}`}}))),f=function({"aria-label":e=m,acceptGifs:t=!0,acceptImages:o=!0,acceptVideo:i=!0,customMimeTypes:s=[],icon:l=_,size:d="medium",style:c,withIcon:u=!0,...f}){const w=h({acceptGifs:t,acceptImages:o,acceptVideo:i}).concat(s).join(",");return a.createElement(n.Z,(0,r.Z)({},f,{accept:w,"aria-label":e,icon:u?l:void 0,size:d,style:[b.root,c],testID:p}))}},751170:(e,t,o)=>{"use strict";o.d(t,{A:()=>_,Z:()=>w});var r=o(202784),a=o(325686),n=o(167630),i=o(992942),s=o(392237),l=o(111677),d=o.n(l),c=o(205074),u=o(364837),p=o(908478);const m=d().gff1f69e,_=Object.freeze({INFINITE:"infinite",MEDIUM:"medium",NONE:"none"});class h extends r.Component{constructor(...e){super(...e),this.state={imagePreviewUrl:null},this._getImageSrc=()=>{const{enableGif:e,mediaItem:t}=this.props,{imagePreviewUrl:o}=this.state;if(t&&t.mediaFile)return t.mediaFile.isGif&&!e?o:t.mediaFile.url}}componentDidUpdate(){const{enableGif:e,mediaItem:{mediaFile:t}}=this.props,{imagePreviewUrl:o}=this.state;e||o||t instanceof c.ZP&&t.isGif&&(0,u.R)(t).then((e=>{this.setState({imagePreviewUrl:e})}))}shouldComponentUpdate(e,t){return!(0,p.Z)(e,this.props)||!(0,p.Z)(t,this.state)}render(){const{borderRadius:e,enableGif:t,mediaItem:o,onClick:s,resizeMode:l}=this.props,{imagePreviewUrl:d}=this.state||{},c=o.mediaFile&&o.mediaFile.isGif&&!t&&!d,u=o.needsProcessing||c,p=[f.root,b[e],u&&f.loadingBorder],_=this._getImageSrc();return r.createElement(a.Z,{onClick:s,style:p},u||!_?r.createElement(n.Z,{"aria-label":m,style:f.activityIndicator}):r.createElement(i.Z,{resizeMode:l,source:_,style:f.image}))}}h.defaultProps={borderRadius:_.NONE,enableGif:!0,resizeMode:"cover"};const b=s.default.create((e=>({[_.INFINITE]:{borderRadius:e.borderRadii.infinite},[_.MEDIUM]:{borderRadius:e.borderRadii.small},[_.NONE]:{borderRadius:e.borderRadii.none}}))),f=s.default.create((e=>({root:{borderRadius:e.borderRadii.xLarge,borderStyle:"solid",borderWidth:e.borderWidths.none,borderColor:"transparent",maxWidth:"100%",height:"100%",overflow:"hidden"},image:{display:"block",height:"100%",width:"100%"},loadingBorder:{borderColor:e.colors.gray300},activityIndicator:{height:"100%"}}))),w=h},304059:(e,t,o)=>{"use strict";o.d(t,{Z:()=>O});var r=o(202784),a=o(325686),n=o(537392),i=o(336961),s=o(659651),l=o(154003),d=o(392237),c=o(992942),u=o(111677),p=o.n(u),m=o(678773),_=o(597237),h=o(254944),b=o(837020),f=o(276259),w=o(443781),g=o(10656),v=o(716233),y=o(946208),k=o(540387),P=o(950822),D=o(303186),I=o(954300);class C extends r.Component{constructor(...e){super(...e),this._setVideoRef=e=>{const{getVideoRef:t}=this.props;t&&t(e)}}render(){const{children:e,dataSaverMode:t,getVideoRef:o,style:a,variants:n,...i}=this.props,s=(0,D.IM)((0,I.rD)(n),t);return(0,P.Z)("video",{...i,children:[s.map((e=>r.createElement("source",{key:e.src,src:e.src,type:e.type}))),e],ref:this._setVideoRef,style:a})}}C.defaultProps={dataSaverMode:!1,variants:[]};var E=o(959587),Z=o(751170),F=o(523561),T=o(195560);const M=(0,F.Z)({loader:()=>Promise.all([o.e("icons.0"),o.e("icons.10"),o.e("icons.14"),o.e("icons.20"),o.e("modules.common-e907d115"),o.e("modules.common-e019dbda"),o.e("icons.24"),o.e("modules.audio-6107ac1a"),o.e("modules.audio-b953418a"),o.e("modules.audio-7c51e6a7"),o.e("modules.audio-04db59e9"),o.e("modules.audio-76583d6c"),o.e("modules.audio-b7a8a5fb"),o.e("modules.audio-51f6e793"),o.e("modules.audio-e019dbda"),o.e("modules.audio-262c94d4"),o.e("modules.audio-c6fe4ea4"),o.e("icons.26"),o.e("icons.3"),o.e("icons.9"),o.e("shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~bundle.GrokDrawer~ondemand.-289382e4"),o.e("shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~bundle.GrokDrawer~ondemand.-d2034e67"),o.e("shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~bundle.GrokDrawer~ondemand.-b903813c"),o.e("shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~bundle.GrokDrawer~ondemand.-2ff6f611"),o.e("shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~bundle.GrokDrawer~ondemand.-828b2167"),o.e("shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~bundle.GrokDrawer~ondemand.-84f39d3f"),o.e("shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~bundle.GrokDrawer~ondemand.-0bfd6d7b"),o.e("shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~bundle.GrokDrawer~ondemand.-23859224"),o.e("shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~bundle.GrokDrawer~ondemand.-91facaf4"),o.e("shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~bundle.GrokDrawer~ondemand.-6365605c"),o.e("shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~bundle.GrokDrawer~ondemand.-d60bd222"),o.e("shared~loader.Dock~loaders.video.PlayerBase~bundle.TwitterArticles~bundle.ComposeMedia~bundle.DockPe-169fd384"),o.e("shared~loader.Dock~loaders.video.PlayerBase~bundle.TwitterArticles~bundle.ComposeMedia~bundle.DockPe-158ede41"),o.e("shared~loader.Dock~loaders.video.PlayerBase~bundle.TwitterArticles~bundle.ComposeMedia~bundle.DockPe-43dc6c10"),o.e("shared~loader.Dock~loaders.video.PlayerBase~bundle.TwitterArticles~bundle.ComposeMedia~bundle.DockPe-3275b397"),o.e("shared~loaders.video.VideoPlayerDefaultUI~loaders.video.VideoPlayerMiniUI~loaders.video.VideoPlayerHashtagHig"),o.e("loader.MediaPreviewVideoPlayer")]).then(o.bind(o,298607)).then((e=>({default:e.__DANGEROUS_IMPORT_VIDEOPLAYER__}))),renderPlaceholder:(e,t)=>r.createElement(T.Z,{hasError:e,onRetry:t})}),S=p().gd80afba,A=p().j322caee,L=p().abd845fe,N=p().df1b0708,x=p().cd959e5c,U=p().e68b09b4,B=p().add55c98,R=p().f350cf46;class V extends r.Component{constructor(...e){super(...e),this.state={isVideoPaused:!0,playGif:!1},this._handleGifClick=()=>{this.setState({playGif:!this.state.playGif})},this._handleMediaPreviewLayout=e=>{const{mediaItem:t,resizeIfNeeded:o}=this.props,r=t.mediaFile||t.externalMediaDetails;if(!r)return;const{nativeEvent:{layout:{height:a,width:n}}}=e,{height:i,width:s}=r,l=s/i;Math.abs(l-n/a)>.05&&("width"===o?this.setState({mediaContainerSizeStyle:{width:a*l}}):"height"===o&&this.setState({mediaContainerSizeStyle:{height:n/l}}))},this._handleVideoOnPlay=e=>{this.setState({isVideoPaused:!1})},this._handleVideoOnPause=e=>{this.setState({isVideoPaused:!0})},this._setVideoRef=e=>{this._video=e},this.playVideo=()=>{if(this._video){const e=this._video.play();void 0!==e&&e.then((e=>{this._handleVideoOnPlay()})).catch()}},this.pauseVideo=()=>{this._video&&(this._video.pause(),this._handleVideoOnPause())}}render(){const{"aria-label":e,enableGif:t,mediaItem:o,onEdit:d,onEditSensitiveWarning:c,onRemove:u,role:p,style:w,withAltTextLabel:v,withCloseButton:y,withDragAndDropIndicator:k,withEditButton:P,withEditIcon:D,withEditSensitiveWarningButton:I}=this.props,{mediaContainerSizeStyle:C,playGif:Z}=this.state,F=o.externalMediaDetails&&o.externalMediaDetails.mediaType===f.Re,T=F||t&&o.mediaFile&&o.mediaFile.isGif,M=!!o.mediaFile?.isVideo;return r.createElement(n.ZP,null,(({windowWidth:t})=>{const o=void 0!==D?D:!g.Z.isTwoColumnLayout(t);return r.createElement(a.Z,{"aria-label":e||B,onLayout:this._handleMediaPreviewLayout,role:p,style:[w,z.cursor,F&&z.gifPlayButton,C]},this._renderPreview(),F&&!Z&&r.createElement(i.Z,{"aria-label":N,onPress:this._handleGifClick,size:"small"}),T?r.createElement(E.ZP,{type:E.AM}):null,v&&!M?r.createElement(s.Z,{align:"left",altLabel:e}):null,r.createElement(a.Z,{style:z.editMedia},k?r.createElement(l.ZP,{"aria-label":R,hoverLabel:{label:R},icon:r.createElement(m.default,null),size:"small",type:"onMediaDominantColorFilled"}):null,P&&I?r.createElement(l.ZP,{"aria-label":A,icon:r.createElement(_.default,{style:z.editSensitiveWarningIcon}),onPress:c,size:"small",type:"onMediaDominantColorFilled"}):null,P?r.createElement(l.ZP,{"aria-label":S,icon:o?r.createElement(h.default,null):void 0,onPress:d,size:o?"xSmall":"small",type:"onMediaDominantColorFilled"},o?void 0:L):null),y?r.createElement(l.ZP,{"aria-label":x,hoverLabel:{label:U},icon:r.createElement(b.default,null),onPress:u,size:"small",style:z.buttonRight,type:"onMediaDominantColorFilled"}):null)}))}_renderPreview(){const{mediaItem:e}=this.props;if(e.externalMediaDetails){const t=e.externalMediaDetails.previewUrl,o=e.externalMediaDetails.stillMediaUrl;return this._renderGifPreview(t,o)}return e.mediaFile?.isVideo?this._renderVideoPreview(e.mediaFile.type,e.mediaFile.url,e.id,e.mediaFile):r.createElement(a.Z,{style:d.default.absoluteFill},this._renderImagePreview())}_renderGifPreview(e,t){const{playGif:o}=this.state,n={uri:o?e:t};return r.createElement(a.Z,{onClick:this._handleGifClick,style:d.default.absoluteFill},r.createElement(c.Z,{resizeMode:"cover",source:n,style:z.video}))}_renderImagePreview(){const{borderRadius:e,enableGif:t,imageResizeMode:o,mediaItem:a,onClick:n}=this.props;return r.createElement(Z.Z,{borderRadius:e,enableGif:t,mediaItem:a,onClick:n,resizeMode:o})}_renderVideoPreview(e,t,o,a){const{mediaItem:n}=this.props,i=n.mediaMetadata?.subtitles;if(this.context.featureSwitches.isTrue("responsive_web_composer_configurable_video_player_enabled")&&a instanceof k.ZP){let i=[];(0,v.TO)(a.fileHandle)&&(i=[{src:t,type:e}]);const s=n.mediaMetadata?.subtitles,l=n?.trimData;return r.createElement(M,{mediaFile:a,mediaId:String(o),mediaItem:n,subtitles:s,trimData:l,variants:i})}{const o=(0,v.TO)(a.fileHandle)?[{content_type:e,url:t}]:[];return r.createElement(C,{autoPlay:!1,controls:!0,getVideoRef:this._setVideoRef,loop:!0,muted:!0,onPause:this._handleVideoOnPause,onPlay:this._handleVideoOnPlay,playsInline:!0,poster:a instanceof k.ZP?a.thumbnail:"",style:z.video,variants:o},i?.upload?.mediaFile instanceof y.ZP?r.createElement("track",{default:!0,kind:"subtitles",label:i.displayName,src:i.upload.mediaFile.vtt,srcLang:i.lang}):null)}}}V.contextType=w.rC,V.defaultProps={enableGif:!0,withCloseButton:!0,withAltTextLabel:!1,withEditButton:!1,withEditSensitiveWarningButton:!1};const z=d.default.create((e=>({buttonLeft:{position:"absolute",start:e.spaces.space4,top:e.spaces.space4},buttonRight:{position:"absolute",end:e.spaces.space4,top:e.spaces.space4},cursor:{cursor:"pointer"},editSensitiveWarningIcon:{color:e.colors.primary},editMedia:{display:"flex",start:e.spaces.space4,top:e.spaces.space4,gap:e.spaces.space4,flexDirection:"row",position:"absolute"},editImage:{bottom:e.spaces.space4},editVideo:{top:e.spaces.space4},gifPlayButton:{alignItems:"center",justifyContent:"center"},video:{height:"100%",width:"100%"}}))),O=V},46705:(e,t,o)=>{"use strict";o.d(t,{X:()=>r,g:()=>a});const r=e=>({id:e,distanceToViewportTop:0}),a=e=>({id:e,distanceToViewportBottom:0})},334346:(e,t,o)=>{"use strict";o.d(t,{C:()=>l,Z:()=>s});var r=o(807896),a=o(202784),n=o(524084),i=o(768572);const s="stable_sort_index",l=a.forwardRef(((e,t)=>{const o=e.cacheKey;return a.createElement(i.ZP,{identifier:o},a.createElement(n.Z,(0,r.Z)({ref:t},e)))}))},373981:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});const r={...o(332878).Z,pinToNewestWhenAtNewest:!0}},332878:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});function r(e){return"_listHeader"===e||"_listFooter"===e}const a=(e,t,o)=>{const r=e(t),a=e(o);return!r&&a?-1:r&&!a?1:0},n=(e,t,o)=>i(e(o),e(t)),i=(e,t)=>e<t?-1:e>t?1:0,s=(e,t)=>{if(e.length)return e.reduce(((e,o)=>t(o,e)>0?o:e))},l=({nextPos:e,prevPos:t})=>{const o=t.getForViewport(),i=e=>e&&e.doesIntersectWith(o),l=e=>e?Math.abs(o.getTop()-e.getTop()):1/0,d=e.getList().filter((({id:o})=>!r(o)&&t.isRendered(o)&&e.isRendered(o))),c=d.length>0?s(d,((e,o)=>{const r=t.getForItem(e.id),s=t.getForItem(o.id);return a(i,r,s)||n(l,r,s)})):null;return c&&c.id},d={initialScrollHeadroom:e=>e.getRect().getHeight(),offsetToAnchor:(e,t)=>{const{distanceToViewportBottom:o,distanceToViewportTop:r,id:a}=t;if("number"==typeof r){const t=e.getForViewport().getTop()+r;return e.getForItem(a).getTop()-t}if("number"==typeof o){const t=e.getForViewport().getBottom()+o;return e.getForItem(a).getBottom()-t}return 0},scrollHeadroom:e=>{const t=e.getForList().getBottom(),o=e.getForViewport().getBottom();return Math.max(0,o-t)},anchorCandidates:e=>{const t=e.getForViewport().getTop();return e.findVisibleItems().filter((({id:e})=>!r(e))).map((({id:e,rectangle:o})=>({id:e,distanceToViewportTop:o.getTop()-t})))},pinToNewestWhenAtNewest:!1,offsetCorrection(e,t){if(e.getForViewport().getTop()<=e.getForList().getTop()&&this.pinToNewestWhenAtNewest)return 0;const o=l({prevPos:e,nextPos:t});if(o){const r=e.getForItem(o).getTop()-e.getForViewport().getTop();return t.getForItem(o).getTop()-t.getForViewport().getTop()-r}return 0}}},181746:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var r=o(202784),a=o(731708),n=o(111677),i=o.n(n);const s=r.createElement(a.ZP,{link:"/settings/safety"}),l=e=>r.createElement(i().I18NFormatMessage,{$i18n:"d6db6323"},r.cloneElement(s,null,i().daf6bf02))},864479:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var r=o(807896),a=o(202784),n=o(771099);const i=e=>t=>a.createElement(n.$6,null,(o=>a.createElement(e,(0,r.Z)({},t,{isInSidebar:o}))))},959587:(e,t,o)=>{"use strict";o.d(t,{AM:()=>l,ZP:()=>p,pX:()=>d});var r=o(202784),a=o(731708),n=o(659651),i=o(392237),s=o(548721);const l="animated_gif",d="video",c=e=>{const{durationInMilliseconds:t,type:o}=e;let i;if(o===l)i=r.createElement(a.ZP,{weight:"bold"},"GIF");else if("vine"===o)i=r.createElement(s.default,{"aria-label":"Vine",style:u.icon});else if(o===d&&t){const e=Math.trunc(t/6e4).toString(),o=Math.trunc(t%6e4/1e3).toString().padStart(2,"0");i=r.createElement(a.ZP,{color:"white"},`${e}:${o}`)}return i?r.createElement(n.Z,{align:"left"},i):null},u=i.default.create((e=>({icon:{color:e.colors.white}}))),p=r.memo(c)},90511:(e,t,o)=>{"use strict";o.d(t,{ZP:()=>M,dm:()=>Z});var r=o(202784),a=o(99107),n=o(325686),i=o(154003),s=o(392237),l=o(111677),d=o.n(l),c=o(837020),u=o(666536),p=o(908478),m=o(500914),_=o(443781),h=o(260137),b=o(71620),f=o(668214),w=o(276001),g=o(798538),v=o(465814),y=o(632960);function k(e,t,o){const{urls:r}=t,a=[...r];let n;for(const t of a.reverse())if(n=o(e,t),n)break;return n}const P=(e,t)=>k(e,t,w.Z.select),D=(e,t)=>k(e,t,v.Z.select),I=(0,f.Z)().propsFromState((()=>({card:P,legacyAndUnifiedCard:D}))).propsFromActions((()=>({createLocalApiErrorHandler:(0,b.zr)("COMPOSER_CARD_PREVIEW"),fetchCardPreviewIfNeeded:w.Z.fetchCardPreviewIfNeeded,updateDMComposer:g.G6,updateTweetComposer:y.zi}))),C=d().f6fec9f6,E=/^https?:\/\//i,Z=e=>{const t=(0,m.Z)(e);if(t.length)return t.map((e=>!E.test(e)&&`http://${e}`||e))};class F extends r.Component{constructor(e,t){super(e,t),this._fetchCardPreviewIfNeeded=()=>{const{createLocalApiErrorHandler:e,fetchCardPreviewIfNeeded:t,urls:o}=this.props;o.forEach((o=>{t(o).catch(e())}))},this._handleCardPreviewDismissal=e=>this._updateSingleComposer({cardUrl:a.p_}),this._updateSingleComposer=e=>{const{conversationId:t,index:o,updateDMComposer:r,updateTweetComposer:a}=this.props,{cardUrl:n}=e||{};this._isDMComposer?t&&r(t,n):a({updates:{cardUrl:n},index:o})},this._debouncedFetchCardPreview=(0,u.Z)(this._fetchCardPreviewIfNeeded,1e3),this._isDMComposer=!!e.conversationId}componentDidMount(){this._debouncedFetchCardPreview()}componentDidUpdate(e){const{urls:t}=this.props;(0,p.Z)(e.urls,t)||this._debouncedFetchCardPreview()}componentWillUnmount(){this._updateSingleComposer()}render(){const{isCardPreviewTombstoned:e,style:t}=this.props,{viewerUserId:o}=this.context;if(e||!o)return null;const a=this._getCards();return a?r.createElement(n.Z,{style:t},r.createElement(h.default,{card:a.legacyCard,cardContext:{tweetUserId:o,tweetId:"0"},isInteractive:!1,preventVideoPlayback:!0,unifiedCard:a.unifiedCard}),r.createElement(i.ZP,{"aria-label":C,icon:r.createElement(c.default,null),onPress:this._handleCardPreviewDismissal,size:"xSmall",style:T.closeButton,type:"onMediaDominantColorFilled"})):null}_getCards(){const{card:e,legacyAndUnifiedCard:t}=this.props,o={legacyCard:e?{name:e.name,url:e.url,binding_values:e.binding_values}:t?.legacyCard,unifiedCard:t?.unifiedCard};if(o.legacyCard||o.unifiedCard)return o}}F.contextType=_.rC;const T=s.default.create((e=>({closeButton:{position:"absolute",top:e.spaces.space4,start:e.spaces.space4}}))),M=I(F)},449950:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var r=o(807896),a=o(202784),n=o(530525),i=o(659651),s=o(111677),l=o.n(s),d=o(632658);const c="image",u=l().f93bb3ee;class p extends a.Component{constructor(...e){super(...e),this._renderContent=({resourceSelectionHandler:e,useMinimumData:t})=>{const{"aria-label":o,hideAcceptOverlay:s,shouldShowAltLabel:l,...d}=this.props;return a.createElement(a.Fragment,null,a.createElement(n.Z,(0,r.Z)({},d,{"aria-label":o,onVariantSelection:e,previewMode:t,testID:c})),l?a.createElement(i.Z,{align:"left",altLabel:o}):null)}}render(){const{hideAcceptOverlay:e,image:t}=this.props;return a.createElement(d.Z,{acceptLabel:u,hideAcceptOverlay:e,renderContent:this._renderContent,resourceId:"string"==typeof t?t:t.url})}}},737613:(e,t,o)=>{"use strict";o.d(t,{Z:()=>b});var r=o(202784),a=o(325686),n=o(834324),i=o(392237),s=o(111677),l=o.n(s),d=o(125363),c=o(390387),u=o(919022);const p=l().aacfbe55,m=l().ga8627cd,_=l().e6d2573f,h=l().d37a3e15,b=e=>{const{isReply:t,style:o,type:i}=e,s=(0,d.v9)(c.Lz),l=(0,d.v9)(u.ZP.selectViewerUser),b=s?l?.screen_name:void 0,w=r.useMemo((()=>[f.root,o]),[o]);let g=p({screenName:b});return"Tweet"===i&&t?g=m({screenName:b}):"DM"===i?g=_({screenName:b}):"List"===i&&(g=h({screenName:b})),b?r.createElement(a.Z,{style:w},r.createElement(n.Z,{text:g})):null},f=i.default.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingBottom:e.spaces.space12}})))},293988:(e,t,o)=>{"use strict";o.d(t,{Z:()=>P});var r=o(202784),a=o(154003),n=o(111677),i=o.n(n),s=o(74514),l=o(405303),d=o(684511),c=o(860174),u=o(71620),p=o(668214),m=o(257166),_=o(919022);const h=(e,t)=>!(!t.allowPromptForPush||!m.selectShouldPromptBrowserPush(e)),b=(0,p.Z)().propsFromState((()=>({shouldPromptPush:h}))).propsFromActions((()=>({createLocalApiErrorHandler:(0,u.zr)("DEVICE_FOLLOW_BUTTON_CONTAINER"),updateDeviceFollowing:_.ZP.updateDeviceFollowing}))).withAnalytics({element:"mobile_notifications"}),f=i().bdba3e1a,w=i().c4da7d28,g=i().j87c21f4,v=i().iebc30ca,y=i().dc740eb2;class k extends r.PureComponent{constructor(e){super(e),this._renderButton=()=>{const{isFollowing:e,style:t}=this.props;return e?r.createElement(a.ZP,{"aria-label":w,hoverLabel:{label:v},icon:r.createElement(s.default,null),onPress:this._handleUnfollow,style:t,type:"primaryOutlined"}):r.createElement(a.ZP,{"aria-label":f,hoverLabel:{label:g},icon:r.createElement(l.default,null),onPress:this._handleFollow,style:t,type:"primaryOutlined"})},this._handleFollow=()=>{const{isDeviceFollowWithoutUserFollow:e,shouldPromptPush:t}=this.props;t&&this.setState({showingPushPrompt:!0}),this._updateDeviceFollowing(!0).then((t=>{e&&this._scribeAction("device_follow_without_follow"),this._scribeAction("on")}))},this._handleUnfollow=()=>{const{isDeviceFollowWithoutUserFollow:e}=this.props;this._updateDeviceFollowing(!1).then((t=>{e&&this._scribeAction("device_unfollow_without_follow"),this._scribeAction("off")}))},this.state={showingPushPrompt:!1}}render(){return r.createElement("div",null,this.state.showingPushPrompt?r.createElement(d.Z,{fullScreen:!0,message:y}):null,this._renderButton())}_updateDeviceFollowing(e){const{createLocalApiErrorHandler:t,updateDeviceFollowing:o,userId:r}=this.props;return o(r,{device:e}).catch(t(c.Z))}_scribeAction(e){const{analytics:t}=this.props;t.scribeAction(e)}}const P=b(k)},490834:(e,t,o)=>{"use strict";o.d(t,{Z:()=>T});var r=o(202784),a=o(576648),n=o(811176),i=o(731708),s=o(530732),l=o(992942),d=o(392237),c=o(111677),u=o.n(c),p=o(630715),m=o(950822),_=o(138099),h=o(154003);const b=u().cfd2f35e;class f extends r.Component{constructor(...e){super(...e),this._handleOnFocus=e=>{e.currentTarget.select()}}render(){const{cancelButtonLabel:e,description:t,headerText:o,link:a,onCancel:n}=this.props,s=(0,m.Z)("input",{autoFocus:!0,onFocus:this._handleOnFocus,readOnly:!0,style:w.linkInput,value:a});return r.createElement(_.Z,{onMaskClick:n,style:w.container,type:"center",withMask:!0},o&&r.createElement(i.ZP,{align:"center",style:w.headerText,weight:"bold"},o),t&&r.createElement(i.ZP,{align:"center",color:"gray700",style:w.labelText},t),s,r.createElement(h.ZP,{onPress:n,size:"xLarge",style:w.cancelButton,type:"brandText"},e))}}f.defaultProps={cancelButtonLabel:b};const w=d.default.create((e=>({container:{alignItems:"center",paddingVertical:e.spaces.space32,paddingHorizontal:e.spaces.space12,position:"relative"},headerText:{marginBottom:e.spaces.space16},labelText:{marginBottom:e.spaces.space16,width:"100%"},linkInput:{backgroundColor:e.colors.gray0,borderColor:"transparent",color:e.colors.gray700,fontSize:e.fontSizes.body,marginBottom:e.spaces.space12,paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space20},cancelButton:{width:"100%"}}))),g=f,v=u().e05c00b4,y=u().eabf2209,k=u().a613e720,P=u().f88553c8,D={riffsy:"https://abs.twimg.com/a/1501527574/img/t1/icon_riffsy.png",giphy:"https://abs.twimg.com/a/1501527574/img/t1/icon_giphy.png"};class I extends r.PureComponent{constructor(e){super(e),this._renderMenu=e=>r.createElement(n.Z,{items:[{text:k,Icon:p.default,onClick:this._handleCopyGifLinkButtonClick}],onCloseRequested:e}),this._handleCopyGifLinkButtonClick=e=>{const{addToast:t,gifUrl:o}=this.props;a.Z.isAvailable()?(a.Z.setString(o),t({text:P})):this.setState({showCopyLinkSheet:!0}),e&&e()},this._handleCopyLinkSheetCancel=()=>{this.setState({showCopyLinkSheet:!1})},this.state={showCopyLinkSheet:!1}}render(){const{showCopyLinkSheet:e}=this.state,{gifUrl:t,provider:o}=this.props,{display_name:a,name:n}=o,s=D[n];return s?r.createElement(r.Fragment,null,e?r.createElement(g,{description:y({providerName:a}),headerText:v,link:t,onCancel:this._handleCopyLinkSheetCancel}):null,r.createElement(i.ZP,{align:"center",color:"gray700",style:[C.root,C.verticalAlign]},r.createElement(u().I18NFormatMessage,{$i18n:"e2e6ea0d"},this._renderAttribution(a,s)))):null}_renderAttribution(e,t){return r.createElement(s.Z,{interactiveStyles:null,renderMenu:this._renderMenu},r.createElement(i.ZP,{style:C.verticalAlign,weight:"bold",withInteractiveStyling:!0},r.createElement(l.Z,{source:{uri:t},style:C.image}),r.createElement(i.ZP,null,e.toUpperCase())))}}const C=d.default.create((e=>({button:{marginStart:e.spaces.space12},image:{display:"inline-block",height:e.spaces.space16,marginHorizontal:e.spaces.space4,width:e.spaces.space16},root:{marginHorizontal:e.spaces.space8},verticalAlign:{display:"flex",alignItems:"center",flexDirection:"row"},alignLeft:{textAlign:"start"}}))),E=I;var Z=o(668214),F=o(601576);const T=(0,Z.Z)().propsFromActions((()=>({addToast:F.fz})))((({addToast:e,gifUrl:t,provider:o})=>r.createElement(E,{addToast:e,gifUrl:t,provider:o})))},170371:(e,t,o)=>{"use strict";o.d(t,{Z:()=>b});var r=o(202784),a=o(325686),n=o(529509),i=o(392237),s=o(71620),l=o(668214),d=o(947650),c=o(582751);const u=(e,t)=>c.vx(e,t.userId),p=(e,t)=>c.mM(e,t.userId),m=(e,t)=>c.Z8(e,t.userId),_=(0,l.Z)().propsFromState((()=>({knownFollowersAvatarUrls:u,knownFollowersCount:p,knownFollowersNames:m}))).propsFromActions((()=>({createLocalApiErrorHandler:(0,s.zr)("KNOWN_FOLLOWERS"),fetchKnownFollowersIfNeeded:d.Hq}))),h=i.default.create((e=>({minHeight:{minHeight:e.spaces.space20}}))),b=_((e=>{const{createLocalApiErrorHandler:t,fetchKnownFollowersIfNeeded:o,knownFollowersAvatarUrls:i,knownFollowersCount:s,knownFollowersNames:l,userId:d,userScreenName:c}=e;return r.useEffect((()=>{o(d).catch(t())}),[d,o,t]),r.createElement(a.Z,{style:h.minHeight},r.createElement(n.Z,{knownFollowersAvatarUrls:i,knownFollowersCount:s,knownFollowersNames:l,userScreenName:c}))}))},582751:(e,t,o)=>{"use strict";o.d(t,{Z8:()=>i,mM:()=>a,vx:()=>n});var r=o(947650);const a=(e,t)=>{const o=r.lP(e,t);if(void 0===o)return o;const a=r.c1(e,t),n=r.og(e,t);return o-(a.length-n.length)},n=(e,t)=>r.og(e,t).map((({profile_image_url_https:e})=>e)),i=(e,t)=>r.og(e,t).map((({name:e})=>e))},652904:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var r=o(202784),a=o(500002),n=o(668214),i=o(997174),s=o(118823);const l=(0,n.Z)().propsFromActions((()=>({updateLocation:s.YF,updateTweetDetailNav:i.NH}))).withAnalytics();class d extends r.Component{componentDidMount(){this._performPageUpdates(this.props)}componentDidUpdate(e){const{history:{location:t},location:{pathname:o,search:r},locationKey:a}=this.props,{location:{pathname:n,search:i},locationKey:s}=e;let l=!1;t.pathname!==o?this._isInBackground=!0:this._isInBackground&&t.pathname===o&&(this._isInBackground=!1,l=!0);const d=a||s;(d&&a!==s||!d&&o!==n||r!==i||l)&&this._performPageUpdates(this.props)}render(){return this.props.children}_performPageUpdates(e){const{analytics:t,updateLocation:o,updateTweetDetailNav:r}=e;t.scribePageImpression(),o(t.contextualScribeNamespace,t.contextualScribeData),r(t.contextualScribeNamespace)}}d.defaultProps={children:null};const c=(0,a.ZP)(l(d))},301758:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f});var r=o(807896),a=o(202784),n=o(235902),i=o(521288),s=o(401388),l=o(988566),d=o(725516),c=o(443781),u=o(71620),p=o(668214),m=o(425182),_=o(836255);const h=(e,t)=>t.tweetId,b=(e,t)=>{const o=t.tweetId,r=o&&_.Z.select(e,o);return r?(0,m.z0)(e,r):void 0},f=(0,p.Z)().propsFromState((()=>({community:b,hydratedTweet:_.Z.createHydratedTweetSelector(h)}))).propsFromActions((()=>({createLocalApiErrorHandler:(0,u.zr)("QUOTE_TWEET_CONTAINER"),fetchCommunityIfNeeded:m.ZP.fetchOneIfNeeded})))((({community:e,createLocalApiErrorHandler:t,fetchCommunityIfNeeded:o,hydratedTweet:u,onAvatarClick:p,onMediaClick:m,onPress:_,onScreenNameClick:h,tweetId:b,withBirdwatchPivot:f=!0,...w})=>{const{featureSwitches:g,viewerUserId:v}=a.useContext(c.rC),y=(0,d.z)(),k=u?.community_id_str;a.useEffect((()=>{k&&(0,s.Z)(e)&&o(k).catch(t())}),[e,k,t,o]);const P=a.useCallback((e=>{y.scribeAction("click"),_&&_(e)}),[_,y]),D=!!f,I=u&&(0,l.D$)(u,v,e),C=I&&(0,l.rl)(I);return a.createElement(n.ZP.Provider,{value:{isEditTweetConsumptionEnabled:()=>g.isTrue("responsive_web_edit_tweet_enabled")||g.isTrue("subscriptions_feature_labs_1004")}},a.createElement(i.Z,(0,r.Z)({},w,{loggedInUserId:v,onAvatarClick:p,onMediaClick:m,onPress:P,onScreenNameClick:h,shouldShowAltLabelAlways:!0,socialContextProps:C,tweet:u,withBirdwatchPivot:D})))}))},62857:(e,t,o)=>{"use strict";o.d(t,{Z:()=>E});var r=o(807896),a=o(202784),n=o(476984),i=o.n(n),s=o(111677),l=o.n(s),d=o(615656),c=o(290402),u=o(325686),p=o(240089),m=o(663550),_=o(409438);const h=({displayMode:e=_.Z.UserDetailed,renderUserCell:t,userIds:o})=>a.createElement(u.Z,{role:"list"},o.map(((o,r)=>t?t(o):a.createElement(p.ZP,{decoration:p.ET,displayMode:e,isFakeButtonRoleWithListItem:!0,key:o,promotedItemType:m.bj.USER,userId:o,withFollowsYou:!0}))));var b=o(312771),f=o(71620),w=o(973572),g=o(668214),v=o(919022);const y=(e,t)=>t.userIds,k=(e,t)=>{const{filterPredicate:o=e=>!!e,userIds:r}=t;return r.filter((t=>{const r=v.ZP.select(e,t);return!!r&&o(r)}))},P=(e,t)=>{const{userIds:o}=t;return o.reduce(((t,o)=>{const r=v.ZP.selectFetchStatus(e,o);return r&&(t[o]=r===b.ZP.NONE?b.ZP.LOADING:r),t}),{})},D=(0,g.Z)().propsFromState((()=>({availableUserIds:(0,w.Z)(k,(e=>e)),fetchStatus:(0,w.Z)(k,P,y,((e,t,o)=>{let r=b.ZP.LOADED;for(let a=0;a<o.length;a++){const n=o[a];if(-1===e.indexOf(n)){const e=t[n]||b.ZP.LOADING;r=r===b.ZP.LOADED?e:r}if(r===b.ZP.LOADED)break}return r}))}))).propsFromActions((()=>({createLocalApiErrorHandler:(0,f.zr)("USERS_LIST_CONTAINER"),fetchUsersIfNeeded:v.ZP.fetchManyIfNeeded}))),I=l().f5b426c2;class C extends a.Component{constructor(...e){super(...e),this.state={allUsersUnavailable:!1},this._renderContent=()=>{const{availableUserIds:e,createLocalApiErrorHandler:t,fetchStatus:o,fetchUsersIfNeeded:n,filterPredicate:i,userIds:s,...l}=this.props;return a.createElement(h,(0,r.Z)({},l,{userIds:e}))},this._handleFetch=()=>{this._fetchUsersIfNeeded()}}componentDidMount(){this._fetchUsersIfNeeded()}componentDidUpdate(e){i()(e.userIds,this.props.userIds)||this._fetchUsersIfNeeded()}render(){return a.createElement(c.Z,{"aria-label":I,fetchStatus:this.state.allUsersUnavailable?b.ZP.LOADED:this.props.fetchStatus,onRequestRetry:this._handleFetch,render:this._renderContent,retryable:!1})}_fetchUsersIfNeeded(){const{availableUserIds:e,createLocalApiErrorHandler:t,fetchUsersIfNeeded:o,userIds:r}=this.props;o(r).then((()=>{this.setState({allUsersUnavailable:!1})}),t({[d.ZP.AddressBookLookupNotFound]:{customAction:()=>{0===e.length&&this.setState({allUsersUnavailable:!0})}},[d.ZP.OtherUserSuspended]:{customAction:()=>{0===e.length&&this.setState({allUsersUnavailable:!0})}}}))}}const E=D(C)},246851:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var r=o(202784);function a(e){const t=r.useRef();return r.useEffect((()=>{t.current=e})),t.current}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loader.DMDrawer~bundle.DMRichTextCompose~bundle.DirectMessages-9f4db315.d2db645a.js.map