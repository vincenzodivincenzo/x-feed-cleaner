"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["modules.audio-c6fe4ea4"],{818885:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(202784),i=n(325686),r=n(107267),o=n(370006),s=n(138099),c=n(786998),l=n(242454),d=n(392237),u=n(749361);function p({audioSpaceId:e}){const{transitionBack:t,transitionOnReport:n}=function(){const e=(0,r.useHistory)();return{transitionBack:()=>e.goBack(),transitionOnReport:()=>e.goBackThroughModals()}}(),l=a.createElement(o.Z,{autofocus:!0,backButtonType:"back",onClick:t});return a.createElement(s.Z,{allowBackNavigation:!0,enableMaskForDismiss:!0,onMaskClick:t,role:"menu",type:"full",withKeyboardNavigation:!0,withMask:!0},a.createElement(i.Z,{style:h.root},a.createElement(c.Z,{leftControl:l,style:h.appBar,subtitle:u.p8.describeTheIssue,title:u.p8.reportThisSpace,withGutter:!0}),a.createElement(m,{audioSpaceId:e,transitionOnReport:n})))}function m({audioSpaceId:e,transitionOnReport:t}){const n=u.Vs.useReportingItems({audioSpaceId:e});return a.createElement(i.Z,{style:h.actionList},n.map((e=>{const n=e.label;return a.createElement(l.Z,{align:"left",color:"red500",key:n,label:n,onPress:()=>{e.onClick(),t()}})})))}const h=d.default.create((e=>({root:{paddingBottom:e.spaces.space56},appBar:{paddingVertical:e.spaces.space8},actionList:{marginTop:e.spaces.space20}})));p.ActionList=m},642139:(e,t,n)=>{n.d(t,{q:()=>b});var a=n(807896),i=n(202784),r=n(325686),o=n(731708),s=n(279046),c=n(154003),l=n(30899),d=n(530732),u=n(392237),p=n(111677),m=n.n(p),h=n(837020),f=n(568320),g=n(516951),E=n(999769),y=n(280010);function b(e){if(e.count<1)return null;const t={count:e.count,labelType:"otherListeners"};return i.createElement(r.Z,{style:x.otherParticipantsWrapper},i.createElement(Z,e,i.createElement(r.Z,{style:x.otherParticipantsContainer},i.createElement(r.Z,{style:x.otherParticipantsText},i.createElement(o.ZP,{size:P.fontSize,weight:"bold"},i.createElement(s.Z.ParticipantsCount,t))),i.createElement(w,e))))}function C(e){const{audioSpaceId:t,dismiss:n,type:a,...l}=e,d=i.createElement(i.Fragment,null,i.createElement(r.Z,{style:x.popoverSheetDescription},i.createElement(o.ZP,{color:"gray700",size:"body"},i.createElement(m().I18NFormatMessage,{$i18n:"b76d6eb7"},i.createElement(o.ZP,{color:"text",link:y.n.help,withUnderline:!0},m().cddb8097)))),i.createElement(o.ZP,{size:"body",weight:"bold"},v.shareWithPeople),i.createElement(r.Z,{style:x.popoverShareButtonContainer},i.createElement(E.ZP,{audioSpaceId:t})));return"popover"===a?i.createElement(i.Fragment,null,i.createElement(r.Z,{style:x.popoverTitle},i.createElement(o.ZP,{size:"title4",weight:"heavy"},i.createElement(s.Z.ParticipantsCount,l))),d):i.createElement(i.Fragment,null,i.createElement(r.Z,{style:x.popoverSheetTitleContainer},i.createElement(r.Z,{style:x.popoverSheetTitle},i.createElement(o.ZP,{size:"headline2",weight:"heavy"},i.createElement(s.Z.ParticipantsCount,l))),i.createElement(c.ZP,{"aria-label":v.close,borderColor:"transparent",color:"text",hoverLabel:{label:v.close},icon:i.createElement(h.default,{style:x.popoverSheetClose}),onPress:n,size:"medium"})),d)}function Z(e){if(!e.interactive)return e.children;const t={count:e.count,labelType:"otherListeners"};return i.createElement(l.Z,{renderContent:function(n,r){return i.createElement(C,(0,a.Z)({audioSpaceId:e.audioSpaceId,dismiss:n,type:r},t))},withArrow:!0,withDefaultContainer:!0},i.createElement(d.Z,{"aria-label":s.Z.ParticipantsCount.generateText(t),onPress:g.Z},e.children))}function w(e){return e.interactive?i.createElement(r.Z,{style:x.otherParticipantsArrow},i.createElement(f.default,null)):null}const P={fontSize:"body"},x=u.default.create((e=>{const t=e.lineHeightsPx[P.fontSize],n={flexDirection:"row",alignItems:"center",justifyContent:"center",flex:1,paddingVertical:e.spacesPx.space12,paddingStart:e.spacesPx.space24,paddingEnd:e.spacesPx.space16,borderWidth:e.borderWidthsPx.small,borderRadius:e.borderRadiiPx.medium,borderColor:e.colors.gray50},a={width:t,height:t,color:e.colors.text},i={marginVertical:e.spacesPx.space12},r={color:e.colors.gray300,width:e.spacesPx.space24,height:e.spacesPx.space24};return{otherParticipantsWrapper:{width:"100%"},otherParticipantsContainer:n,otherParticipantsText:{flex:1},otherParticipantsArrow:a,popoverTitle:i,popoverSheetTitleContainer:{flexDirection:"row",alignItems:"center",marginVertical:e.spacesPx.space12},popoverSheetTitle:{flex:1},popoverSheetClose:r,popoverSheetDescription:{marginTop:e.spacesPx.space16,marginBottom:e.spacesPx.space12},popoverShareButtonContainer:{marginVertical:e.spacesPx.space16}}})),v={close:m().ia5e7488,share:m().ifea3114,shareWithPeople:m().f2333850}},418050:(e,t,n)=>{n.d(t,{C:()=>x,Q:()=>b});var a=n(202784),i=n(325686),r=n(530525),o=n(823161),s=n(731708),c=n(366635),l=n(392237),d=n(111677),u=n.n(d),p=n(159340),m=n(113788),h=n(484633),f=n(217220),g=n(510465);const E="xxLarge",y=r.Z.createLayoutCache();function b(e){const{children:t,highlightedLabel:n,isBlueVerified:r,isVerified:l,kind:d,name:u,periscopeUserId:p,screenName:m,style:h,verifiedType:f}=e,g=d?w[d]:null,b=e.profile_image_url_https||"",x=a.createElement(Z,e),v=t||a.createElement(o.default,{decoration:x,imageLayoutCache:y,screenName:m,shape:"circle",size:E,style:P.participantAvatarSize,uri:b,withHoverCard:!0,withLink:!0});return a.createElement(i.Z,{style:[h,P.participantCell]},a.createElement(i.Z,{style:P.participantAvatarSize},v,p&&a.createElement(C,{periscopeUserId:p})),a.createElement(s.ZP,{numberOfLines:1,size:"subtext2",style:P.participantCellUsername,weight:"bold"},a.createElement(c.Z,{affiliateBadgeInfo:n?{...n,url:void 0}:void 0,isBlueVerified:r,isVerified:l,name:u,verifiedType:f})),a.createElement(i.Z,{style:P.participantCellKindContainer},e.statusIndicator,a.createElement(s.ZP,{color:"gray700",numberOfLines:1,size:"subtext2",style:P.participantCellKind},g||a.createElement("span",null," "))))}function C({periscopeUserId:e}){const{avatar:{size:t}}=v(l.default.theme),n=(0,m.Gf)(e),i=(0,f.fB)(e),r=(0,m.DP)();return a.createElement(a.Fragment,null,i&&a.createElement(g.Z,{emoji:"✋",persistAfterAnimation:!0,size:t}),n?.map((e=>a.createElement(g.Z,{emoji:e.emoji,key:e.id,onAnimationEnd:()=>r(e),size:t}))))}function Z(e){return e.community&&e.community.isMember?a.createElement(i.Z,{style:P.communitiesBadgeIcon},a.createElement(p.default,{style:{color:e.community.color}})):null}const w={[h.Q.host]:u().cededf2a,[h.Q.cohost]:u().f77997b0,[h.Q.speaker]:u().i48f4ed8,[h.Q.listener]:u().a77c8e02},P=l.default.create((e=>{const t=v(e),n={width:t.avatar.size,height:t.avatar.size},a={justifyContent:"center",alignItems:"center",...t.participantCell},i=t.participantCellUsername,r={lineHeight:t.kind.lineHeight,marginStart:e.spaces.space2};return{communitiesBadgeIcon:{position:"absolute",bottom:0,right:0,padding:e.spaces.space4,width:e.spaces.space20,height:e.spaces.space20,backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.xSmall,borderRadius:e.borderRadii.small},participantCell:a,participantCellUsername:i,participantCellKindContainer:{position:"relative",justifyContent:"center",alignItems:"center",flexDirection:"row"},participantCellKind:r,participantAvatarSize:n}}));function x(e){const t=v(e);return t.participantCell.height+t.participantCell.marginBottom}function v(e){const t=o.default.getSizeSimple(E),n=e.spacesPx.space8,a=e.spacesPx.space8,i=e.spacesPx.space4,r=e.lineHeightsPx.headline2,s=e.lineHeightsPx.headline2;return{participantCell:{height:t+i+r+s+n,marginBottom:n,paddingHorizontal:a},avatar:{size:t},participantCellUsername:{lineHeight:r,paddingTop:i},kind:{lineHeight:s}}}},693704:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(202784),i=n(387163),r=n(392237),o=n(822946);function s(e){const{emoji:t,onAnimationEnd:n,persistAfterAnimation:r,size:s}=e;return a.createElement(i.Z,{emojiInfo:o.default,onAnimationEnd:n,persistAfterAnimation:r,reaction:t,style:[c.reaction,{height:s,width:s}]})}const c=r.default.create((e=>({reaction:{position:"absolute",top:"0",start:"0",backgroundColor:e.colors.navigationBackground,borderRadius:e.borderRadii.infinite,display:"grid",alignItems:"center",justifyItems:"center"}})))},510465:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(202784),i=n(523561),r=n(111677),o=n.n(r),s=n(195560);const c=(0,i.Z)({loader:()=>o().emoji.then((()=>Promise.all([n.e("modules.audio-6107ac1a"),n.e("modules.audio-b953418a"),n.e("modules.audio-7c51e6a7"),n.e("modules.audio-04db59e9"),n.e("modules.audio-76583d6c"),n.e("modules.audio-b7a8a5fb"),n.e("modules.audio-51f6e793"),n.e("modules.audio-e019dbda"),n.e("modules.audio-262c94d4"),n.e("modules.audio-c6fe4ea4"),n.e("shared~ondemand.EmojiPicker~ondemand.EmojiPickerData~ondemand.ParticipantReaction"),n.e("ondemand.ParticipantReaction")]).then(n.bind(n,693704)))),renderPlaceholder:(e,t)=>a.createElement(s.Z,{hasError:e,onRetry:t})})},489253:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(202784),i=n(731708),r=n(392237),o=n(111677),s=n.n(o),c=n(674306),l=n(566220),d=n(349745),u=n(865698);const p=s().d2dfe80d,m=s().aef95393,h=r.default.create((e=>({icon:{fontSize:e.fontSizes.body,paddingEnd:e.spaces.space12,verticalAlign:"middle"}}))),f=({isExistingSpace:e,scheduledFor:t})=>{const n=(0,l.R)()(),r=(0,d.o3)(t),o=!!r&&((0,d.TO)(t)&&!(0,d.WN)(r,n,u.i));return r&&o?a.createElement(i.ZP,{color:"gray700",size:"subtext2"},a.createElement(c.default,{style:h.icon}),e?m({date:(0,d.vh)(r),time:(0,d.g6)(r)}):p({date:(0,d.vh)(r),time:(0,d.g6)(r)})):null}},201899:(e,t,n)=>{n.d(t,{d:()=>Ke});var a=n(807896),i=n(202784),r=n(400752),o=n(529356),s=n(111677),c=n.n(s),l=n(516951),d=n(187669),u=n(484633),p=n(982790),m=n(582129),h=n(712612),f=n(731708),g=n(392237);function E(e){return i.createElement(f.ZP,{numberOfLines:1,size:"headline1",style:b.container,weight:"bold"},y.connecting)}const y={connecting:c().e4e811fc},b=g.default.create((e=>({container:{paddingBottom:e.spaces.space48}})));var C=n(325686),Z=n(708852),w=n(154003),P=n(466445),x=n(166852),v=n(812190),S=n(840685),k=n(240089),z=n(62857),_=n(663550);function I(e){return i.createElement(C.Z,{style:R.endedContainer},i.createElement(f.ZP,{align:"center",style:R.endedTitle},i.createElement("span",{role:"img"},"🙉")),i.createElement(f.ZP,{align:"center",numberOfLines:1,size:"title4",weight:"bold"},B.spaceEnded),i.createElement(f.ZP,{align:"center",color:"gray700",numberOfLines:1,size:"body",style:R.endedSubtitle,weight:"bold"},B.spaceEndedSubtitle))}const B={spaceEnded:c().f7dc3b1c,spaceEndedSubtitle:c().c1d15dc0},R=g.default.create((e=>({endedContainer:{paddingBottom:e.spaces.space48},endedTitle:{paddingBottom:e.spaces.space32,fontSize:e.spaces.space64,lineHeight:`${g.default.theme.spacesPx.space64+g.default.theme.spacesPx.space20}px`},endedSubtitle:{paddingTop:e.spaces.space12}})));function H(e){const{onClose:t,onJoin:n,space:a}=e,r=i.useCallback((()=>{n(!1,u.Q.listener,!0),t()}),[t,n]),o=(0,Z.D2)();if(!a)return i.createElement(I,e);const s=e=>(0,x.Z)(e?.map((e=>e.user_id)).filter(Boolean)||[]),c=a.host?.user_id,l=s(a.cohosts),d=s(a.participants.speakers);return i.createElement(C.Z,{style:o?F.endedContainerWide:F.endedContainer},i.createElement(C.Z,{style:F.overflow},i.createElement(D,{audioSpaceId:a.rest_id,community:a.community,isWide:o}),i.createElement(T,{isWide:o,label:O.host,users:c?[c]:[]}),i.createElement(T,{isWide:o,label:O.cohosts({hostCount:l.length}),style:F.userSectionPadding,users:l}),i.createElement(T,{isWide:o,label:O.speakers({speakerCount:d.length}),style:F.userSectionPadding,users:d})),a.is_space_available_for_replay&&i.createElement(w.ZP,{icon:i.createElement(P.default,null),onClick:r,style:F.replayButton,type:"brandFilled"},O.playRecording))}function L({children:e,isWide:t,label:n,style:a}){return i.createElement(C.Z,{style:a},i.createElement(f.ZP,{numberOfLines:1,size:"headline2",style:t?F.endedSubtitleWide:F.endedSubtitle,weight:"bold"},n),e)}function T(e){const{users:t,...n}=e;return 0===t.length?null:i.createElement(L,n,i.createElement(z.Z,{displayMode:"UserCompact",renderUserCell:n.isWide?j:W,userIds:t}))}function D(e){const{audioSpaceId:t,community:n,...r}=e,o=(0,p.$)(t),s=i.useCallback((()=>{o.utils.scribe(":audiospace:end_screen::view_community:click")}),[o.utils]),c=i.useCallback((()=>{o.utils.scribe(":audiospace:end_screen::join_community:click")}),[o.utils]);return n?i.createElement(S.Z,{communityId:n.rest_id,fallbackToRouteParam:!1},i.createElement(L,(0,a.Z)({},r,{label:O.community}),i.createElement(v.Z,{communityId:n.rest_id,onActionButtonJoinClick:c,onPress:s,style:r.isWide?F.userCellWide:F.userCell,thumbnailSize:"space64",withActionButton:!0}))):null}function W(e){return A(!1,e)}function j(e){return A(!0,e)}function A(e,t){return i.createElement(k.ZP,{decoration:k.ET,displayMode:"UserCompact",isFakeButtonRoleWithListItem:!0,key:t,promotedItemType:_.bj.USER,style:e?F.userCellWide:F.userCell,userId:t,withFollowsYou:!0})}const O={host:c().cededf2a,cohosts:c().aadbc747,speakers:c().hbd6035f,community:c().h5245afa,playRecording:c().if420852},F=g.default.create((e=>{const t={paddingTop:e.spaces.space12,paddingBottom:e.spaces.space4},n={width:"100%",maxHeight:550,display:"flex",flexDirection:"column"};return{endedContainer:n,endedContainerWide:{...n},endedSubtitle:{...t,paddingHorizontal:e.componentDimensions.gutterHorizontalPx},endedSubtitleWide:{...t,paddingHorizontal:2*e.componentDimensions.gutterHorizontalPx},userCell:{paddingHorizontal:e.componentDimensions.gutterHorizontalPx},userCellWide:{paddingHorizontal:2*e.componentDimensions.gutterHorizontalPx},overflow:{flex:1,overflow:"auto"},replayButton:{marginTop:e.spaces.space32,marginHorizontal:e.componentDimensions.gutterHorizontalPx},userSectionPadding:{paddingTop:e.spacesPx.space16}}}));var M=n(124964),N=n(794215),V=n(999769);function Q(e){const t=(0,Z.D2)(),{space:n}=e;if(!n)return null;const{ended_at:a,rest_id:r,started_at:o}=n;let s=0;return null!=a&&null!=o&&(s=a-o),i.createElement(C.Z,{style:t?$.endedHeaderWide:$.endedHeader},i.createElement(C.Z,null,i.createElement(C.Z,{style:[$.row,$.spaceBetween]},e.closeButton,i.createElement(V.ZP,{audioSpaceId:r,pullRight:!0,type:"icon-borderless"})),i.createElement(C.Z,{style:$.row},i.createElement(f.ZP,{color:"gray700",size:"subtext1",style:[$.endedLabel,$.upper],weight:"bold"},U.ended," ",s>0&&i.createElement(M.Z,null)),s>0&&i.createElement(N.Z,{color:"gray700",short:!0,size:"subtext1",style:$.endedLabel,timeMs:s}))),i.createElement(f.ZP,{size:"title2",weight:"bold"},e.space?.title))}const U={ended:c().ba55e824},$=g.default.create((e=>({endedHeader:{paddingHorizontal:e.componentDimensions.gutterHorizontalPx,paddingBottom:e.spaces.space16},endedHeaderWide:{paddingHorizontal:2*e.componentDimensions.gutterHorizontalPx,paddingBottom:e.spaces.space16},endedLabel:{lineHeight:38},row:{flexDirection:"row",width:"100%"},spaceBetween:{justifyContent:"space-between"},upper:{textTransform:"uppercase"}})));var G=n(668260),J=n(451566),K=n(381904),q=n(18873),Y=n(443781),X=n(453821),ee=n(64772),te=(n(136728),n(642139)),ne=n(418050);function ae(e){const{shellLayout:t}=e;if(!t)return null;const{cohosts:n,host:a,participants:r}=e,o=[];a&&o.push({user:a,kind:u.Q.host});const s=(0,x.Z)(n,(e=>e.twitter_screen_name)).map((e=>({user:e,kind:u.Q.cohost})));for(let e=0;e<s.length;e++)o.push(s[e]);const c=(0,x.Z)(r.speakers,(e=>e.twitter_screen_name)).map((e=>({user:e,kind:u.Q.speaker})));for(let e=0;e<c.length;e++)o.push(c[e]);const l=r.total??s.length+c.length,d=Math.max(0,l-o.length);return i.createElement(i.Fragment,null,i.createElement(C.Z,{style:ie.participantsGridContainer},i.createElement(C.Z,{style:ie.participantsGridContent},o.map(((e,t)=>i.createElement(ne.Q,{community:e.user.community,isBlueVerified:e.user.is_blue_verified,isVerified:e.user.is_verified,key:e.user.twitter_screen_name,kind:e.kind,name:e.user.display_name,profile_image_url_https:e.user.avatar_url,screenName:e.user.twitter_screen_name,style:ie.participantCell,verifiedType:e.user.verified_type}))))),i.createElement(te.q,{audioSpaceId:e.audioSpaceId,count:d,interactive:!1}))}const ie=g.default.create((e=>({participantCell:{width:"25%"},participantsGridContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},participantsGridContent:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"}}))),re=c().g3e2f3a6,oe=c().cd64d43e,se=c().jcdc32f0,ce=c().a0cee16a,le=c().bf3daa48,de=c().f9305f48,ue=c().e51df2e6,pe=c().h114ff6c,me=c().d7fe2d7e,he=c().e61bdea4;function fe(e){const{isRestrictedSession:t,viewerUserId:n}=(0,Y.QZ)(),{onClose:a,onJoin:r,shellLayout:o,space:s}=e,l=(0,X.H)(),d=!n||t,[p,m]=i.useState((()=>d)),h=s?.content_type!==q.zc.CONFERENCE&&(0===s?.conversation_controls&&s?.mentioned_users?.map((e=>e.rest_id)).includes(n)||1===s?.conversation_controls&&s?.followed_by_host||2===s?.conversation_controls),[g,E]=i.useState(h),{activeItem:y}=(0,K.Y)(),b=y?.type===u.W.space;if(!s)return null;const Z=n&&s?.host?.user_id===n&&"Running"===s?.state,w=Z?de:g?ce:p?le:se,P=s.state===G.default.SpaceState.Running&&s.is_space_available_for_replay,x=b&&Z?me:b?pe:P?he:ue;return i.createElement(i.Fragment,null,i.createElement(ae,{audioSpaceId:s.rest_id,cohosts:s.cohosts,host:s.host,participants:s.participants,shellLayout:o}),!b&&s?.content_type!==q.zc.CONFERENCE&&i.createElement(C.Z,{style:ge.switchRowsContainer},!Z&&h&&i.createElement(C.Z,{style:ge.switchRow},i.createElement(f.ZP,{weight:"bold"},oe),i.createElement(J.Z,{"aria-label":oe,disabled:!h,onValueChange:()=>E((e=>!e)),value:g})),!Z&&!d&&!g&&i.createElement(C.Z,{style:ge.switchRow},i.createElement(f.ZP,{weight:"bold"},re),i.createElement(J.Z,{"aria-label":re,onValueChange:()=>m((e=>!e)),value:p}))),i.createElement(C.Z,{style:ge.ctaButtonContainer},i.createElement(C.Z,{style:ge.subtitleContainer},i.createElement(i.Fragment,null,i.createElement(f.ZP,{align:"center",numberOfLines:2,size:"subtext2",style:ge.subtitle},p?i.createElement(c().I18NFormatMessage,{$i18n:"j5668d8f"},i.createElement(f.ZP,{link:"https://help.x.com/using-x/spaces"},c().d0ebf4f7)):x))),i.createElement(ee.Z,{"aria-label":w,audience:s.narrow_cast_space_type,disabled:b,onPress:()=>{l(),Z?r(!1,u.Q.host,!1):g?r(!1,u.Q.speaker,!1):r(p,u.Q.listener,!1),a()},style:ge.ctaButton},i.createElement(f.ZP,{align:"center",color:"white",numberOfLines:1,size:"headline1",weight:"bold"},w))))}const ge=g.default.create((e=>({switchRowsContainer:{width:"100%",flexDirection:"column",gap:e.spaces.space16,marginVertical:e.spaces.space24},switchRow:{flex:1,flexDirection:"row",justifyContent:"space-between"},subtitle:{lineHeight:e.lineHeightsPx.subtext2},ctaButtonContainer:{width:"100%",gap:e.spaces.space8,marginTop:e.spaces.space16},subtitleContainer:{gap:e.spaces.space4,width:"100%"},ctaButton:{width:"100%"}})));var Ee=n(103165);function ye(e){return i.createElement(C.Z,{style:be.container},i.createElement(C.Z,{style:be.cardContainer},i.createElement(Ee.Z,{audioSpaceId:e.broadcastId})))}const be=g.default.create((e=>{const t={width:"100%",paddingHorizontal:e.spaces.space8,paddingBottom:e.spaces.space24};return{cardContainer:{paddingVertical:e.spaces.space24},container:t,ctaButton:{width:"100%",borderRadius:e.borderRadii.infinite},shareButtonContainer:{marginTop:e.spaces.space8}}}));var Ce=n(138099),Ze=n(837020),we=n(774083),Pe=n(107267),xe=n(811176),ve=n(149170),Se=n(597237),ke=n(384757),ze=n(928875),_e=n(952793),Ie=n(125363),Be=n(390387),Re=n(355755);function He(e){const t=function(e){const t=(0,Pe.useHistory)(),{utils:n}=(0,p.$)(e),a=(0,Ie.v9)(Be.Qb),i=(0,_e.hC)("netzdg_in_spaces_enabled"),r=(0,ke.O)(e,(()=>t.push((0,Re.g)(e)))),o=[],s={Icon:Se.default,isEmphasized:!0,text:Le.reportThisSpace,onClick:()=>{r(),n.scribe(":audiospace::caret:report:click")}};a&&o.push(s);i&&o.push(ze.T({audioSpaceId:e}));return{items:o}}(e.audioSpaceId),[n,a]=i.useState(!1);if(t.items.length<1)return null;const r=n?i.createElement(xe.Z,{isFixed:!0,items:t.items,onCloseRequested:()=>a(!1),shouldCloseOnClick:!0}):null;return i.createElement(i.Fragment,null,i.createElement(w.ZP,{"aria-label":Le.more,borderColor:"transparent",color:"text",hoverLabel:{label:Le.more},icon:i.createElement(ve.default,null),onPress:()=>a(!0),pullRight:e.pullRight,size:"medium"}),r)}const Le={more:c().h63a5c3c,reportThisSpace:c().f123fea8};function Te(e){const t={type:"bottom",role:"menu",onMaskClick:e.onClose,allowBackNavigation:!0,withKeyboardNavigation:!0,withMask:!0},[n,r]=function(){const[e,t]=i.useState(null),n=i.useMemo((()=>{if(!e)return function(e){const n=e.nativeEvent.layout;n&&t(n)}}),[e]);return[e,n]}(),o=[Oe.sheetContainer,e.withoutPadding&&Oe.withoutPadding];return i.createElement(Ce.Z,t,i.createElement(C.Z,{onLayout:r,style:o},i.createElement(C.Z,{style:Oe.sheetSpacerTop}),i.createElement(De,e),i.createElement(We,e),i.createElement(je,(0,a.Z)({},e,{shellLayout:n}))))}function De(e){const{Content:t,CustomHeader:n,withoutDescription:r,withoutPadding:o,...s}=e,c=i.createElement(w.ZP,(0,a.Z)({"aria-label":Me.close,icon:i.createElement(Ze.default,{style:Oe.closeIcon}),onPress:e.onClose,pullLeft:!0},Fe));if(e.CustomHeader)return i.createElement(e.CustomHeader,(0,a.Z)({},s,{closeButton:c}));const l=e.space.rest_id;return i.createElement(C.Z,{style:Oe.header},i.createElement(C.Z,{style:Oe.headerLeft},c),i.createElement(C.Z,{style:Oe.headerRight},i.createElement(C.Z,{style:Oe.headerRightItem},i.createElement(V.ZP,{audioSpaceId:l,type:"icon-borderless"})),i.createElement(C.Z,{style:Oe.headerRightItem},i.createElement(He,{audioSpaceId:l,pullRight:!0}))))}function We(e){return e.withoutDescription?null:i.createElement(C.Z,{style:Oe.descriptionContainer},i.createElement(we.L,{audioSpaceId:e.space.rest_id,isOutsideDock:!0}))}function je(e){if(!e.Content)return null;const{Content:t,CustomHeader:n,shellLayout:r,withoutDescription:o,withoutPadding:s,...c}=e;return i.createElement(C.Z,{style:[Oe.content,e.withoutPadding&&Oe.withoutPadding]},i.createElement(e.Content,(0,a.Z)({},c,{onClose:e.onClose,shellLayout:r})))}function Ae(e){return{sheetContainer:{paddingHorizontal:e.spacesPx.space32}}}const Oe=g.default.create((e=>{const t=Ae(e),n={height:e.spacesPx.space24},a={flex:1,...t.sheetContainer},i={flex:1,paddingBottom:e.spacesPx.space20},r={marginStart:e.spaces.space8},o={paddingVertical:e.spacesPx.space16},s=e.spacesPx.space24;return{sheetSpacerTop:n,sheetContainer:a,withoutPadding:{paddingHorizontal:0,paddingVertical:0},content:i,header:{flexDirection:"row"},headerLeft:{flex:1,alignItems:"flex-start"},headerRight:{flexDirection:"row"},headerRightItem:r,descriptionContainer:o,closeIcon:{width:s,height:s}}})),Fe={borderColor:"transparent",color:"text",size:"medium"},Me={close:c().ia5e7488};var Ne=n(688715),Ve=n(946847),Qe=n(646677);function Ue(e){const t=e.space?.host?.twitter_screen_name||"",n=i.useMemo((()=>({link:i.createElement(f.ZP,{link:(0,Ne.ju)("https://help.x.com/using-twitter/super-follows#sfexpect")})})),[]),a=i.useMemo((()=>({screenName:t})),[t]),r=i.useMemo((()=>i.createElement(c().I18NFormatMessage,{$i18n:"fafd5f6f",screenName:a.screenName},i.cloneElement(n.link,null,c().i7f83b8d))),[n,a]);return i.createElement(Ve.Z,{actionLabel:$e.subscribe,actionLink:`/${t}/creator-subscriptions/subscribe`,graphic:Qe.default,graphicStyle:Ge.graphic,headline:$e.headline,onAction:l.Z,subtext:r,withCloseButton:!1})}const $e={headline:c().d782b808,subscribe:c().ab0decc0},Ge=g.default.create((e=>({graphic:{color:e.colors.text}}))),Je=c().ef4602ec;function Ke(e){const t=e.location.state?.origin,n=e.location.state?.forceRenderEnded,s=(0,p.$)(e.broadcastId),{forceFetch:c,is:f}=s.utils,g=s.space,y=i.useCallback((()=>{e.history.goBackThroughModals()}),[e.history]),[b,C]=i.useState(!1);(0,d.q)((()=>{s.utils.scribe(":audiospace:preview:::impression",{origin:t}),c().then((()=>{C(!0)}))}));const Z=(0,r.b9)(h.F3),w=(0,r.b9)(m.JE),P=(0,r.b9)(m.VL),x=i.useCallback((()=>e.history.goBack()),[e.history]);if(f.error)return i.createElement(o.Z,{enableMaskForDismiss:!0,graphicDisplayMode:"none",headline:Je,onAction:l.Z,onClose:x,subtext:"",withCloseButton:!0});if(!g)return null;const v={...e,space:g,onClose:y,onJoin:(e,n,a)=>{if(n===u.Q.listener)return s.handlers.join({isAnonymous:e,origin:t,role:n,forceReplay:a});Z().then((a=>{a&&(n===u.Q.host?P(g.rest_id):w({spaceId:g.rest_id,role:n,shouldAutoJoin:!0}),s.handlers.join({isAnonymous:e,origin:t,role:n}))}))}};if(!n){if(!f.loaded||!b)return i.createElement(Te,(0,a.Z)({},v,{Content:E}));if(f.superFollowersOnly&&!f.joinable)return i.createElement(Te,(0,a.Z)({},v,{Content:Ue,withoutDescription:!0}));if(f.Running)return i.createElement(Te,(0,a.Z)({},v,{Content:fe}));if(f.NotStarted||f.PrePublished)return i.createElement(Te,(0,a.Z)({},v,{Content:ye,withoutDescription:!0}))}return i.createElement(Te,(0,a.Z)({},v,{Content:H,CustomHeader:Q,withoutDescription:!0,withoutPadding:!0}))}},64772:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(202784),i=n(668260),r=n(378587),o=n(181054),s=n(530732),c=n(392237);function l({"aria-label":e,audience:t,children:n,disabled:c,onPress:l,style:u}){const p=t===i.default.AudienceEnum.superFollowersOnly?r.Z.Default:o.Z.Default;return a.createElement(s.Z,{"aria-label":e,disabled:c,onPress:l,pointerEvents:c?"none":"auto",style:[d.button,u]},a.createElement(p,{style:d.gradient},n))}l.getHeightPx=function(e){return e.spacesPx.space48};const d=c.default.create((e=>({button:{overflow:"hidden",width:"100%",boxShadow:e.boxShadows.small,height:l.getHeightPx(e),borderRadius:e.spacesPx.space48},gradient:{height:"100%",justifyContent:"center",paddingHorizontal:e.spaces.space24}})))},865698:(e,t,n)=>{n.d(t,{g:()=>i,i:()=>a});const a=14,i={ALL:"0",EMPLOYEES:"1",SUBSCRIBERS:"2"}},713596:(e,t,n)=>{function a(e){return e.params.broadcastId||""}n.d(t,{z:()=>a})},905710:(e,t,n)=>{function a(e){return`/i/spaces/${e}/peek`}function i(e){return`/i/broadcasts/${e}`}n.d(t,{e:()=>a,s:()=>i})},355755:(e,t,n)=>{function a(e){return`/i/spaces/${e}/peek/report`}n.d(t,{g:()=>a})},600150:(e,t,n)=>{n.d(t,{X:()=>u,d:()=>p});var a=n(202784),i=n(400752),r=n(325686),o=n(392237),s=n(254683),c=n(123638),l=n(103978),d=n(8336);function u({feedId:e}){const t=(0,l.wk)(e),n=(0,i.Dv)((0,d.cO)(e));if(null===t)return a.createElement(r.Z,{style:m.dummyButton},a.createElement(c.default,{size:o.default.theme.spacesPx.space16,style:m.mutedIcon}));const u=a.createElement(s.Z,{audioLevel:t,size:o.default.theme.spacesPx.space16});return e&&n?a.createElement(r.Z,null,a.createElement(d.$i,{feedId:e,icon:u})):a.createElement(r.Z,{style:m.dummyButton},u)}function p({track:e}){const t=(0,l.n9)(e);return null==t?a.createElement(c.default,{size:o.default.theme.spacesPx.space16,style:m.mutedIcon}):a.createElement(s.Z,{audioLevel:t,size:o.default.theme.spacesPx.space16})}const m=o.default.create((e=>({mutedIcon:{color:e.colors.red300},dummyButton:{minWidth:e.spaces.space36,minHeight:e.spaces.space36,alignItems:"center",justifyContent:"center"}})))},486496:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(202784),i=n(325686),r=n(461756),o=n(272594),s=n(392237),c=n(313758);function l({color:e,isActive:t,size:n,...s}){const l=a.useContext(c.kr),[p,m]=a.useState(.5),[h]=l.playerState;a.useEffect((()=>{t&&h&&h.isPlaying&&m(Math.random())}),[t,h]);const f=t&&h?.isPlaying,g=n+2*d,E=[u.container,s.style,{width:n,height:n}];return a.createElement(i.Z,{style:E},a.createElement(i.Z,{style:[u.container,u.transitionOpacity,f?u.show:u.hide]},r.Z.reducedMotionEnabled?null:a.createElement(o.Z,{audioLevel:p,color:e,paused:!f,size:n})),a.createElement(i.Z,{style:[u.border,{width:g,height:g},u.transitionOpacity,t?u.show:u.hide]}))}const d=parseInt(s.default.theme.spaces.space2,10),u=s.default.create((e=>({container:{alignItems:"center",justifyContent:"center",pointerEvents:"none"},border:{position:"absolute",top:-1*d,start:-1*d,backgroundColor:e.colors.navigationBackground,borderRadius:e.borderRadii.infinite},transitionOpacity:{transition:"opacity 0.2s 0s ease-in-out"},hide:{opacity:0},show:{opacity:1}})))}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/modules.audio-c6fe4ea4.8ce1849a.js.map