"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~loader.Spacebar~loader.SidebarSpacebar"],{530568:(e,t,r)=>{r.d(t,{B:()=>oe,I:()=>q});var a=r(202784),o=r(744610),n=r(392237),i=r(530732),s=r(321835),l=r(22492),c=r(254683);function d(){const[,e]=a.useState({});return a.useEffect((function(){let t=!1;const r=setTimeout((function(){t||e({})}),200);return function(){t=!0,clearTimeout(r)}})),a.createElement(c.Z,{audioLevel:.5,color:n.default.theme.colors.white,size:n.default.theme.spacesPx.space20})}var u=r(325686),p=r(642153),m=r(757483);function f(e){const t={borderRadius:n.default.theme.borderRadiiPx[e.borderRadius]},r=g("0","livevideo"===e.type),o=g("1","livevideo"===e.type),i=g("2","livevideo"===e.type);return a.createElement(u.Z,{style:[t,i]},a.createElement(u.Z,{style:[t,o]},a.createElement(u.Z,{style:[t,r]},e.children)))}const h={0:{opacity_start:.2,spread_end:b(2)},1:{opacity_start:.2,spread_end:b(4)},2:{opacity_start:.2,spread_end:b(6)}};function g(e,t){const r=b(0),a=h[e];n.default.isDarkMode()&&(a.opacity_start=2*a.opacity_start);const o=t?n.default.theme.colors.magenta500:n.default.theme.colors.purple500,i=m.Z.hexToCss(o,a.opacity_start),s=m.Z.hexToCss(o,0);return{animationDuration:"1.25s",animationIterationCount:"infinite",animationKeyframes:[{"0%":{boxShadow:`0 0 0 ${r} ${i}`},"100%":{boxShadow:`0 0 0 ${a.spread_end} ${s}`}}],animationTimingFunction:"linear"}}function b(e){return`${e}px`}function v({borderRadius:e,children:t,isInverted:r,type:o}){return r?a.createElement(f,{borderRadius:e,type:o},t):t}function y(e){const{borderRadius:t,isInverted:r,type:o}=e,i=a.useMemo((()=>({borderRadius:n.default.theme.borderRadiiPx[t]})),[t]),s=a.useMemo((()=>[i,C.backgroundContainer,r?C.withBorder:C.withPadding,r&&"audiospace"===o&&C.borderColorAudio,r&&"livevideo"===o&&C.borderColorVideo,!r&&"audiospace"===o&&C.backgroundColorAudio,!r&&"livevideo"===o&&C.backgroundColorVideo]),[i,r,o]),l=a.useMemo((()=>[i,C.pillContainer]),[i]);return a.createElement(v,{borderRadius:t,isInverted:r,type:o},a.createElement(u.Z,{style:l,testID:"pill-contents-container"},a.createElement(u.Z,{style:s},a.createElement(u.Z,{style:C.pillContentsContainer},a.createElement(p.Z,{borderColor:"cellBackground",borderWidth:"small",style:C.facepile,userAvatarSize:"large",userAvatarUrls:e.userAvatarUrls}),e.children))))}const C=n.default.create((e=>{const t=e.borderWidthsPx.medium;return{pillContainer:{display:"flex",flexDirection:"row",width:"100%"},backgroundContainer:{flex:1,height:"100%",justifyContent:"center",backgroundColor:e.colors.navigationBackground},withBorder:{borderWidth:t},withPadding:{padding:t},backgroundColorAudio:{backgroundColor:e.colors.purple500},backgroundColorVideo:{backgroundColor:e.colors.magenta500},borderColorAudio:{borderColor:e.colors.purple500},borderColorVideo:{borderColor:e.colors.magenta500},pillContentsContainer:{display:"flex",flexDirection:"row",alignItems:"center"},facepile:{pointerEvents:"none"}}}));var _=r(731708),E=r(279046),Z=r(124964);function w(e){return a.createElement(u.Z,{style:x.pillTextContent},a.createElement(_.ZP,{align:"left",color:"white",numberOfLines:1,size:"subtext2",style:x.pillTextContent_title},e.count?a.createElement(_.ZP,{weight:"bold"},a.createElement(E.Z.ParticipantsCount,{count:e.count,labelType:"plusCount"})):null,a.createElement(Z.Z,{color:"white"}),e.title))}const x=n.default.create((e=>({pillTextContent:{flex:1,marginStart:e.spaces.space4,marginEnd:e.spaces.space8},pillTextContent_title:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"inline-block"}})));r(136728);var P=r(400752),k=r(107267),S=r(910626);const I=Object.freeze({host:"host",cohost:"cohost",speaker:"speaker",listener:"listener"});var z=r(976145),B=r(111677),M=r.n(B),R=r(292484),T=r(952793),D=r(479506),A=r(582129),V=r(725516),H=r(125363),L=r(390387),N=r(919022),O=r(905710),W=r(427478),$=r(823180),F=r(449998);const U="https://abs.twimg.com/sticky/default_profile_images/default_profile_400x400.png",j={Broadcast:M().e39b368e,Space:M().ab4fc8bc,EmployeeSpace:M().b6de83a0,PrivateBroadcast:M().g3f251f2,PrivateSpace:M().d08666ba,BeFirstJoin:M().eadb5a46,HostsBroadcast:M().f9629a8f,HostsSpace:M().ia3c0ab7,HostedBy:M().hd552761,RelativePosition:M().c3ea19a5,WithParticipants:M().a5235305,socialProof:{isListening:M().df9f8243,isSpeaking:M().g2445c2f,isHosting:M().fcfd5a67,isCohosting:M().f7882829}};function G(e){const t=(0,V.z)(),r=(0,H.I0)(),o=(0,k.useHistory)(),n=(0,H.v9)(L.Qb),i=(0,T.hC)("rweb_live_dock_enabled"),s=(0,R.cm)()&&i,l=(0,P.b9)(A.dq),c=function(){const e=(0,H.I0)(),t=(0,P.b9)(F.wQ);return a.useCallback(((r,a)=>{t({videoId:r,isLiveVideo:a}),e(W.bi($.N.EXPANDED))}),[e,t])}(),d=(0,P.Dv)(F.Tc),{participants_str:u,user_id:p,user_id_str:m}=e,f=e.live_content.audiospace,h=e.live_content.livevideo,g=f?.broadcast_id??h?.id??"",b=f?.is_employee_only??!1,v=f?.is_locked??h?.is_locked??!1,y=f?.title??h?.status??void 0,C=f?.total_participating??h?.n_total_watching??0,_=a.useMemo((()=>f?"audiospace":h?"livevideo":void 0),[f,h]),E=a.useMemo((()=>u?u.slice(0,3):[]),[u]),Z=a.useMemo((()=>f?.social_proof?.length?f.social_proof[0]:h?{role:I.host,user_id:p,user_id_str:m}:void 0),[f,h,p,m]);a.useEffect((()=>{if(E.length){const e=[m,...E];Z&&e.push(Z.user_id_str),r(N.ZP.fetchManyIfNeeded(E))}}),[r,Z,E,m]);const w=Math.max(0,C-E.length),x=(0,H.v9)((e=>N.ZP.selectMany(e,E))),B=a.useMemo((()=>x.length?x.map((e=>e.profile_image_url_https??U)):Array(E.length).fill(U)),[E,x]),M=a.useMemo((()=>x.length&&"Square"===x[0].profile_image_shape?"xSmall":"infinite"),[x]),G=(0,H.v9)((e=>Z?N.ZP.select(e,Z?.user_id_str):void 0)),K=a.useMemo((()=>{if(Z&&G){if(Z.role===I.host)return j.socialProof.isHosting({name:G.name});if(Z.role===I.cohost)return j.socialProof.isCohosting({name:G.name});if(Z.role===I.speaker)return j.socialProof.isSpeaking({name:G.name});if(Z.role===I.listener)return j.socialProof.isListening({name:G.name})}}),[Z,G]),q=a.useMemo((()=>{if(Z&&G&&K)return{label:K,role:Z.role,user:G}}),[Z,K,G]),Q=(0,H.v9)((e=>N.ZP.select(e,m)));let J="";y?J=y:Q&&(f&&(J=j.HostsSpace({hostName:Q.name})),h&&(J=j.HostsBroadcast({hostName:Q.name})));const Y=[];if(b?Y.push(j.EmployeeSpace):v?(f&&Y.push(j.PrivateSpace),h&&Y.push(j.PrivateBroadcast)):(f&&Y.push(j.Space),h&&Y.push(j.Broadcast)),q?.label&&Y.push(q.label),Q&&Y.push(j.HostedBy({hostName:Q.name})),J&&Y.push(J),x.length){const e=x.map((e=>e.name)),t=(0,z.Z)(e);Y.push(j.WithParticipants({listOfPeople:t}))}x.length||w||Y.push(j.BeFirstJoin);const X=(0,z.Z)(Y,!0),ee=a.useMemo((()=>({items:[{audio_space_details:{broadcast_id:g,is_logged_in:n},item_type:h?D.Z.ItemType.PERISCOPE_BROADCAST:D.Z.ItemType.AUDIO_SPACE}]})),[g,n,h]);return{"aria-label":X,borderRadius:M,onImpression:a.useCallback((()=>{t.scribe({action:"impression",data:ee,element:"audiospace_fleet"})}),[t,ee]),onPress:a.useCallback((e=>{const r=f?(0,O.e)(g):(0,O.s)(g),a={origin:S.Y.spacebar};e.ctrlKey||e.metaKey?window.open(r):h&&s&&d!==h.id?(l({}),c(h.id,!0)):o.push(r,a),t.scribe({action:"click",data:ee,element:"audiospace_fleet"})}),[t,f,s,d,o,g,l,h,c,ee]),otherParticipantsCount:w,socialProof:q,title:J,type:_,user:Q,userAvatarUrls:B}}const K={start:1,press:.96};function q({isFirst:e,thread:t}){const{"aria-label":r,borderRadius:c,onImpression:u,onPress:p,otherParticipantsCount:m,title:f,type:h,userAvatarUrls:g}=G(t),b=a.useRef(new o.Z.Value(K.start)).current,v=a.useCallback((e=>{o.Z.timing(b,{toValue:e,duration:100,useNativeDriver:!1}).start()}),[b]),C=a.useCallback((()=>{v(K.press)}),[v]),_=a.useCallback((()=>{v(K.start)}),[v]),E=a.useMemo((()=>[Q.animatedViewPress,{transform:[{scale:b}]}]),[b]),Z=a.useMemo((()=>[{borderRadius:n.default.theme.borderRadiiPx[c]},e&&{paddingStart:n.default.theme.spaces.space16},Q.rootContainer]),[c,e]);return a.createElement(s.Z,{onImpression:u},a.createElement(i.Z,{"aria-label":r,onPress:p,onPressIn:C,onPressOut:_,style:Z},a.createElement(o.Z.View,{style:E},a.createElement(y,{borderRadius:c,type:h,userAvatarUrls:g},a.createElement(w,{count:m,title:f}),a.createElement(d,null),a.createElement(l.L,{size:"space8"})))))}const Q=n.default.create((e=>({rootContainer:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",userSelect:"none"},animatedViewPress:{width:"100%"}})));var J=r(952428),Y=r(823161),X=r(366635),ee=r(771099),te=r(443781);function re({socialProof:e}){const t=a.useMemo((()=>a.createElement(X.Z,{affiliateBadgeInfo:e.user.highlightedLabel,avatarSize:"small",isBlueVerified:e.user.is_blue_verified,isVerified:e.user.verified,name:e.user.name,nameSize:"subtext2",profileImageUrl:e.user.profile_image_url_https,verifiedType:e.user.verified_type})),[e]),r=a.useMemo((()=>e.role===I.host?a.createElement(M().I18NFormatMessage,{$i18n:"d80a7547"},t):e.role===I.cohost?a.createElement(M().I18NFormatMessage,{$i18n:"j7293d6b"},t):e.role===I.speaker?a.createElement(M().I18NFormatMessage,{$i18n:"df79977f"},t):e.role===I.listener?a.createElement(M().I18NFormatMessage,{$i18n:"ad960f39"},t):void 0),[t,e]);return a.createElement(_.ZP,{color:"gray700",numberOfLines:1,size:"subtext2",style:ae.socialProof},r)}const ae=n.default.create((e=>({socialProof:{alignItems:"center",display:"flex",flexDirection:"row",marginBottom:e.spaces.space8,marginEnd:e.spaces.space8,whiteSpace:"pre"}})));function oe({thread:e}){const{featureSwitches:t}=(0,te.QZ)(),r=ee.eY(),{"aria-label":o,borderRadius:n,onImpression:i,onPress:l,otherParticipantsCount:c,socialProof:d,title:m,type:f,user:h,userAvatarUrls:g}=G(e),b=t.isTrue("rweb_sourcemap_migration");return h?a.createElement(s.Z,{onImpression:i},a.createElement(J.Z,{"aria-label":o,onPress:l,style:[ne.container,b&&ne.redesignContainer],withDarkerInteractiveBackground:r},b?a.createElement(a.Fragment,null,a.createElement(Y.default,{"aria-label":h.name,borderColor:"livevideo"===f?"magenta500":"purple500",borderWidth:"medium",screenName:h.screen_name,size:"xLarge",uri:h.profile_image_url_https}),a.createElement(u.Z,{style:ne.meta},a.createElement(X.Z,{affiliateBadgeInfo:h.highlightedLabel,isBlueVerified:h.is_blue_verified,isVerified:h.verified,name:h.name,screenName:h.screen_name,verifiedType:h.verified_type}),a.createElement(_.ZP,{numberOfLines:1,size:"subtext1"},m)),a.createElement(u.Z,{style:ne.participants},"audiospace"===f?a.createElement(p.Z,{userAvatarSize:"small",userAvatarUrls:g}):null,c?a.createElement(_.ZP,{color:"gray700",size:"subtext3"},E.Z.formatCountShort(c)):null)):a.createElement(a.Fragment,null,d?a.createElement(re,{socialProof:d}):null,a.createElement(u.Z,{style:ne.content},a.createElement(u.Z,{style:ne.textContent},a.createElement(_.ZP,{numberOfLines:2,size:"body",weight:"bold"},m)),a.createElement(u.Z,{style:ne.facepilesContainer},a.createElement(y,{borderRadius:n,isInverted:!0,type:f,userAvatarUrls:g},c?a.createElement(_.ZP,{color:"text",size:"subtext2",style:ne.participantsCountText,weight:"bold"},a.createElement(E.Z.ParticipantsCount,{count:c,labelType:"plusCount"})):null)))))):null}const ne=n.default.create((e=>({container:{alignItems:"flex-start",flexDirection:"column",justifyContent:"space-between",paddingHorizontal:e.spacesPx.space16,paddingVertical:e.spacesPx.space12,userSelect:"none"},redesignContainer:{flexDirection:"row",gap:e.spaces.space8,justifyContent:"flex-start"},content:{flexDirection:"row",justifyContent:"space-between",width:"100%"},textContent:{flexShrink:1},facepilesContainer:{marginStart:e.spaces.space16},meta:{flex:1},participants:{flexDirection:"row",gap:e.spaces.space8},participantsCountText:{marginEnd:e.spaces.space8}})))},22492:(e,t,r)=>{r.d(t,{L:()=>i});var a=r(202784),o=r(325686),n=r(392237);function i(e){return a.createElement(o.Z,{style:s[e.size]})}const s=n.default.create(Object.keys(n.default.theme.spacesPx).reduce(((e,t)=>{const r=n.default.theme.spacesPx[t];return e[t]={width:r,height:r},e}),{}))},109808:(e,t,r)=>{r.d(t,{e:()=>x});var a=r(202784),o=r(565058),n=r(400752),i=r(987809),s=r(516951),l=r(176340),c=r(420182),d=r(385322),u=r(333259),p=r(536387),m=r(526250),f=r(901910),h=r(2138);function g(e,t,r){return(0,o.cn)(null,(0,h.Z)(e,t,r))}var b=r(390387);const v=(0,p.K9)((e=>e(c.dd).withEndpoint(l.Z).spacebar())),y=(0,i.xu)((e=>g(((e,t)=>{t(v)}),e,{leading:!0,trailing:!1}))),C=(0,o.cn)((e=>{const t=e(v.resolved)?.refresh_delay_secs;return t?y(t):(0,o.cn)(null,(()=>{}))})),_=g(((e,t)=>{t(v)}),1e4),E=(0,f.W)(((e,t)=>{t(e(C));const r=setInterval((()=>{t(e(C))}),3e5);return()=>{clearInterval(r)}})),Z=(0,f.W)(((e,t)=>{const r=(0,b._h)(e(c.qc).getState());if(!r)return s.Z;const a=`/live_content/${r}`;return(0,d.Cg)({topic:a,featureSwitches:e(c.f0),onTopic:()=>t(_)})})),w=(0,o.cn)((e=>(e(v),e(v.resolved))));function x(){const e=(0,n.Dv)(w),t=(0,n.b9)(E);(0,m.N)(Z);const r=(0,u.mr)();return a.useEffect((()=>{if("active"===r)return t()}),[r,t]),e}},420412:(e,t,r)=>{r.d(t,{Z:()=>l});var a=r(202784),o=r(325686),n=r(235902),i=r(885015),s=r(392237);function l({borderColor:e="borderColor",isSlim:t=!1,label:r}){const{isWebRedesign:l}=n.ZP.useProps(),d="borderColor"===e||"nestedBorderColor"===e?c[e]:{backgroundColor:s.default.theme.colors[e]??s.default.theme.colors.borderColor};return r?a.createElement(i.Z,{style:!t&&c.root,withGutter:!0},a.createElement(o.Z,{style:c.gapColumn},a.createElement(o.Z,{style:[c.gap,d]})),a.createElement(o.Z,{style:c.gapText},r),a.createElement(o.Z,{style:c.gapColumn},a.createElement(o.Z,{style:[c.gap,d]}))):a.createElement(o.Z,{style:[!t&&c.root,l()&&c.rootRedesign,c.gap,d]})}const c=s.default.create((e=>({borderColor:{backgroundColor:s.default.theme.colors.borderColor},nestedBorderColor:{backgroundColor:s.default.theme.colors.nestedBorderColor},gap:{height:e.borderWidths.small},gapColumn:{flex:1,justifyContent:"center"},gapText:{"flex-basis":"auto"},root:{marginVertical:e.spaces.space4},rootRedesign:{marginHorizontal:e.spaces.space16}})))},885015:(e,t,r)=>{r.d(t,{Z:()=>c});var a=r(807896),o=r(202784),n=r(325686),i=r(392237);class s extends o.Component{render(){const{children:e,style:t,withGutter:r,...i}=this.props,s=o.Children.map(e,(e=>e&&o.cloneElement(e,{style:[e.props.style,l.column,r&&l.withGutterColumn]})));return o.createElement(n.Z,(0,a.Z)({style:[t,l.root,r&&l.withGutter]},i),s)}}s.defaultProps={withGutter:!1};const l=i.default.create((e=>({root:{flexDirection:"row"},column:{flexBasis:0,minWidth:0},withGutter:{marginHorizontal:`-${e.spaces.space4}`},withGutterColumn:{marginHorizontal:e.spaces.space4}}))),c=s},41065:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var a=r(202784),o=r(890601),n=r(783427),i=r(347101);const s=(e={})=>{const{direction:t}=(0,n.Z)();return(0,o.Z)("svg",{...e,role:e["aria-label"]?e.role||"img":void 0,"aria-hidden":void 0===e["aria-label"],style:[i.Z.root,e.style],viewBox:"0 0 24 24",children:a.createElement("g",null,a.createElement("path",{d:"M6.866 18H.846l.075-1.069C1.33 11.083 4.335 9 7.011 9c1.457 0 2.734.576 3.743 1.615-.515.378-1.003.826-1.45 1.355-.562-.569-1.305-.97-2.293-.97-2.074 0-3.522 1.847-3.981 5h4.225c-.169.616-.295 1.288-.389 2zM4 5c0-1.654 1.343-3 3-3s3 1.346 3 3-1.343 3-3 3-3-1.346-3-3zm2 0c0 .551.448 1 1 1s1-.449 1-1-.448-1-1-1-1 .449-1 1zm9.5 5c-.778 0-1.49-.263-2.071-.693C12.566 8.669 12 7.653 12 6.5 12 4.57 13.567 3 15.5 3S19 4.57 19 6.5c0 1.111-.53 2.092-1.34 2.733-.596.472-1.341.767-2.16.767zM14 6.5c0 .827.673 1.5 1.5 1.5S17 7.327 17 6.5 16.327 5 15.5 5 14 5.673 14 6.5zm1.5 4.496c3.264 0 6.816 2.358 7 8.977L22.529 21H8.472l.029-1.027c.184-6.618 3.736-8.977 7-8.977zm0 2c-2.767 0-4.57 2.223-4.938 6.004h9.875c-.367-3.781-2.17-6.004-4.938-6.004z"}))},{writingDirection:t})};s.metadata={width:24,height:24};const l=s},98440:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var a=r(202784),o=r(890601),n=r(783427),i=r(347101);const s=(e={})=>{const{direction:t}=(0,n.Z)();return(0,o.Z)("svg",{...e,role:e["aria-label"]?e.role||"img":void 0,"aria-hidden":void 0===e["aria-label"],style:[i.Z.root,e.style],viewBox:"0 0 24 24",children:a.createElement("g",null,a.createElement("path",{d:"M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 8.129 3.64 8.129 8.13 0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01z"}))},{writingDirection:t})};s.metadata={width:24,height:24};const l=s}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loader.Spacebar~loader.SidebarSpacebar.9fb614da.js.map