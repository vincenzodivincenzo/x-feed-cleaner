(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~bundle.GrokDrawer~bundle.Grok","loader.FeedbackSheet"],{774426:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});n(136728);var a=n(202784),o=n(811176),r=n(190286),i=n(111677),s=n.n(i),l=n(912021);const c=s().cfd2f35e;class d extends a.Component{constructor(...e){super(...e),this.state={activeConfirmation:null},this._handleConfirm=e=>{this.setState({activeConfirmation:e})},this._handleConfirmed=()=>{this.state.activeConfirmation&&this.state.activeConfirmation.confirmCallback(),this.setState({activeConfirmation:null}),this.props.onClose()},this._handleCancelConfirm=()=>{this.state.activeConfirmation&&this.state.activeConfirmation.cancelCallback?.(),this.setState({activeConfirmation:null})},this._getMemoizedProcessedActionItems=(0,l.Z)(((e,t,n,a)=>e.reduce(((e,{Icon:o,confirmation:r,disabled:i,excludeFromActionMenu:s,isEmphasized:l,link:c,onClick:d,subText:m,testID:u,text:p,withCancelButton:g},h)=>{if(!s){const s=d?()=>{r?r.render?a({cancelCallback:r.onCancel,confirmCallback:d,render:r.render}):a({cancelCallback:r.onCancel,confirmCallback:d,text:r.text,headline:r.headline,label:r.label,confirmButtonType:r.confirmButtonType,withCancelButton:r.withCancelButton}):(d(),n())}:n;e.push({disabled:i,Icon:o,isEmphasized:l,testID:u,subText:m,text:p,onClick:s,link:c,withBottomBorder:t&&t.includes(h)})}return e}),[])))}render(){const{onClose:e}=this.props,{activeConfirmation:t}=this.state;return t?this._renderConfirmation(t):a.createElement(o.Z,{cancelButtonLabel:c,items:this._getProcessedActionItems(),onCloseRequested:e})}_renderConfirmation(e){if(e&&e.render)return e.render(this._handleConfirmed,this._handleCancelConfirm);{const{confirmButtonType:t,headline:n,label:o,text:i,withCancelButton:s}=e||{};return a.createElement(r.Z,{confirmButtonLabel:o,confirmButtonType:t,headline:n,onCancel:this._handleCancelConfirm,onConfirm:this._handleConfirmed,text:i,withCancelButton:s})}}_getProcessedActionItems(){const{actionItems:e,dividerIndices:t,onClose:n}=this.props;return this._getMemoizedProcessedActionItems(e,t,n,this._handleConfirm)}}const m=d},123702:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});const a=function(e,t={}){const n={listUnicodeChar:t.listUnicodeChar??void 0,stripListLeaders:t.stripListLeaders??!0,gfm:t.gfm??!0,useImgAltText:t.useImgAltText??!0,abbr:t.abbr??!1,replaceLinksWithURL:t.replaceLinksWithURL??!1,htmlTagsToSkip:t.htmlTagsToSkip??[],throwError:t.throwError??!1};let a=e||"";a=a.replace(/<grok:render[^>]*>[\s\S]*?<\/grok:render>/gi,""),a=a.replace(/<grok:richcontent[^>]*>[\s\S]*?<\/grok:richcontent>/gi,""),a=a.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*/gm,"");try{n.stripListLeaders&&(a=n.listUnicodeChar?a.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,`${n.listUnicodeChar} $1`):a.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),n.gfm&&(a=a.replace(/\n={2,}/g,"\n").replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),n.abbr&&(a=a.replace(/\*\[.*\]:.*\n/,"")),a=a.replace(/<[^>]*>/g,"");let e=new RegExp("<[^>]*>","g");if(n.htmlTagsToSkip.length>0){const t=`(?!${n.htmlTagsToSkip.join("|")})`;e=new RegExp(`<${t}[^>]*>`,"ig")}a=a.replace(e,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,n.useImgAltText?"$1":"").replace(/\[([^\]]*?)\][\[\(].*?[\]\)]/g,n.replaceLinksWithURL?"$2":"$1").replace(/^(\n)?\s{0,3}>\s?/gm,"$1").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s*( (.+))? +#+$|^(\n)?\s{0,}#{1,6}\s*( (.+))?$/gm,"$1$3$4$6").replace(/(\*+)(.*?)\1/g,"$2").replace(/(^|\W)([_]+)(\S)(.*?\S)??\2($|\W)/g,"$1$3$4$5").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/~(.*?)~/g,"$1")}catch(t){if(n.throwError)throw t;return e}return a}},507651:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(807896),o=n(202784),r=n(107267),i=n(403556),s=n(791632);const l=e=>{const t=(0,r.useHistory)(),{isCompact:n,...l}=e;return o.createElement(i.Z,(0,a.Z)({},l,{isCompact:n||(0,s.HD)(t)}))},c=o.memo(l)},931292:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(6157),o=n(917799),r=n(189953);const i=e=>(t,n,{api:i})=>o._O(t,{params:{cursor:e},request:i.withEndpoint(a.Z).fetchHistory})({actionTypes:r.Sv,context:"FETCH_GROK_HISTORY",meta:{}})},756869:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var a=n(6157),o=n(917799),r=n(189953);const i=e=>(t,n,{api:i})=>o._O(t,{params:{cursor:e},request:i.withEndpoint(a.Z).fetchMediaHistory})({actionTypes:r.Ws,context:"FETCH_GROK_MEDIA_HISTORY",meta:{}})},576466:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var a=n(6157),o=n(917799),r=n(189953);const i=e=>(t,n,{api:i})=>o._O(t,{params:{conversationId:e},request:i.withEndpoint(a.Z).grokPinConversation})({actionTypes:r.lh,context:"PIN_GROK_CONVERSATION",meta:{conversationId:e}})},281030:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var a=n(6157),o=n(917799),r=n(189953);const i=e=>(t,n,{api:i})=>o._O(t,{params:{conversationId:e},request:i.withEndpoint(a.Z).grokUnpinConversation})({actionTypes:r.lm,context:"UNPIN_GROK_CONVERSATION",meta:{conversationId:e}})},179175:(e,t,n)=>{"use strict";n.d(t,{V:()=>y});var a=n(202784),o=n(325686),r=n(154003),i=n(392237),s=n(111677),l=n.n(s),c=n(487552),d=n(125363),m=n(389071),u=n(189953),p=n(312771),g=n(654917),h=n(842536),f=n(917862);const C=l().hc965308,b=l().eb78b77e,y=()=>{const e=(0,d.oR)(),{mode:t}=(0,g.ZP)(),[n,i]=a.useState(!1),s=t===u.IK.FUN,l=(0,m.F9)(e.getState()),y=(0,d.v9)(m.Pt),[E,k]=a.useState(!1);a.useEffect((()=>{y===p.ZP.LOADED&&k(!0)}),[y]);const x=`${l?.name??""}${s?`: ${b}`:""}`,Z={label:x},w=a.useCallback((()=>{i(!0)}),[i]),I=a.useCallback((()=>{i(!1)}),[i]),S=l?.name??"",_=l?.iconName??"",{tags:T,text:R}=a.useMemo((()=>(0,f.n)(S)),[S]);if(E)return a.createElement(o.Z,null,a.createElement(r.ZP,{"aria-label":x,backgroundColor:"transparent",borderColor:"transparent",color:"text",hoverLabel:Z,onPress:n?I:w,size:"small",style:v.button},a.createElement(o.Z,{style:v.buttonContent},a.createElement(f.I,{iconName:_,modeLabel:s?C:void 0,name:R,tags:T}),a.createElement(c.default,{style:v.chevron}))),a.createElement(o.Z,null,a.createElement(h.C,{isOpen:n,onClose:I})))},v=i.default.create((e=>({button:{borderRadius:e.borderRadii.large,color:e.colors.text,width:"max-content",alignItems:"center",paddingStart:e.spaces.space12,paddingEnd:e.spaces.space8,animationDuration:"0.2s",animationKeyframes:[{"0%":{opacity:0},"100%":{opacity:1}}],animationTimingFunction:"ease",animationFillMode:"both"},buttonContent:{flexDirection:"row",alignItems:"center"},chevron:{width:e.spaces.space16,height:e.spaces.space16,position:"relative",marginStart:e.spaces.space4,color:e.colors.gray500}})))},842536:(e,t,n)=>{"use strict";n.d(t,{C:()=>T,g:()=>_});var a=n(202784),o=n(325686),r=n(143670),i=n(731708),s=n(721266),l=n(451566),c=n(392237),d=n(111677),m=n.n(d),u=n(979826),p=n(408814),g=n(642317),h=n(99223),f=n(323265),C=n(952793),b=n(839090),y=n(725516),v=n(125363),E=n(389071),k=n(189953),x=n(654917),Z=n(917862);const w=m().eb78b77e,I=m().ac164552,S="grok",_={IconCameraFlash:u.default,IconLightbulbGrokStrokeOff:p.default,IconRocketStroke:g.default},T=({isOpen:e,onClose:t})=>{const n=(0,y.z)(),c=!!f.ZP.isWebView(),d=(0,C.hC)("responsive_web_grok_fun_mode_disabled"),{changeMode:m,changeModel:u,mode:p,modelId:g}=(0,x.ZP)(),T=p===k.IK.FUN,z=(0,v.v9)(E.vf),H=a.useCallback((e=>{m(e?k.IK.FUN:k.IK.REGULAR,n)}),[m,n]),L=a.useCallback((e=>{const a=z.find((t=>t.id===e));a&&(u(e,a.id,n),t())}),[u,z,n,t]),P=a.useMemo((()=>z.map(((e,n)=>{const{tags:o,text:i}=(0,Z.n)(e.name),s=!1===e.isFree,l=e.isEnabled,d=e.iconName?_[e.iconName]:void 0;return a.createElement(r.Z,{Icon:d,actionSubText:e.description,actionText:a.createElement(Z.I,{name:i,tags:o}),disabled:!l,isSelected:e.id===g,key:`model_${e.id}`,link:s&&l?{pathname:"/i/premium_sign_up",state:{referring_page:S},external:c,query:{referring_page:S}}:void 0,onClick:()=>{s?t():L(e.id)},selectable:!0,style:!l&&R.disabled})}))),[g,z,L,c,t]),B=a.useCallback((()=>{n.scribe({element:"go-to-grok-com",action:"click"}),window.location.href="https://grok.com/?referrer=x"}),[n]);return e?a.createElement(b.Z,{contentStyle:R.dropdown,isFixed:!0,onAnimateComplete:()=>{n.scribe({element:"open-mode-action-menu",action:"show"})},onDismiss:t,preferredHorizontalOrientation:"center"},P,a.createElement(o.Z,{style:R.divider}),a.createElement(r.Z,{Icon:h.default,actionText:a.createElement(i.ZP,{style:R.grokRerouteHeader,weight:"medium"},I),onClick:B,selectable:!0}),d?null:a.createElement(o.Z,{style:R.switchContainer},a.createElement(i.ZP,{weight:"medium"},w),a.createElement(s.Z,{axis:"x",size:"space32"}),a.createElement(l.Z,{onValueChange:H,value:T}))):null},R=c.default.create((e=>({dropdown:{minWidth:280},disabled:{cursor:"default"},upsellContainer:{padding:16},switchContainer:{padding:16,flexDirection:"row",justifyContent:"space-between",borderTopStyle:"solid",borderTopWidth:e.borderWidths.small,borderColor:e.colors.borderColor},divider:{height:1,backgroundColor:e.colors.gray50,width:"100%"},grokRerouteHeader:{fontSize:e.fontSizes.subtext1}})))},917862:(e,t,n)=>{"use strict";n.d(t,{I:()=>c,n:()=>m});n(136728);var a=n(202784),o=n(325686),r=n(731708),i=n(868634),s=n(392237),l=n(842536);const c=({iconName:e,modeLabel:t,name:n,tags:s})=>{const c=e?l.g[e]:null;return a.createElement(o.Z,{style:d.content},c&&a.createElement(c,{name:e,style:d.icon}),a.createElement(r.ZP,{color:"text"},n),t?a.createElement(r.ZP,{style:d.modeLabel},t):void 0,s.map(((e,t)=>a.createElement(i.ZP,{key:`tag_${n}_${e}`,style:d.tag},a.createElement(r.ZP,{color:"blue500"},e)))))},d=s.default.create((e=>({content:{flexDirection:"row",gap:e.spaces.space4,alignItems:"center"},tag:{paddingHorizontal:e.spaces.space8,backgroundColor:e.colors.blue0},modeLabel:{marginStart:e.spaces.space2,color:e.colors.gray700},icon:{width:e.spaces.space16,height:e.spaces.space16}})));function m(e){const t=e.match(/(\((.*?)\))|([^\(\)]+)/g);let n="";const a=[];return t&&(t.forEach((e=>{e.startsWith("(")?a.push(e.slice(1,-1).trim()):n+=`${e.trim()} `})),n=n.trim()),{text:n,tags:a}}},917270:(e,t,n)=>{"use strict";n.d(t,{O:()=>C});var a=n(202784),o=n(325686),r=n(525271),i=n(721266),s=n(392237),l=n(111677),c=n.n(l),d=n(323265),m=n(725516),u=n(54957),p=n(888004),g=n(871362),h=n(302176);const f=c().b61ad410,C=({onDrawerDismiss:e})=>a.createElement(r.Z,{align:"right",buttonType:"primaryText",onDismissed:e,style:y.drawer,title:f,withBackgroundBlur:!0},a.createElement(b,{onDrawerDismiss:e})),b=({onDrawerDismiss:e})=>{const t=(0,m.z)(),[n,r]=a.useState(h.G.all),[s,l]=a.useState(Math.random()),[c,f]=a.useState(void 0),C=a.useCallback((e=>{t.scribe({element:"grok_search",action:"submit"}),f(encodeURIComponent(e)),l(Math.random())}),[t]),b=a.useMemo((()=>n===h.G.images?a.createElement(g.v,null):n===h.G.pins?a.createElement(p.s,null):a.createElement(u.c,{onHistoryLinkClicked:e,onSearchSubmit:C,searchKey:s,searchValue:c??""})),[c,s,n,e,C]);return a.createElement(o.Z,{style:y.container},d.ZP.isWebView()?a.createElement(i.Z,{size:"space56"}):null,a.createElement(o.Z,{style:y.headerContainer},a.createElement(o.Z,{style:y.contentContainer},a.createElement(o.Z,{style:y.staticContentContainer},a.createElement(h.k,{onTabChange:r,selectedTab:n})))),a.createElement(o.Z,{style:y.scrollSection},a.createElement(o.Z,{style:y.innerContentContainer},b)))},y=s.default.create((e=>({container:{width:"100%",height:"100%",flexDirection:"column",position:"relative"},headerContainer:{width:"100%"},mainContainer:{flex:1,display:"flex",flexDirection:"column",height:"100%"},contentContainer:{flex:1},staticContentContainer:{width:"100%",maxWidth:500,flexShrink:0},drawer:{width:440},searchContainer:{flexDirection:"row",flexGrow:1,flexShrink:1,marginHorizontal:e.spaces.space4,alignItems:"center",marginVertical:"unset"},post:{borderBottomWidth:1,borderBottomColor:e.colors.borderColor},scrollView:{flex:1,width:"100%",marginTop:0},innerContentContainer:{paddingTop:0,height:"100%"},scrollSection:{flex:1,position:"relative"},searchSection:{flexShrink:0,width:"100%"}})))},464023:(e,t,n)=>{"use strict";n.d(t,{F4:()=>i,J5:()=>s,N_:()=>o,UD:()=>l,c0:()=>a,oq:()=>c,uY:()=>r,vf:()=>d});const a="1720665183188922368",o="grokWebviewEventMessageHandler",r="tappedClearHistoryButton",i="clearHistoryWithoutConfirm",s="setModeFun",l="setModeNormal",c="setModel",d=800},78882:(e,t,n)=>{"use strict";n.d(t,{I2:()=>i,T6:()=>s,ZP:()=>l});var a=n(392237),o=n(198438),r=n(521514);const i=[.4,.53,.66,.8],s=.8,l=a.default.create((e=>({root:{position:"relative",alignSelf:"flex-end",marginEnd:e.spaces.space20,marginBottom:e.spaces.space12,minWidth:r.Z.dmDrawerWidth.min,maxWidth:r.Z.dmDrawerWidth.max,transition:`all ${o.s}ms ease`},main:{position:"absolute",backgroundColor:e.colors.navigationBackground,borderRadius:e.borderRadii.xLarge,overflow:"hidden",boxShadow:e.boxShadows.medium,flex:1,width:"100%",maxHeight:100*s+"vh"},hidden:{display:"none"},contentContainer:{flex:1,height:"unset",overflow:"auto",minHeight:"unset",maxHeight:"unset"},drawerHeaderRadius:{borderTopStartRadius:e.borderRadii.xLarge,borderTopEndRadius:e.borderRadii.xLarge},reducedMotion:{transition:"none"},collapsedSmall:{maxWidth:55,alignSelf:"flex-end",borderColor:e.colors.gray400,borderWidth:e.spaces.space1,backgroundColor:e.colors.appBarBackground,backdropFilter:"blur(12px)"},denyPointer:{pointerEvents:"none"},allowPointer:{pointerEvents:"auto"}})))},807901:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});n(543673),n(240753),n(128399),n(136728);var a=n(202784),o=n(107267),r=n(111677),i=n.n(r),s=n(774426),l=n(725516),c=n(125363),d=n(189953),m=n(928831),u=n(623494),p=n(654917);const g=i().f794af9a,h=i().eccf9fea;function f(){const e=(0,c.I0)(),t=(0,p.uf)(),n=(0,o.useHistory)(),r=(0,c.v9)(t.selectCanClearConversation),{access:i,changeMode:f,mode:C}=(0,p.ZP)(),{clearFilterKey:b}=(0,m.w)(),y=!1!==i,v=(0,l.z)(),E=(0,o.useLocation)(),k=a.useCallback((()=>{const a=new URLSearchParams(E.search),o=a.get("analysisEntityId"),i=a.get("conversation");(o||i)&&r?(n.goBack(),setTimeout((()=>{e(t.clearConversation())}),500)):r?e(t.clearConversation()):n.goBack()}),[r,e,t,n,E.search]),x=a.useCallback((()=>{r&&(e(t.clearConversation()),n.push("/i/grok"),(0,u.ZY)(v),b())}),[v,r,e,t,n,b]),Z=a.useCallback((()=>{r&&(e(t.clearConversation()),(0,u.ZY)(v),b())}),[v,r,e,t,b]),w=a.useCallback((e=>{const t=[{disabled:C===d.IK.REGULAR,onClick:function(){f(d.IK.REGULAR,v)},text:h},{disabled:C===d.IK.FUN,onClick:function(){f(d.IK.FUN,v)},text:g}];return a.createElement(s.default,{actionItems:t,onClose:e})}),[v,C,f]);return{canClearConversation:r,handleBackClick:k,handleClearConversationClick:x,handleClearConversationClickWithoutNav:Z,isEligible:y,renderActionsMenu:w}}},302176:(e,t,n)=>{"use strict";n.d(t,{G:()=>u,k:()=>b});var a=n(202784),o=n(325686),r=n(154003),i=n(392237),s=n(111677),l=n.n(s),c=n(894966),d=n(323265),m=n(507651);const u={all:"all",images:"images",pins:"pins"},p=l().dab087ee,g=l().i3145aa0,h=l().a911623c,f=l().b08821f4,C={label:f},b=({onTabChange:e,selectedTab:t})=>{const n=!!d.ZP.isWebView(),i=a.useCallback((e=>()=>t===e),[t]),s=a.useMemo((()=>[{key:u.all,label:p,isActive:i(u.all),onClick:()=>e(u.all)},{key:u.pins,label:g,isActive:i(u.pins),onClick:()=>e(u.pins)},{key:u.images,label:h,isActive:i(u.images),onClick:()=>e(u.images)}]),[i,e]);return a.createElement(a.Fragment,null,a.createElement(o.Z,{style:y.header},n?a.createElement(o.Z,{style:y.backButtonContainer},a.createElement(r.ZP,{"aria-label":f,hoverLabel:C,icon:a.createElement(c.default,null),link:"/i/grok",type:"primaryText"})):null,a.createElement(o.Z,{style:y.tabsContainer},a.createElement(m.Z,{links:s,style:y.tabs}))))},y=i.default.create((e=>({container:{paddingHorizontal:e.spaces.space24},header:{flexDirection:"row",width:"100%"},tabsContainer:{flex:1,alignItems:"center",borderBottomWidth:1,borderColor:e.colors.borderColor},tabs:{borderBottomWidth:0,width:"100%",maxWidth:400,cursor:"pointer"},backButtonContainer:{alignItems:"center",justifyContent:"center",paddingHorizontal:e.spaces.space8,borderBottomWidth:1,borderColor:e.colors.borderColor}})))},736414:(e,t,n)=>{"use strict";n.d(t,{G:()=>W});var a,o,r={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"conversationId"},{defaultValue:null,kind:"LocalArgument",name:"title"}],kind:"Fragment",metadata:null,name:"ConversationItem_RenameConversationMutation",selections:o=[{alias:null,args:[{kind:"Variable",name:"conversation_id",variableName:"conversationId"},{kind:"Variable",name:"new_title",variableName:"title"},{kind:"Literal",name:"s",value:"fd90"}],concreteType:"GrokConversationEditResponse",kind:"LinkedField",name:"grokconversation_edit",plural:!1,selections:[{alias:null,args:null,concreteType:"GrokConversationEditError",kind:"LinkedField",name:"edit_error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"error_code",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ConversationItem_RenameConversationMutation",selections:o},params:{id:"bGjN_WgGMm3ugR5LI9MyAA",metadata:{},name:"ConversationItem_RenameConversationMutation",operationKind:"mutation",text:null}};r.hash="6cd9dd0fa4500f77177e5a9677719bfe";const i=r;var s=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"conversationId"}],t=[{alias:null,args:[{kind:"Variable",name:"conversation_id",variableName:"conversationId"},{kind:"Literal",name:"s",value:"fd90"}],concreteType:"GrokDeletionResponse",kind:"LinkedField",name:"delete_grok_conversation",plural:!1,selections:[{alias:null,args:null,concreteType:"GrokDeletionError",kind:"LinkedField",name:"grok_deletion_error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"error_code",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ConversationItem_DeleteConversationMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ConversationItem_DeleteConversationMutation",selections:t},params:{id:"TlKHSWVMVeaa-i7dqQqFQA",metadata:{},name:"ConversationItem_DeleteConversationMutation",operationKind:"mutation",text:null}}}();s.hash="6aa0a6abc91d6a64847a13c0f4b338ae";const l=s;var c=n(202784),d=n(325686),m=(n(585488),n(351743)),u=n.n(m),p=n(58881),g=n(392237),h=n(811176),f=n(371344),C=n(530732),b=n(731708),y=n(247056),v=n(111677),E=n.n(v),k=n(885724),x=n(607127),Z=n(73416),w=n(883069),I=n(149170),S=n(125363),_=n(389071),T=n(576466),R=n(281030),z=n(601576);const H=E().d96cf7ce,L=E().ef4602ec,P=E().d4eb0e26,B=l,D=i,W=c.memo((({isFavorite:e,onHistoryLinkClicked:t,restId:n,selected:a,title:o})=>{const r=(0,S.I0)(),[i,s]=c.useState(!1),[l,m]=c.useState(o),[v]=u()(B),[E]=u()(D);c.useEffect((()=>{m(o)}),[o]);const W=p.Z.generate({backgroundColor:g.default.theme.colors.transparent,color:g.default.theme.colors.blue500,insetFocusRing:!0});function M(){v({onCompleted:e=>{e.delete_grok_conversation?.grok_deletion_error?r(z.fz({text:L})):r((0,_.SJ)(n))},variables:{conversationId:n}})}function F(){s(!0)}function A(){E({onCompleted:e=>{e.grokconversation_edit?.edit_error?r(z.fz({text:L})):r((0,_.lo)(n,l)),s(!1)},variables:{conversationId:n,title:l}})}function O(e){const t=[{Icon:k.default,onClick:F,text:P},{Icon:x.default,onClick:M,text:H}];return c.createElement(h.Z,{items:t,onCloseRequested:e})}return i?c.createElement(d.Z,{style:$.container},c.createElement(d.Z,{style:[$.conversation,$.editing]},c.createElement(f.Z,{autoFocus:!0,inputStyle:$.input,numberOfLines:3,onBlur:A,onChange:function(e){m(e.target.value)},onSubmitEditing:A,styleType:"selection",value:l}))):c.createElement(C.Z,{interactiveStyles:{},link:`/i/grok?conversation=${n}`,onPress:()=>{t?.()},style:$.container},(i=>c.createElement(d.Z,{style:[$.conversation,a?$.selected:null,i.isHovered?$.hover:null]},c.createElement(c.Fragment,null,c.createElement(b.ZP,{color:"text",link:`/i/grok?conversation=${n}`,numberOfLines:3,onPress:()=>{t?.()},withInteractiveStyling:!1},o),c.createElement(d.Z,{style:$.controls},c.createElement(b.ZP,{color:"gray500"},c.createElement(C.Z,{interactiveStyles:W,onPress:t=>{r(e?(0,R.l)(n):(0,T.v)(n)),t.preventDefault()},style:{borderRadius:999}},(t=>c.createElement(d.Z,{style:$.starIconContainer},c.createElement(b.ZP,{color:t.isHovered?"blue500":"gray500"},e?c.createElement(Z.default,null):c.createElement(w.default,null)))))),c.createElement(y.Z,{Icon:I.default,renderActionMenu:O}))))))})),$=g.default.create((e=>({controls:{flexDirection:"row",gap:e.spaces.space4},selected:{backgroundColor:e.colors.gray100},hover:{backgroundColor:e.colors.gray50},editing:{backgroundColor:e.colors.gray50,paddingTop:e.spaces.space12,paddingBottom:e.spaces.space12},container:{marginBottom:e.spaces.space1},conversation:{gap:e.spaces.space8,marginStart:e.spaces.space12,marginEnd:e.spaces.space16,backgroundColor:e.colors.transparent,paddingStart:e.spaces.space12,paddingEnd:e.spaces.space16,paddingTop:e.spaces.space8,paddingBottom:e.spaces.space8,transitionProperty:"background-color",transitionDuration:".1s",alignItems:"center",flexDirection:"row",justifyContent:"space-between",borderRadius:e.borderRadii.large},input:{padding:0},starIconContainer:{width:32,height:32,borderRadius:e.borderRadii.infinite,alignItems:"center",justifyContent:"center",cursor:"pointer"}})))},54957:(e,t,n)=>{"use strict";n.d(t,{c:()=>S});var a=n(807896),o=n(202784),r=n(555874),i=n(325686),s=n(731708),l=n(721266),c=n(392237),d=n(111677),m=n.n(d),u=n(933277),p=n(597496),g=n(125363),h=n(389071),f=n(931292),C=n(601576),b=n(654917),y=n(975226),v=n(751621),E=n(556756),k=n(736414);const x=m().b3de2628,Z=m().acfbfb28,w=m().ef4602ec,I=({customSearchBox:e,searchBoxOptions:t})=>o.createElement(i.Z,{style:_.searchContainer},e||o.createElement(p.Rj,(0,a.Z)({},t,{isCompact:!0,shouldHandleSearchShortcut:!0}))),S=({onHistoryLinkClicked:e,onSearchSubmit:t,searchKey:n,searchValue:a})=>{const c=(0,g.I0)(),d=(0,g.v9)(h.bv),m=(0,g.v9)(h.V$),p=(0,g.v9)(h.JE),S=(0,b.uf)(),T=(0,g.v9)(S.selectConversationId),R=o.useMemo((()=>(0,u.Z)(d??[],(({created_at_ms:e})=>e?(0,y._)(e):""))),[d]),z=o.useMemo((()=>Object.keys(R)),[R]),H=o.useCallback(((e=!0)=>{const t=e?m:void 0;null!==t&&c((0,f.A)(t)).catch((()=>{c((0,C.fz)({text:w}))}))}),[c,m]);o.useEffect((()=>{H(!1)}),[]);const L=o.useCallback((t=>o.createElement(o.Fragment,null,o.createElement(s.ZP,{color:"gray700",style:_.conversation,weight:"bold"},t.item),R[t.item].map((({grokConversation:t,is_pinned:n,title:a})=>o.createElement(k.G,{isFavorite:n??!1,key:t.rest_id,onHistoryLinkClicked:e,restId:t.rest_id,selected:T===t.rest_id,title:a}))))),[T,R,e]);return 0===z.length&&"loading"===p?null:d&&0!==d.length?o.createElement(i.Z,{style:_.container},o.createElement(i.Z,{style:_.searchBoxContainer},o.createElement(I,{customSearchBox:o.createElement(v.v,{initialValue:a,onSubmit:t})})),a?o.createElement(E.D,{onSearchHistoryClicked:e,query:a,queryKey:n}):o.createElement(i.Z,{style:_.content},o.createElement(r.Z,{ItemSeparatorComponent:()=>o.createElement(l.Z,{size:"space8"}),ListFooterComponent:()=>o.createElement(l.Z,{size:"space16"}),ListHeaderComponent:()=>o.createElement(l.Z,{size:"space8"}),data:z,keyExtractor:(e,t)=>z[t],onEndReached:H,onEndReachedThreshold:.4,renderItem:L,style:{height:"100%"}}))):o.createElement(i.Z,{style:_.noHistoryContainer},o.createElement(i.Z,null,o.createElement(s.ZP,{size:"title3",weight:"bold"},x),o.createElement(l.Z,{size:"space4"}),o.createElement(s.ZP,{color:"gray500",size:"body"},Z)))},_=c.default.create((e=>({container:{width:"100%",maxHeight:"100%",flexDirection:"column",alignItems:"center"},noHistoryContainer:{width:"100%",height:"calc(100vh - 53px)",alignItems:"center",justifyContent:"center"},content:{width:"100%",maxHeight:"100%",flex:1,position:"relative"},conversation:{alignItems:"start",flexDirection:"row",gap:e.spaces.space8,justifyContent:"space-between",paddingStart:e.spaces.space24,paddingEnd:e.spaces.space16,paddingBottom:e.spaces.space12,paddingTop:e.spaces.space4},header:{whiteSpace:"nowrap"},searchBoxContainer:{paddingStart:e.spaces.space12,paddingEnd:e.spaces.space12,paddingTop:e.spaces.space12,paddingBottom:e.spaces.space12,width:"100%"},searchContainer:{flexDirection:"row",flexGrow:1,flexShrink:1,marginHorizontal:e.spaces.space4,alignItems:"center",marginVertical:"unset"}})))},888004:(e,t,n)=>{"use strict";n.d(t,{s:()=>k});var a=n(202784),o=n(555874),r=n(325686),i=n(731708),s=n(721266),l=n(392237),c=n(111677),d=n.n(c),m=n(125363),u=n(389071),p=n(6157),g=n(917799),h=n(189953);var f=n(601576),C=n(654917),b=n(736414);const y=d().c64975ea,v=d().a3e3db6e,E=d().ef4602ec,k=({onHistoryLinkClicked:e})=>{const t=(0,m.I0)(),n=(0,C.uf)(),l=(0,m.v9)(n.selectConversationId),c=(0,m.v9)(u.OR),d=(0,m.v9)(u.NV),k=(0,m.v9)(u.BU),Z=a.useCallback(((e=!0)=>{const n=e?d:void 0;null!==n&&t((e=>(t,n,{api:a})=>g._O(t,{params:{cursor:e},request:a.withEndpoint(p.Z).fetchPinnedConversations})({actionTypes:h.En,context:"FETCH_GROK_PINNED_CONVERSATIONS",meta:{}}))(n)).catch((()=>{t((0,f.fz)({text:E}))}))}),[t,d]);a.useEffect((()=>{Z(!1)}),[]);const w=a.useCallback((({item:e})=>a.createElement(b.G,{isFavorite:!0,key:e.grokConversation.rest_id,onHistoryLinkClicked:()=>{},restId:e.grokConversation.rest_id,selected:l===e.grokConversation.rest_id,title:e.title})),[l]);return 0===c.length&&"loading"===k?null:c&&0!==c.length?a.createElement(r.Z,{style:x.container},a.createElement(r.Z,{style:x.content},a.createElement(o.Z,{ItemSeparatorComponent:()=>a.createElement(s.Z,{size:"space8"}),ListFooterComponent:()=>a.createElement(s.Z,{size:"space16"}),ListHeaderComponent:()=>a.createElement(s.Z,{size:"space8"}),data:c,keyExtractor:(e,t)=>e.grokConversation.id,onEndReached:Z,onEndReachedThreshold:.4,renderItem:w,style:{height:"100%"}}))):a.createElement(r.Z,{style:x.noHistoryContainer},a.createElement(r.Z,null,a.createElement(i.ZP,{size:"title3",weight:"bold"},y),a.createElement(s.Z,{size:"space4"}),a.createElement(i.ZP,{color:"gray500",size:"body"},v)))},x=l.default.create((e=>({container:{width:"100%",maxHeight:"100%",flexDirection:"column",alignItems:"center"},noHistoryContainer:{width:"100%",height:"calc(100vh - 53px)",alignItems:"center",justifyContent:"center",padding:e.spaces.space16,textAlign:"center"},content:{width:"100%",maxHeight:"100%",flex:1,position:"relative",paddingVertical:e.spaces.space8},conversation:{alignItems:"start",flexDirection:"row",gap:e.spaces.space8,justifyContent:"space-between",paddingStart:e.spaces.space16,paddingEnd:e.spaces.space16,paddingBottom:e.spaces.space16},header:{whiteSpace:"nowrap"}})))},871362:(e,t,n)=>{"use strict";n.d(t,{v:()=>_});var a=n(202784),o=n(555874),r=n(325686),i=n(537392),s=n(392237),l=n(731708),c=n(721266),d=n(111677),m=n.n(d),u=n(125363),p=n(389071),g=n(756869),h=n(601576),f=(n(136728),n(143670)),C=n(565421),b=n(725516),y=n(6157),v=n(917799),E=n(189953);var k=n(86657);const x=m().d96cf7ce,Z=({chatItemId:e,conversationId:t,mediaId:n,mediaUrl:o})=>{const r=(0,u.I0)(),i=(0,b.z)(),s=a.useMemo((()=>{const o=[];return e&&o.push(a.createElement(f.Z,{Icon:C.default,actionText:x,iconThumbnailColor:"danger",key:"deleteImage",onClick:a=>{i.scribe({element:"delete_image_button",action:"click"}),r((({chatItemId:e,conversationId:t})=>async(n,a,{api:o})=>v._O(n,{params:{conversation_id:t,chat_item_id:e},request:o.withEndpoint(y.Z).deleteMessage})({actionTypes:E.VK,context:"DELETE_GROK_MESSAGE",meta:{}}))({chatItemId:e,conversationId:t})).then((()=>{r((0,p.Pl)(n))}))},textColor:"red500"})),o}),[e,i,t,r,n]);return a.createElement(k.Z,{extraMenuItems:s,file:{fileName:"image.jpg",mimeType:"image/jpeg",mediaId:n,url:o},isLoading:!1,key:`image_${n}`})},w=m().f4ae77ac,I=m().d57d337e,S=m().ef4602ec,_=()=>{const e=(0,u.I0)(),t=(0,u.v9)(p.SL),n=(0,u.v9)(p.Tu),d=(0,u.v9)(p.hi),m=(0,i.Zx)((({containerWidth:e})=>e<s.default.theme.breakpoints.small?2:3)),f=a.useCallback(((t=!0)=>{const a=t?n:void 0;null!==a&&e((0,g._)(a)).catch((()=>{e((0,h.fz)({text:S}))}))}),[e,n]);a.useEffect((()=>{f(!1)}),[]);const C=a.useMemo((()=>{const e=t??[],n=[];for(let t=0;t<e.length;t++){const a=Math.floor(t/12);n[a]=[...n[a]??[],e[t]]}return n}),[t]),b=a.useMemo((()=>[T.imagesContainer,{gridTemplateColumns:`repeat(${m}, 1fr)`}]),[m]),y=a.useCallback((({index:e,item:t})=>a.createElement(r.Z,{style:b},t.map((({chat_item_id:e,grokConversation:t,media_id:n,media_url:o})=>n&&t&&o?a.createElement(Z,{chatItemId:e,conversationId:t.rest_id,key:e,mediaId:n,mediaUrl:o}):null)))),[b]);return 0===C.length&&"loading"===d?null:0===C.length?a.createElement(r.Z,{style:T.noHistoryContainer},a.createElement(r.Z,null,a.createElement(l.ZP,{size:"title3",weight:"bold"},w),a.createElement(c.Z,{size:"space4"}),a.createElement(l.ZP,{color:"gray500",size:"body"},I))):a.createElement(r.Z,{style:T.container},a.createElement(r.Z,{style:T.content},a.createElement(o.Z,{ItemSeparatorComponent:()=>a.createElement(c.Z,{size:"space8"}),ListFooterComponent:()=>a.createElement(c.Z,{size:"space16"}),ListHeaderComponent:()=>a.createElement(c.Z,{size:"space8"}),data:C,keyExtractor:e=>e[0]?.media_id??"",onEndReached:f,onEndReachedThreshold:.4,renderItem:y})))},T=s.default.create((e=>({container:{width:"100%",maxHeight:"100%",flexDirection:"column",alignItems:"center"},noHistoryContainer:{width:"100%",height:"calc(100vh - 53px)",alignItems:"center",justifyContent:"center"},content:{width:"100%",flex:1},conversation:{gap:e.spaces.space8,marginBottom:e.spaces.space24},header:{whiteSpace:"nowrap"},imagesContainer:{display:"grid",flexDirection:"row",flexWrap:"wrap",gap:e.spaces.space12,marginBottom:e.spaces.space12,paddingStart:e.spaces.space16,paddingEnd:e.spaces.space16}})))},751621:(e,t,n)=>{"use strict";n.d(t,{v:()=>p});var a=n(202784),o=n(325686),r=n(371344),i=n(392237),s=n(111677),l=n.n(s),c=n(956272),d=n(666536),m=n(464023);const u=l().i1147548,p=({initialValue:e,onSubmit:t})=>{const[n,i]=a.useState(e),s=a.useRef(null),[l,m]=a.useState(!1),p=a.useCallback((()=>m(!1)),[m]),h=a.useCallback((()=>m(!0)),[m]),f=a.useCallback((e=>{i(e.target.value)}),[]),C=a.useMemo((()=>(0,d.Z)((e=>t(e)),400)),[t]);a.useEffect((()=>{C(n)}),[n,C]);const b=a.useCallback((()=>{C.clear(),t(n)}),[n,t,C]);return a.createElement(o.Z,{style:g.container},a.createElement(o.Z,{style:g.inputWrapper},a.createElement(r.Z,{Icon:c.default,onBlur:p,onChange:f,onClear:e=>{i(""),b()},onFocus:h,onSubmitEditing:b,placeholder:u,ref:s,style:[g.input,l?g.selected:void 0],styleType:"selection",value:n,withClearButton:!0})))},g=i.default.create((e=>({container:{width:"100%",alignItems:"center",justifyContent:"center"},inputWrapper:{width:"100%",maxWidth:`calc(${m.vf}px + ${e.spaces.space32})`},selected:{outlineWidth:i.default.theme.spaces.space1},input:{backgroundColor:e.colors.gray50,borderRadius:e.spaces.space32,outlineColor:e.colors.primary,outlineWidth:0,outlineStyle:"solid"}})))},556756:(e,t,n)=>{"use strict";n.d(t,{D:()=>B});var a=n(202784),o=n(400752),r=n(555874),i=n(325686),s=n(437429),l=n.n(s),c=n(167630),d=n(731708),m=n(721266),u=n(392237),p=n(111677),g=n.n(p),h=n(166852),f=n(420182),C=n(125363),b=n(6157),y=n(917799),v=n(189953);var E=n(530732),k=n(123702),x=n(725516),Z=n(975226),w=n(548102),I=n.n(w);const S=200,_=(e,t,n)=>{const o=new RegExp(I()(t),"i"),r=e.search(o);if(-1===r)return e.substring(0,S);const i=r>100?r-100:0,s=e.length>r+100?r+100:e.length,l=e.substring(i,s),c=l.split(o),m=l.match(o);return a.createElement(d.ZP,null,c.map(((e,t)=>a.createElement(a.Fragment,{key:t},e,t<c.length-1?a.createElement(d.ZP,{style:n},m?.[t]??""):null))))};function T({chatItemId:e,conversationId:t,createdAt:n,message:o,onSearchHistoryClicked:r,searchQuery:i,title:s}){const l=(0,x.z)(),c=a.useMemo((()=>{let e="";return o&&(e=o.replace(/\n/g,"").trim(),e=(0,k.K)(e)),i&&e?_(e,i,{fontWeight:"900"}):e}),[o,i]),p=a.useMemo((()=>i&&s?_(s,i,{color:u.default.theme.colors.text,fontWeight:"900"}):s),[s,i]),g=a.useMemo((()=>n?(0,Z._)(n):""),[n]),h=a.useCallback((()=>{r?.(),l.scribe({element:"grok_search_result",action:"click"})}),[l,r]);return a.createElement(E.Z,{interactiveStyles:{hoverStyle:R.hover},link:`/i/grok?conversation=${t}`,onClick:h,style:R.conversation},a.createElement(d.ZP,{color:"text",numberOfLines:2,weight:"bold",withInteractiveStyling:!1},p),a.createElement(m.Z,{size:"space2"}),a.createElement(d.ZP,{color:"gray900",numberOfLines:4},c),a.createElement(m.Z,{size:"space8"}),a.createElement(d.ZP,{color:"gray500"},g))}const R=u.default.create((e=>({conversation:{alignItems:"start",paddingVertical:e.spaces.space8,paddingHorizontal:e.spaces.space12},hover:{backgroundColor:e.colors.gray0,borderRadius:e.borderRadii.medium}}))),z=g().ab437026,H=g().e12569ec,L=g().g61ed8a4,P=g().hb52cc4a,B=({onSearchHistoryClicked:e,query:t,queryKey:n})=>{const[s,u]=a.useState(!1),[p,g]=a.useState(!1),[E,k]=a.useState([]),x=(0,C.I0)(),Z=l()(),[{apiClient:w}]=(0,o.KO)(f.dd);a.useEffect((()=>{u(!0),g(!1),x((({keyword:e})=>async(t,n,{api:a})=>y._O(t,{params:{keyword:e},request:a.withEndpoint(b.Z).searchConversations})({actionTypes:v.Y8,context:"SEARCH_GROK_HISTORY",meta:{}}))({keyword:t})).then((e=>k(e))).catch((e=>{g(!0)})).finally((()=>{u(!1)}))}),[t,n,x,w,Z]);const I=a.useMemo((()=>(0,h.Z)(E,(e=>e.conversation?.id))),[E]);return s?a.createElement(i.Z,{style:D.fullScreenContainer},a.createElement(c.Z,{size:"large"})):p?a.createElement(i.Z,{style:D.fullScreenContainer},a.createElement(i.Z,null,a.createElement(d.ZP,{size:"title3",weight:"bold"},L),a.createElement(m.Z,{size:"space4"}),a.createElement(d.ZP,{color:"gray500",size:"body"},P))):0===I.length?a.createElement(i.Z,{style:D.fullScreenContainer},a.createElement(i.Z,null,a.createElement(d.ZP,{size:"title3",weight:"bold"},z),a.createElement(m.Z,{size:"space4"}),a.createElement(d.ZP,{color:"gray500",size:"body"},H))):a.createElement(i.Z,{style:D.container},a.createElement(i.Z,{style:D.content},a.createElement(r.Z,{ItemSeparatorComponent:()=>a.createElement(m.Z,{size:"space8"}),ListFooterComponent:()=>a.createElement(m.Z,{size:"space16"}),ListHeaderComponent:()=>a.createElement(m.Z,{size:"space8"}),contentContainerStyle:D.results,data:I,keyExtractor:e=>`${e.conversation.id}_${e.chatItemId}`,renderItem:({item:n})=>a.createElement(T,{chatItemId:n.chatItemId,conversationId:n.conversation.id,createdAt:n.createdAt,message:n.message,onSearchHistoryClicked:e,searchQuery:t,title:n.title})})))},D=u.default.create((e=>({loadingContainer:{width:"100%",height:"50%",alignItems:"center",justifyContent:"center"},container:{width:"100%",maxHeight:"100%",alignItems:"center",position:"relative"},content:{width:"100%",flex:1},results:{paddingHorizontal:e.spaces.space12},fullScreenContainer:{width:"100%",height:"calc(100vh - 53px)",alignItems:"center",justifyContent:"center"}})))},975226:(e,t,n)=>{"use strict";n.d(t,{_:()=>d});var a=n(111677),o=n.n(a),r=n(207137);const i=o().g02dacc0,s=o().c6e845c0,l=o().f3b9b9a7,c=o().jade381b,d=e=>{const t=new Date(e);return(0,r.zk)(t)?i:(0,r.gO)(t)?s:(0,r.FI)(t)?l(t):c(t)}},403556:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var a=n(807896),o=n(202784),r=n(194504),i=n(235902),s=n(392237),l=n(325686),c=n(111677),d=n.n(c),m=n(912021),u=n(516951),p=n(731708),g=n(310088),h=n(175993),f=n(58881),C=n(530732);const b=d().d2414d31,y=()=>d().ce4e85ae,v=d().fb9f6f39;class E extends o.Component{constructor(...e){super(...e),this._getMemoizedLink=(0,m.Z)(((e,t)=>{const{pathname:n,query:a,state:o}="string"==typeof e?{pathname:e,state:{},query:{}}:e;return{pathname:n,query:a,method:"push",state:{...o,lockScroll:t}}})),this._unlisten=u.Z,this.state={location:this.context.location},this._getTextColor=(e,t,n,a)=>{const o=s.default.theme.colors.text,r=s.default.theme.colors.gray700;return n||a?e||t?o:r:e?o:r},this._setRef=e=>{this._ref=e},this._handleClick=e=>{const{onClick:t}=this.props;t&&t(e)},this.focus=e=>{this._ref&&this._ref.focus(e)}}componentDidMount(){this.context&&(this._unlisten=this.context.listen((e=>{this.setState({location:e})})))}componentWillUnmount(){this._unlisten&&this._unlisten()}render(){const{Icon:e,"aria-label":t,badgeCount:n,badgePip:a,children:r,color:i,isActive:c,isCompact:d,isPillLink:m,isRoundedRect:u,isWebRedesign:h,retainScrollPosition:E,style:x,to:Z}=this.props,{location:w}=this.state,I=Z?this._getMemoizedLink(Z,E):void 0,S=c?c(Z):w?.pathname===I?.pathname,_=f.Z.generate({backgroundColor:"transparent",color:s.default.theme.colors.text,insetFocusRing:!0,customHoverBackgroundColor:m?k.pillHoverStyle.backgroundColor:void 0}),T=h?"medium":S?"bold":"medium";return o.createElement(C.Z,{"aria-label":t,"aria-selected":S,focusable:!!S,interactiveStyles:_,link:I,onPress:this._handleClick,ref:this._setRef,role:"tab",style:[...m?[k.pillStyle]:[k.link],...m&&S?[k.pillActiveStyle]:[],d?m?k.compactPill:k.compactLink:null,u?k.roundedRect:null,x],withoutInteractiveStyles:h},(({isFocused:t,isHovered:c})=>o.createElement(l.Z,{style:m&&k.flexGrow},o.createElement(p.ZP,{size:h?"headline2":void 0,style:[k.text,{color:this._getTextColor(S,c,h,m)},d&&k.compactText,h&&t&&k.focusedText,m&&k.pillTextStyle,m&&S&&k.pillActiveTextStyle,m&&c&&k.pillHoverTextStyle],weight:T},e&&o.createElement(e,{style:k.icon}),r,h||m?null:o.createElement(l.Z,{style:S&&[k.border,{backgroundColor:s.default.theme.colors[i]}]})),n?o.createElement(g.Z,{count:n,standalone:!0,style:[k.badge,n>=10&&k.multiDigitBadge,n>=20&&k.truncatedCountBadge],truncatedCountFormatter:v,unreadCountLabel:b,withBorder:!1}):a?o.createElement(g.Z,{pip:!0,standalone:!0,style:k.badgePip,textColor:"red500",unreadCountLabel:y,withBorder:!1}):null)))}}E.contextType=h.Z,E.defaultProps={children:[],color:"primary",retainScrollPosition:!0};const k=s.default.create((e=>({link:{alignItems:"center",display:"flex",flexDirection:"column",flexGrow:1,height:e.componentDimensions.appBarHeight,justifyContent:"center",outlineStyle:"none",paddingHorizontal:e.spaces.space16,minWidth:"56px"},compactLink:{height:.75*e.componentDimensions.appBarHeightPx},badge:{position:"absolute",height:e.spaces.space12,minWidth:e.spaces.space12,top:`calc(${e.spaces.space12} + ${e.spaces.space2})`,end:`calc(-1 * ${e.spaces.space16})`,fontSize:`calc(${e.spaces.space8} + ${e.spaces.space1})`},badgePip:{position:"absolute",backgroundColor:e.colors.red500,height:e.spaces.space8,minWidth:e.spaces.space8,top:e.spaces.space16,end:`calc(-1 * ${e.spaces.space12})`},multiDigitBadge:{paddingHorizontal:`calc(2 * ${e.spaces.space2})`,end:`calc(-1 * ${e.spaces.space20})`},truncatedCountBadge:{end:`calc(-1 * ${e.spaces.space28})`},text:{alignItems:"center",paddingTop:e.spaces.space16,paddingBottom:e.spaces.space16,display:"flex",flexDirection:"row",height:"100%",justifyContent:"center",position:"relative"},focusedText:{position:"relative",top:`calc(${e.borderWidths.medium} / 2)`,marginBottom:`-${e.spaces.space16}`,borderStyle:"solid",borderBottomWidth:e.borderWidths.medium,borderColor:e.colors.text,boxSizing:"border-box"},compactText:{paddingTop:e.spaces.space8,paddingBottom:e.spaces.space8},border:{height:e.borderWidths.large,position:"absolute",bottom:0,width:"100%",minWidth:"56px",alignSelf:"center",borderRadius:e.borderRadii.infinite},compactPill:{height:e.spaces.space36},active:{backgroundColor:e.colors.gray50},pillStyle:{backgroundColor:e.colors.transparent,borderColor:e.colors.gray50,borderRadius:e.borderRadii.infinite,borderStyle:"solid",borderWidth:e.spaces.space1,flexGrow:1,flexShrink:1,height:e.spaces.space40,paddingHorizontal:e.spaces.space16,paddingVertical:e.spaces.space8,minWidth:"56px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},pillTextStyle:{fontSize:e.fontSizes.subtext2,fontWeight:e.fontWeights.medium,color:e.colors.text},pillHoverStyle:{backgroundColor:e.colors.gray100,borderColor:e.colors.gray50},pillHoverTextStyle:{fontSize:e.fontSizes.subtext2,fontWeight:e.fontWeights.medium,color:e.colors.text},pillActiveStyle:{backgroundColor:e.colors.gray0,borderColor:e.colors.gray50},pillActiveTextStyle:{fontSize:e.fontSizes.subtext2,fontWeight:e.fontWeights.medium,color:e.colors.text},flexGrow:{flexGrow:1},icon:{marginEnd:e.spaces.space8},roundedRect:{borderRadius:e.borderRadii.large}}))),x=E,Z=s.default.create((e=>({segmentedControl:{borderBottomWidth:e.borderWidths.small,borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor},leftAligned:{alignContent:"start",justifyContent:"start"},flexGrow:{flexGrow:1},gap:{gap:e.spaces.space8},linkRedesign:{paddingHorizontal:e.spaces.space12,alignItems:"start",minWidth:e.spaces.space24},firstLinkRedesign:{paddingStart:e.spaces.space16},withNoPaddingStart:{paddingStart:0}}))),w=({alignFirstItem:e,"aria-label":t,isCompact:n,isPillLink:s,isRoundedRect:l,links:c,style:d,visibleItemIndex:m})=>{const u=c.filter(Boolean).map((e=>e.key)).join("-"),{isWebRedesign:p}=i.ZP.useProps(),g=p()&&!s,h=o.useMemo((()=>c.filter(Boolean).map((({label:t,viewType:r,...i},c)=>{const d=g?[Z.linkRedesign,0===c&&Z.firstLinkRedesign,e&&0===c&&Z.withNoPaddingStart]:void 0;return o.createElement(x,(0,a.Z)({viewType:r},i,{isCompact:n,isPillLink:s,isRoundedRect:l,isWebRedesign:g,style:d}),t)}))),[e,n,s,l,g,c]);return o.createElement(r.Z,{"aria-label":t,buttonsContainerStyle:s&&Z.gap,childrenStyle:!g&&Z.flexGrow,key:u,style:[s?null:Z.segmentedControl,g&&Z.leftAligned,d],visibleItemIndex:m},h)}},586035:(e,t,n)=>{"use strict";function a(e){return Boolean(e.voiceInfo?.clipIndex)}n.d(t,{B:()=>a})},41065:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(202784),o=n(890601),r=n(783427),i=n(347101);const s=(e={})=>{const{direction:t}=(0,r.Z)();return(0,o.Z)("svg",{...e,role:e["aria-label"]?e.role||"img":void 0,"aria-hidden":void 0===e["aria-label"],style:[i.Z.root,e.style],viewBox:"0 0 24 24",children:a.createElement("g",null,a.createElement("path",{d:"M6.866 18H.846l.075-1.069C1.33 11.083 4.335 9 7.011 9c1.457 0 2.734.576 3.743 1.615-.515.378-1.003.826-1.45 1.355-.562-.569-1.305-.97-2.293-.97-2.074 0-3.522 1.847-3.981 5h4.225c-.169.616-.295 1.288-.389 2zM4 5c0-1.654 1.343-3 3-3s3 1.346 3 3-1.343 3-3 3-3-1.346-3-3zm2 0c0 .551.448 1 1 1s1-.449 1-1-.448-1-1-1-1 .449-1 1zm9.5 5c-.778 0-1.49-.263-2.071-.693C12.566 8.669 12 7.653 12 6.5 12 4.57 13.567 3 15.5 3S19 4.57 19 6.5c0 1.111-.53 2.092-1.34 2.733-.596.472-1.341.767-2.16.767zM14 6.5c0 .827.673 1.5 1.5 1.5S17 7.327 17 6.5 16.327 5 15.5 5 14 5.673 14 6.5zm1.5 4.496c3.264 0 6.816 2.358 7 8.977L22.529 21H8.472l.029-1.027c.184-6.618 3.736-8.977 7-8.977zm0 2c-2.767 0-4.57 2.223-4.938 6.004h9.875c-.367-3.781-2.17-6.004-4.938-6.004z"}))},{writingDirection:t})};s.metadata={width:24,height:24};const l=s},452693:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(202784),o=n(890601),r=n(783427),i=n(347101);const s=(e={})=>{const{direction:t}=(0,r.Z)();return(0,o.Z)("svg",{...e,role:e["aria-label"]?e.role||"img":void 0,"aria-hidden":void 0===e["aria-label"],style:[i.Z.root,e.style],viewBox:"0 0 24 24",children:a.createElement("g",null,a.createElement("path",{d:"M12 1.75c-5.11 0-9.25 4.14-9.25 9.25 0 4.77 3.61 8.7 8.25 9.2v2.96l1.15-.17c1.88-.29 4.11-1.56 5.87-3.5 1.79-1.96 3.17-4.69 3.23-7.97.09-5.54-4.14-9.77-9.25-9.77zM13 14H9v-2h4v2zm2-4H9V8h6v2z"}))},{writingDirection:t})};s.metadata={width:24,height:24};const l=s},666536:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(936386),o=n.n(a);const r=(e,t,n)=>o()(e,t,n)},936386:e=>{function t(e,t,n){var a,o,r,i,s;function l(){var c=Date.now()-i;c<t&&c>=0?a=setTimeout(l,t-c):(a=null,n||(s=e.apply(r,o),r=o=null))}null==t&&(t=100);var c=function(){r=this,o=arguments,i=Date.now();var c=n&&!a;return a||(a=setTimeout(l,t)),c&&(s=e.apply(r,o),r=o=null),s};return c.clear=function(){a&&(clearTimeout(a),a=null)},c.flush=function(){a&&(s=e.apply(r,o),r=o=null,clearTimeout(a),a=null)},c}t.debounce=t,e.exports=t},548102:e=>{"use strict";var t=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(t,"\\$&")}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~bundle.GrokDrawer~bundle.Grok.6b90016a.js.map