"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~bundle.GrokDrawer~ondemand.-84f39d3f"],{194504:(t,e,n)=>{n.d(e,{Z:()=>E});var i=n(202784),o=n(325686),s=n(111677),r=n.n(s),l=n(894966),a=n(568320),d=n(161821),h=n(666536),c=n(837880),u=n(323265),p=n(461756),f=n(154003),v=n(530732),w=n(224162),g=n(392237),_=n(301049),b=n(145858);let m;const y=r().gea7aa3c,S=r().b6462b32,I=t=>function(){if(void 0!==m)return m;const t=document.createElement("template");t.innerHTML='<div dir="rtl" style="width: 1px; height: 1px; position: fixed; top: 0px; left: 0px; overflow: hidden"><div style="width: 2px"><span style="display: inline-block; width: 1px"></span><span style="display: inline-block; width: 1px"></span></div></div>';const e=t.content.firstChild;if(!(e&&e instanceof window.HTMLElement))return m;document.body&&document.body.appendChild(e);const n=e.scrollLeft;return e.remove(),m=0===n,m}()||!t,x=Object.freeze(["INPUT","SELECT","TEXTAREA"]);function C(t){switch(t.paletteName){case"light":return b.bs.white(1);case"dark":case"business":return b.bs.dim(1);case"darker":return b.bs.black(1);default:return t.colors.alwaysBlack}}function k({event:t,isCarouselLocked:e}){const{key:n,target:i}=t;return[_.Z.ArrowLeft,_.Z.ArrowRight].includes(n)&&!e&&!(function(t){return t instanceof HTMLElement&&t.isContentEditable}(i)||function(t){return t instanceof HTMLElement&&x.includes(t.nodeName)}(i))}class B extends i.Component{constructor(...t){super(...t),this._list=i.createRef(),this._focusedTabIndex=this.props.visibleItemIndex||0,this._childRefs={},this._scrollLeft=0,this._isMounted=!0,this.state={buttonWidth:0,hidePrevButton:!0,hideNextButton:!0,swipeableWidth:void 0},this.getListRef=()=>this._list.current,this._setChildRef=t=>e=>{this._childRefs[t]=e},this._isRTL=()=>{const{direction:t}=this.context;return"rtl"===t},this._handlePreviousClick=t=>{t.stopPropagation(),this._goToClosestOffScreen("Previous")},this._handleNextClick=t=>{t.stopPropagation(),this._goToClosestOffScreen("Next")},this._handleSwipeableLayout=t=>{const{nativeEvent:{layout:{width:e}}}=t;e!==this.state.swipeableWidth&&this._isMounted&&(this._updateListScrollPadding(),this.setState({swipeableWidth:e}))},this._handleButtonLayout=t=>{const{nativeEvent:{layout:{width:e}}}=t,{buttonWidth:n}=this.state;e>0&&e!==n&&this.setState({buttonWidth:e})},this._handleItemClick=t=>()=>{this._goToItem(t),this._focusedTabIndex=t},this._handleKeyDown=t=>{const{key:e}=t,{isLocked:n}=this.props,i=this._isRTL();!k({event:t,isCarouselLocked:n})||(t.preventDefault(),(!i&&e===_.Z.ArrowLeft||i&&e===_.Z.ArrowRight)&&this._goToPreviousIndex(),(!i&&e===_.Z.ArrowRight||i&&e===_.Z.ArrowLeft)&&this._goToNextIndex())},this._setupIntersectionObserver=()=>{window.IntersectionObserver&&(this._observer=new window.IntersectionObserver(this._handleIntersection,{root:this._list.current,rootMargin:"5px",threshold:[.5,1]}),this._observeChildRefs())},this._observeChildRefs=()=>{this._observer&&(this._observer.disconnect(),(0,d.Z)(this._childRefs).forEach((t=>{t&&this._observer.observe(t)})))},this._handleIntersection=(t,e)=>{const{children:n,onVisibleRangeChange:i}=this.props;this._handleScrollDebounce(),t.forEach((t=>{const o=Array.from(e.root.children).indexOf(t.target);0===o?this.setState({hidePrevButton:1===t.intersectionRatio}):o===n.length-1&&this.setState({hideNextButton:1===t.intersectionRatio}),-1!==o&&i&&i({index:o,intersectionRatio:t.intersectionRatio})}))},this._handleScroll=()=>{const{onScroll:t}=this.props,{swipeableWidth:e}=this.state;if(t&&e){const n=this._getLeftOffset(e);t({previous:this._scrollLeft,next:n}),this._scrollLeft=n}},this._handleScrollDebounce=(0,h.Z)(this._handleScroll,500),this._scrollToOffset=(t,e)=>{const n=this._list.current;n&&n.scrollTo&&n.scrollTo({left:t,behavior:this._getScrollBehavior(e)})},this._getLeftOffset=t=>{const e=this._list.current,n=e?e.scrollLeft:0,i=e?e.scrollWidth:0,o=this._isRTL();let s=0;return s=o?I(o)&&o?-1*Math.min(0,n):-1*Math.min(0,n-(i-t)):n,Math.ceil(s)},this._goToClosestOffScreen=t=>{const e=this._list.current,{children:n,withSingleIndexButtons:i,withWraparound:o}=this.props,s=this._isRTL(),r=s!==("Next"===t);let l=this._focusedTabIndex;if(e&&e.children.length===n.length){const n=e.getBoundingClientRect(),i="Previous"===t?[...e.children]:[...e.children].reverse();if(r){const t=i.findIndex((t=>t.getBoundingClientRect().right<n.right));l=s?t-1:e.children.length-t}else{const t=i.findIndex((t=>t.getBoundingClientRect().left>n.left));l=s?e.children.length-t:t-1}}l=o?(l+n.length)%n.length:(0,c.Z)(l,0,n.length-1),this._focusItem(l,i?void 0:"Next"===t?"start":"end")},this._goToPreviousIndex=()=>{const{children:t,withWraparound:e}=this.props,n=this._focusedTabIndex,i=e?t.length-1:0,o=0===n?i:n-1;this._focusItem(o)},this._goToNextIndex=()=>{const{children:t,withWraparound:e}=this.props,n=this._focusedTabIndex,i=e?0:t.length-1,o=n===t.length-1?i:n+1;this._focusItem(o)},this._updateListScrollPadding=t=>{const{listScrollPaddingStyle:e}=this.state;let n;void 0!==this.props.swipeablePaddingLeft&&void 0!==this.props.swipeablePaddingRight?n=`0 ${this.props.swipeablePaddingRight}px 0 ${this.props.swipeablePaddingLeft}px`:this.state.buttonWidth&&(n=`0 ${this.state.buttonWidth}px`),e?.scrollPadding!==n&&this.setState({listScrollPaddingStyle:{scrollPadding:n}})}}componentDidMount(){const{visibleItemIndex:t,withGlobalKeyboardNavigation:e}=this.props;t&&this._goToInitialItem(t),e&&window.document.addEventListener("keydown",this._handleKeyDown),this._setupIntersectionObserver()}componentDidUpdate(t,e){this.props.updateObserverWithChildren&&t.children.length!==this.props.children.length&&this._observeChildRefs(),this._handleSelectedItemChange(t),this._updateListScrollPadding(),t.withGlobalKeyboardNavigation!==this.props.withGlobalKeyboardNavigation&&(this.props.withGlobalKeyboardNavigation?window.document.addEventListener("keydown",this._handleKeyDown):window.document.removeEventListener("keydown",this._handleKeyDown))}componentWillUnmount(){this._observer&&this._observer.disconnect(),window.document.removeEventListener("keydown",this._handleKeyDown),this._isMounted=!1}render(){const{"aria-label":t,style:e}=this.props;return i.createElement(o.Z,{"aria-label":t,"aria-live":"polite",onKeyDown:this._handleKeyDown,role:"navigation",style:[L.root,e]},this._renderChildren())}_renderChildren(){const{buttonsContainerStyle:t,children:e,childrenStyle:n,contentPadding:s,isLocked:r,showOverflow:l}=this.props,{listScrollPaddingStyle:a}=this.state,d=this._getWithOffscreenItems(),h=this._isRTL()&&(u.ZP.isIOS()&&u.ZP.iOSVersion()<14||u.ZP.isSafari()&&u.ZP.isMac()&&u.ZP.safariVersion()<14);return i.createElement(v.Z,{interactiveStyles:null,style:L.swipeableContainer},(({isFocused:c,isFocusedWithin:u,isHovered:p})=>i.createElement(i.Fragment,null,this._renderPreviousButton(p||c||u),i.createElement(o.Z,{onLayout:this._handleSwipeableLayout,style:[L.swipeable,d||l?null:{overflow:"hidden"}],testID:"ScrollSnap-SwipeableList"},i.createElement(o.Z,{ref:this._list,role:"tablist",style:[L.list,r?L.notScrollable:L.scrollable,h&&L.listSafariRtl,d&&L.addRoomForOffscreenItems,t,a],testID:"ScrollSnap-List"},e.map(((t,r)=>t?i.createElement(o.Z,{key:r,onClick:this._handleItemClick(r),ref:this._setChildRef(r),role:"presentation",style:[L.item,n,s?0===r?{marginStart:s}:r===e.length-1?{marginEnd:s}:void 0:void 0]},t):null))),this._renderLeftShadowOverlay(),this._renderRightShadowOverlay()),this._renderNextButton(p||c||u))))}_renderPreviousButton(t){const{dominantButtonColor:e,isLocked:n,navButtonStyle:s,showNavButtonsOnHover:r,withAddedNavButtonClickArea:a}=this.props,{hidePrevButton:d}=this.state,h=d||r&&!t||n,c=i.createElement(l.default,{style:[L.navButtonIcon,h&&L.navButtonIconDisabled]}),u=a&&[L.navClickableArea,L.navClickableAreaPrev];return i.createElement(o.Z,{onClick:this._handlePreviousClick,style:[L.navButton,u,s,h&&L.hiddenNavButton,!p.Z.reducedMotionEnabled&&L.navButtonAnimation],testID:"ScrollSnap-prevButtonWrapper"},i.createElement(f.ZP,{"aria-label":S,disabled:h,dominantColor:e,icon:c,onClick:this._handlePreviousClick,onLayout:this._handleButtonLayout,type:"onMediaDominantColorFilled"}))}_renderNextButton(t){const{dominantButtonColor:e,isLocked:n,navButtonStyle:s,showNavButtonsOnHover:r,withAddedNavButtonClickArea:l}=this.props,{hideNextButton:d}=this.state,h=d||r&&!t||n,c=i.createElement(a.default,{style:[L.navButtonIcon,h&&L.navButtonIconDisabled]}),u=l&&[L.navClickableArea,L.navClickableAreaNext];return i.createElement(o.Z,{onClick:this._handleNextClick,style:[L.navButton,L.navButtonNext,u,s,h&&L.hiddenNavButton,!p.Z.reducedMotionEnabled&&L.navButtonAnimation],testID:"ScrollSnap-nextButtonWrapper"},i.createElement(f.ZP,{"aria-label":y,disabled:h,dominantColor:e,icon:c,onClick:this._handleNextClick,onLayout:this._handleButtonLayout,type:"onMediaDominantColorFilled"}))}_getWithOffscreenItems(){const{withOffscreenItems:t}=this.props;return!u.ZP.isSafari()&&t}_focusItem(t,e){const n=this._childRefs[t];n&&n.firstChild instanceof HTMLElement&&(n.firstChild.focus({preventScroll:!0}),this._focusedTabIndex=t,this._goToItem(t,e))}_handleSelectedItemChange(t){const{visibleItemIndex:e}=this.props;"number"==typeof e&&t.visibleItemIndex!==e&&this._goToItem(e)}_goToInitialItem(t){const{isLocked:e}=this.props;if(this._childRefs[t]&&!e){const e=this._childRefs[t];if(e){const t=e.getBoundingClientRect().left,n=this._childRefs[0]?.getBoundingClientRect().left||0;this._scrollToOffset(t-n,!0)}}}_goToItem(t,e){const{isLocked:n,scrollToCenter:i,withScrollIntoView:o}=this.props;if(this._childRefs[t]&&!n){const n=this._childRefs[t];if(o){if(n&&n.scrollIntoView)try{n.scrollIntoView({behavior:this._getScrollBehavior(),block:"nearest",inline:i?"center":e??"nearest"})}catch(t){n.scrollIntoView(!1)}}else this._list.current&&(this._list.current.scrollLeft=n.offsetLeft)}}_getScrollBehavior(t){return p.Z.reducedMotionEnabled||t?"auto":"smooth"}handleNextSlide(t){this._handleNextClick(t)}_renderRightShadowOverlay(){const{shadowStyle:t,withShadow:e}=this.props,{hideNextButton:n}=this.state;return e?i.createElement(o.Z,{style:[L.rightGradientOverlay,t,!p.Z.reducedMotionEnabled&&L.shadowAnimation,n&&L.hiddenShadow]}):null}_renderLeftShadowOverlay(){const{shadowStyle:t,withShadow:e}=this.props,{hidePrevButton:n}=this.state;return e?i.createElement(o.Z,{style:[L.leftGradientOverlay,t,!p.Z.reducedMotionEnabled&&L.shadowAnimation,n&&L.hiddenShadow]}):null}}B.contextType=w.ZP,B.defaultProps={children:[],dominantButtonColor:g.default.theme.colors.alwaysBaseGray1100,isLocked:!1,scrollToCenter:!1,showNavButtonsOnHover:!0,withAddedNavButtonClickArea:!1,withGlobalKeyboardNavigation:!1,withOffscreenItems:!1,withScrollIntoView:!0,withWraparound:!0,withShadow:!1,shadowStyle:void 0};const L=g.default.create((t=>({root:{alignItems:"center",flexDirection:"row"},swipeable:{display:"block",flexGrow:1,flexShrink:1,height:"100%"},swipeableContainer:{alignItems:"center",flexGrow:1,flexBasis:"0%",flexDirection:"row",height:"100%"},list:{flexGrow:1,flexDirection:"row",flexShrink:1,flexWrap:"nowrap",height:"100%",scrollSnapType:"x mandatory",scrollbarWidth:"none",transform:[{translate3d:"0,0,0"}],overflowY:"hidden"},scrollable:{overflowX:"auto"},notScrollable:{overflowX:"hidden"},listSafariRtl:{scrollSnapType:"none"},item:{paddingHorizontal:"0",scrollSnapAlign:"start"},navButton:{marginHorizontal:t.spaces.space4,position:"absolute",zIndex:1},hiddenNavButton:{opacity:0,pointerEvents:"none"},navButtonNext:{end:0},navButtonIcon:{color:t.colors.white},navButtonIconDisabled:{color:t.colors.gray200},navButtonAnimation:{transitionProperty:"opacity",transitionDuration:"0.2s"},navClickableArea:{justifyContent:"center",height:"50%",width:"auto",zIndex:1},navClickableAreaNext:{paddingStart:t.spaces.space12},navClickableAreaPrev:{paddingEnd:t.spaces.space12},addRoomForOffscreenItems:{marginStart:"-100%",marginEnd:"-100%",paddingStart:"100%",paddingEnd:"100%"},rightGradientOverlay:{position:"absolute",top:0,end:0,width:t.spaces.space80,height:"100%",pointerEvents:"none",backgroundImage:`linear-gradient(90deg, transparent 0%, ${C(t)} 100%)`,zIndex:0},leftGradientOverlay:{position:"absolute",top:0,start:0,width:t.spaces.space80,height:"100%",pointerEvents:"none",backgroundImage:`linear-gradient(90deg, ${C(t)} 0%, transparent 100%)`,zIndex:0},shadowAnimation:{transitionProperty:"opacity",transitionDuration:"0.2s"},hiddenShadow:{opacity:0}}))),E=B},568320:(t,e,n)=>{n.r(e),n.d(e,{default:()=>d});var i=n(202784),o=n(890601),s=n(783427),r=n(717683),l=n(347101);const a=(t={})=>{const e=i.useContext(r.Z),{direction:n}=(0,s.Z)();return(0,o.Z)("svg",{...t,role:t["aria-label"]?t.role||"img":void 0,"aria-hidden":void 0===t["aria-label"],style:[l.Z.root,t.style,e&&l.Z.iconRTL],viewBox:"0 0 24 24",children:i.createElement("g",null,i.createElement("path",{d:"M12.957 4.54L20.414 12l-7.457 7.46-1.414-1.42L16.586 13H3v-2h13.586l-5.043-5.04 1.414-1.42z"}))},{writingDirection:n})};a.metadata={width:24,height:24};const d=a},220760:(t,e,n)=>{n.d(e,{E:()=>l});var i=n(202784),o=n(715729),s=n(465233),r=n(516951);function l(t){const e=t||{},n=(0,s.Z)(e);let l=(0,s.Z)(n);const d=new Set;function h(t){return d.add(t),function(){d.delete(t)}}function c(){d.forEach((t=>{t(l)}))}function u(t){return function(e){const n=t.current.slice,i=t.current.state,o=t.current.selector(e);t.current.equality(o,n,e,i)||(t.current.slice=o,t.current.state=e,t.current.onUpdate(t.current.slice))}}return{getState:function(){return l},setState:function(t){l=(0,o.ZP)(l,(e=>t(e))),c()},reset:function(){l=(0,s.Z)(n),c()},useSlice:function(t,e){const n=e?.equalityFn||a.equality,o=r.Z,s=i.useRef({state:l,slice:t(l),selector:t,equality:n,onUpdate:o});s.current.selector=t,s.current.equality=n;const[d,c]=i.useState((()=>s.current.slice));return i.useEffect((()=>{let t=!0;s.current.onUpdate=t=>c((()=>t));const e=u(s);function n(n){t&&e(n)}n(l);const i=h(n);return function(){t=!1,i()}}),[]),d},subscribe:function(t,e,n){const i=n?.equalityFn||a.equality,o={current:{state:l,slice:t(l),selector:t,equality:i,onUpdate:e}},s=h(u(o));return o.current.onUpdate(o.current.slice),s}}}(0,o.GP)();const a={equality:(t,e,n,i)=>t===e}},166502:(t,e,n)=>{n.d(e,{Z:()=>i});const i=(t,e)=>{const n=null==t?0:t.length;if(!n||e<1)return[];let i=0,o=0;const s=new Array(Math.ceil(n/e));for(;i<n;)s[o]=t.slice(i,i+=e),o+=1;return s}},465233:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(716406);function o(t){return"object"!=typeof t||null===t?t:Array.isArray(t)?t.map(o):(0,i.Z)(t,(t=>o(t)))}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~bundle.GrokDrawer~ondemand.-84f39d3f.b81c13ba.js.map