"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["bundle.Grok-140f0005"],{169787:(e,t,a)=>{a.d(t,{F:()=>w});var o=a(202784),r=a(325686),n=a(731708),i=a(392237),s=a(306677),l=a(952793),c=a(725405),p=a(125363),d=a(53939),u=a(327597),m=a(620988),g=a(764226),h=a(654917),y=a(962379),b=a(623494),f=a(928831),C=a(988290);const w=({Icon:e,allPrompts:t,body:a,isDeepsearch:i,isImageEdit:w,isImageGen:k,isReasoning:v,label:_,prompt:x,promptAction:Z,promptId:I,sectionType:M,toolOverrides:S})=>{const[P,D]=o.useState(!1),R=(0,c.Z)(),F=(0,p.I0)(),T=(0,h.eX)(),{isCompactLayout:L}=(0,C.ZP)(),{clearSelectedFile:G,selectedFiles:z}=(0,m.ZP)(),{clearFilterKey:W,isCreateImageEnabled:O,isImageEditEnabled:A}=(0,f.w)(),K=(0,l.hC)("responsive_web_grok_show_citations"),B=o.useMemo((()=>Object.keys(z)),[z]),j=o.useMemo((()=>B.map((e=>z[e]?.remote)).filter(Boolean)),[B,z]),$=o.useRef(null),{handleFileChange:H}=(0,g.J)({analytics:R,isReturnCitations:K,prompt:x,promptId:I}),{enabled:N}=(0,y.Z)(),V=o.useRef(!1),U=o.useCallback((()=>{V.current||(0,b.az)(R,"impression",{promptId:I??"",prompt:x,sectionType:M,allPrompts:t??[]})}),[R,I,x,M,t]),X=o.useCallback((()=>D(!0)),[]),q=o.useCallback((()=>D(!1)),[]),J=o.useCallback((()=>{if((0,b.az)(R,"click",{promptId:I??"",prompt:x,sectionType:M,allPrompts:t??[]}),"UPLOAD"===Z&&$.current)return void $.current.click();let e={};w&&(e={attachments:j,imageGenerationCount:4,promptMetadata:{promptSource:"IMAGE_EDIT",action:"INPUT",properties:{imageUrl:j[0].url}}});let a={};if(k&&(a={imageGenerationCount:4}),F((0,u.u)({analytics:R,conversationKey:T})({text:x,returnCitations:K,toolOverrides:S,isDeepsearch:i,isReasoning:v,isImageGen:k,...e,...a,onStart:()=>{B.forEach((e=>{G(e)})),(O||A)&&W()}})),""!==I){const e="PRESET";F((0,d.U)({group_id:e,object_id:I,action_type:"CLICK"}))}}),[x,I,F,M,t,R,K,T,Z,S,i,v,w,j,G,B,O,A,W,k]);return N?o.createElement(r.Z,{style:[E.outerContainer,P?E.hovered:void 0]},o.createElement(r.Z,{onClick:J,onMouseEnter:X,onMouseLeave:q,style:E.contentContainer},o.createElement(s.D,{id:`prompt_${I}`,onFullyVisible:U,position:"bottom",testID:`prompt_${I}`}),o.createElement(r.Z,{style:E.promptContainer},e?o.createElement(e,{style:E.icon}):void 0,o.createElement(r.Z,{style:E.prompt},o.createElement(n.ZP,{size:"body",weight:"normal"},_),!!a&&o.createElement(n.ZP,{style:E.promptTextStyle},a))),o.createElement("input",{onChange:H,ref:$,style:{display:"none"},type:"file"}))):o.createElement(r.Z,{onClick:J,onMouseEnter:X,onMouseLeave:q,style:[E.deprecatedContainer,P?E.hovered:void 0,L?E.compact:void 0]},o.createElement(s.D,{id:`prompt_${I}`,onFullyVisible:U,position:"bottom",testID:`prompt_${I}`}),o.createElement(r.Z,{style:E.deprecatedPrompt},o.createElement(n.ZP,null,_)),e?o.createElement(e,{style:E.deprecatedIcon}):void 0)},E=i.default.create((e=>({outerContainer:{width:"100%"},contentContainer:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space16,justifyContent:"center",alignItems:"flex-start",borderRadius:e.spaces.space16,cursor:"pointer",transition:"background-color 0.5s",overflow:"hidden"},loadingBlock:{backgroundColor:"transparent"},compact:{width:"45%"},hovered:{backgroundColor:e.colors.gray50,borderRadius:e.spaces.space8},promptContainer:{flexDirection:"row",alignItems:"center"},prompt:{marginStart:e.spaces.space8,flex:1},promptTextStyle:{fontSize:e.fontSizes.headline2,color:e.colors.gray600},icon:{width:e.spaces.space24,height:e.spaces.space24,color:e.colors.gray800},deprecatedContainer:{width:170,height:130,padding:e.spaces.space16,justifyContent:"space-between",alignItems:"flex-start",backgroundColor:e.colors.activeFaintGray,borderRadius:e.borderRadii.large,cursor:"pointer",transition:"background-color 0.5s"},deprecatedPrompt:{flexGrow:1,textOverflow:"ellipsis"},deprecatedIcon:{width:e.spaces.space20,height:e.spaces.space20,color:e.colors.link}})))},176310:(e,t,a)=>{a.d(t,{Y:()=>h});var o=a(202784),r=a(325686),n=a(731708),i=a(992942),s=a(392237),l=a(952793),c=a(725516),p=a(125363),d=a(327597),u=a(654917),m=a(962379),g=a(988290);const h=({prompt:e,sectionType:t})=>{const[a,s]=o.useState(!1),h=(0,c.z)(),b=(0,p.I0)(),f=(0,u.eX)(),{isCompactLayout:C,isGrokDrawer:w}=(0,g.ZP)(),E=o.useCallback((()=>s(!0)),[]),k=o.useCallback((()=>s(!1)),[]),{enabled:v}=(0,m.Z)(),_=(0,l.hC)("responsive_web_grok_show_citations"),x=o.useCallback((()=>{b((0,d.u)({analytics:h,conversationKey:f})({text:e.value,trendPromptIdStr:e.trendPromptIdStr,returnCitations:_}))}),[h,b,e,_,f]);return v?o.createElement(r.Z,{onClick:x,onMouseEnter:E,onMouseLeave:k,style:[y.container,a?y.hovered:void 0,C?y.full:y.compact]},o.createElement(r.Z,{style:e.imageUrl?y.textContentWithImage:y.textContentWithoutImage},o.createElement(n.ZP,{numberOfLines:2,size:"headline2",weight:"bold"},e.header),o.createElement(n.ZP,{color:"gray700",numberOfLines:1,size:"subtext1",weight:"normal"},e.text)),!!e.imageUrl&&o.createElement(i.Z,{source:e.imageUrl,style:y.image})):o.createElement(r.Z,{onClick:x,onMouseEnter:E,onMouseLeave:k,style:[y.deprecatedContainer,a?y.hovered:void 0,C&&!w?y.deprecatedCompact:void 0]},o.createElement(r.Z,{style:y.deprecatedPrompt},o.createElement(n.ZP,null,e.header)),o.createElement(n.ZP,{color:"gray500"},e.text))},y=s.default.create((e=>({container:{paddingVertical:e.spaces.space16,paddingHorizontal:e.spaces.space16,backgroundColor:e.colors.gray0,borderRadius:e.borderRadii.large,cursor:"pointer",transition:"background-color 0.5s",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},textContentWithImage:{maxWidth:"70%",gap:e.spaces.space8,grow:1,wrap:"wrap",justifyContent:"center",paddingEnd:e.spaces.space16},textContentWithoutImage:{width:"100%",gap:e.spaces.space8},image:{grow:0,objectFit:"cover",height:84,width:84,borderRadius:e.borderRadii.medium},hovered:{backgroundColor:"light"===e.paletteName?e.colors.gray200:e.colors.gray50},full:{width:"100%"},compact:{width:"calc(50% - 8px)"},deprecatedContainer:{width:355,height:130,padding:e.spaces.space16,justifyContent:"space-between",alignItems:"flex-start",backgroundColor:e.colors.activeFaintGray,borderRadius:e.borderRadii.large,cursor:"pointer",transition:"background-color 0.5s"},deprecatedPrompt:{flexGrow:1,textOverflow:"ellipsis"},deprecatedCompact:{width:"45%"},deprecatedIcon:{width:e.spaces.space20,height:e.spaces.space20,color:e.colors.link}})))},701311:(e,t,a)=>{a.d(t,{Z:()=>n});var o=a(202784),r=a(731708);const n=({text:e})=>{const[t,a]=o.useState(e[0]??" ");return o.useEffect((()=>{let o;return t.length<e.length&&(o=setTimeout((()=>{a((t=>t+e[t.length]))}),20)),()=>clearTimeout(o)}),[e,t]),o.createElement(r.ZP,null,t)}},442955:(e,t,a)=>{a.d(t,{V:()=>R});var o=a(202784),r=a(25825),n=a(744610),i=a(325686),s=a(392237),l=a(815858),c=a(721266),p=a(952793),d=a(125363),u=a(389071),m=a(962379),g=a(928831),h=a(640350),y=a(983416),b=a(648536),f=a(781939),C=a(158042),w=a(740705),E=a(213103),k=a(731708),v=a(950822),_=a(67369),x=a(379848),Z=a(725405),I=a(620988),M=a(246277);const S=({isMobile:e,prompt:t})=>{const[a,r]=o.useState(!1),{grokModeButtonOverrides:n,grokModeButtonStatusKey:s,grokModeButtons:l,selectImageEditFilterKey:c,setFilterKey:p,setFocused:d}=(0,g.w)(),{onFileSelected:u}=(0,I.ZP)(),m=o.useRef();let h=null;t.icon_name&&x[t.icon_name]&&(h=x[t.icon_name]);const y=(0,Z.Z)(),b=o.useCallback((e=>{if(e.length<=0)return;const t=e[0];u(t).then((()=>{c()}))}),[u,c]);return o.createElement(i.Z,{key:t.prompt_id,onClick:()=>{const e=l.find((e=>e.filter_key===t.filter_key));if(!e)return;if("FileInput"!==n[e.filter_key||""].enabledOnClickBehavior)return"Enabled"===e[s]?(y.scribe({action:"click",component:"wide-text-card",element:t.prompt_id}),p(e.filter_key||""),void d(!0)):void 0;m.current&&m.current.click()},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:[D.card,a?D.hovered:void 0,e?D.fullWidth:null]},o.createElement(i.Z,{style:D.label},h&&o.createElement(h,{style:[D.labelIcon,"IconLightbulbGrokStrokeOff"===t.icon_name?D.fillNoneIcon:void 0]}),o.createElement(k.ZP,{size:"body",weight:"medium"},t.display_label)),o.createElement(k.ZP,{style:{position:"relative",top:-2}},t.display_body),(0,v.Z)("input",{accept:M.$.join(","),multiple:!1,onChange:e=>{const t=e.target.files;t.length&&b(t)},ref:m,style:D.hidden,type:"file"}))},P=e=>{const t=(0,_.LX)();return o.createElement(i.Z,null,o.createElement(c.Z,{size:"space12"}),o.createElement(k.ZP,{size:"headline2",weight:"bold"},e.section.title),o.createElement(c.Z,{axis:"y",size:"space8"}),o.createElement(k.ZP,{color:"gray600"},e.section.subtitle),o.createElement(c.Z,{axis:"y",size:"space16"}),o.createElement(i.Z,{style:t?D.containerMobile:D.container},e.section.prompts.map(((e,a)=>o.createElement(S,{isMobile:t,key:a,prompt:e})))))},D=s.default.create((e=>({card:{flex:1,backgroundColor:e.colors.gray0,borderRadius:e.spaces.space16,padding:e.spaces.space16,cursor:"pointer",transition:"background-color 0.3s",lineHeight:e.spaces.space24,gap:e.spaces.space12},fullWidth:{width:"100%"},hovered:{backgroundColor:"light"===e.paletteName?e.colors.gray200:e.colors.gray50},container:{flexDirection:"row",gap:24},containerMobile:{flexDirection:"column",gap:e.spaces.space8},label:{display:"flex",width:"max-content",alignItems:"center",flexDirection:"row",gap:e.spaces.space4,paddingVertical:e.spaces.space2,paddingHorizontal:e.spaces.space4,borderRadius:6,borderWidth:1,borderStyle:"solid",borderColor:e.colors.gray300,backgroundColor:e.colors.gray50},labelIcon:{width:14,height:14},fillNoneIcon:{fill:"none"},hidden:{display:"none"}}))),R=e=>{const t=o.useRef(new n.Z.Value(0)).current,a=(0,p.hC)("subscriptions_grok_disable_preferred_prompts"),k=(0,p.hC)("responsive_web_grok_show_android_promo_banner"),v=(0,d.v9)((e=>(0,u.zO)(e))),{isGrok3LayoutEnabled:_,layout:x}=(0,m.Z)(),{grokInput:Z,isDefault:I,isInputMobileSize:M}=(0,g.w)(),S=x?.sections||[],D=e.hiddenSections??[],R=S.filter((e=>!D.includes(e.section_type))),T=Boolean(e.hasSelectedFilterKey),L=!e.isMobile&&(!I||T)&&R.some((e=>"FLOATING_CARD"===e.section_type&&e.prompts?.some((e=>e.filter_key===Z.filterKey))));return o.useEffect((()=>{x&&n.Z.timing(t,{toValue:1,duration:600,useNativeDriver:!1}).start()}),[x,t]),o.createElement(o.Fragment,null,!x&&o.createElement(i.Z,{style:F.loadingContainer},o.createElement(r.Z,{color:s.default.isDarkMode()?"white":"black"})),o.createElement(l.Z,{duration:"long",show:!!x,type:"fade"},o.createElement(c.Z,{size:"space16"}),!!x&&o.createElement(i.Z,{style:[F.moduleContainer,e.isMobile&&e.isFocusingInput&&_?F.blurred:null]},k&&M&&o.createElement(E.t,null),R.map(((t,r)=>{switch(t.section_type){case"HIGHLIGHTED_PROMPTS":return T?null:o.createElement(b.L,{data:t,key:r});case"PILLS":return o.createElement(C.F,{data:t,isMobile:e.isMobile,key:r,style:"pill"});case"TEXT_CARD":return o.createElement(C.F,{data:t,key:r,style:"block"});case"IMG_CARD":case"IMG_CARD_FULL":return o.createElement(f.$,{data:t,key:r});case"COMPLEX_CARD":return o.createElement(h.V,{data:t,key:r});case"TRENDS":return a?null:o.createElement(w.E,{data:t,key:r,prompts:v});case"FLOATING_CARD":return e.isMobile?null:o.createElement(y.u,{data:t,hasSelectedFilterKey:T,key:r});case"WIDE_TEXT_CARD":return L?null:o.createElement(P,{key:r,section:t});default:return null}})))))},F=s.default.create((e=>({loadingContainer:{width:"10%%",alignItems:"center",marginTop:e.spaces.space48},moduleContainer:{gap:e.spaces.space32,transition:"filter 0.3s ease"},blurred:{filter:`blur(${e.spaces.space4})`,pointerEvents:"none"},container:{width:"100%"},bottomPadding:{height:"10vh",maxHeight:125},textPromptSuggestions:{flexDirection:"row",justifyContent:"center",flexWrap:"wrap",gap:e.spaces.space12},textPromptsBreak:{flexDirection:"row",justifyContent:"center",flexWrap:"wrap",gap:e.spaces.space12},textPromptsBreakCompact:{width:"100%"},imagePromptSuggestions:{width:"100%",flexDirection:"row",justifyContent:"center",flexWrap:"wrap",gap:e.spaces.space12},bannerContainer:{width:"100%",paddingHorizontal:e.spaces.space16,maxWidth:662,marginTop:e.spaces.space80,marginBottom:e.spaces.space36},trends:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",maxWidth:800,gap:e.spaces.space12,marginBottom:e.spaces.space36},promptSuggestions:{alignItems:"center"},restrictedContainer:{opacity:.5,pointerEvents:"none"}})))},72546:(e,t,a)=>{a.d(t,{k:()=>w});var o=a(202784),r=a(400752),n=a(67369),i=a(392237),s=a(557707),l=a(420182),c=a(952793),p=a(655352),d=a(988290),u=a(376856),m=a(961614),g=a(200179),h=(a(136728),a(325686)),y=a(666305);const b=()=>{const e=o.useRef(null),t=o.useRef(null),a=o.useRef(null);return o.useEffect((()=>{const o=e.current,r=t.current;if(!o||!r)return;const n=o.getContext("2d");if(!n)return;const i=[];let s=[];let l=0;const c=()=>{const e=r.getBoundingClientRect();o.width=e.width,o.height=e.height},p=(e,t)=>{for(let a=0;a<e;a++){const e=Math.random()*Math.PI*2,a=Math.random()*Math.max(o.width,o.height)*2+500;i.push({x:0,y:0,radius:Math.random()+.5,opacity:t?.5*Math.random()+.5:0,twinkleSpeed:1e-4+.01*Math.random(),angle:e,distance:a})}};c(),p(750,!0),y.Z.observe(r,c);const d=()=>{n.clearRect(0,0,o.width,o.height),i.length<750&&p(1,!1),l+=1e-4;const e=o.width+.1*o.height,t=o.height+.5*o.height;i.forEach((a=>{const o=a.angle+l;a.x=e+Math.cos(o)*a.distance,a.y=t+Math.sin(o)*a.distance,a.opacity+=a.twinkleSpeed,(a.opacity>1||a.opacity<.6)&&(a.twinkleSpeed=-a.twinkleSpeed);const r=n.createRadialGradient(a.x,a.y,0,a.x,a.y,2*a.radius);r.addColorStop(0,`rgba(255, 255, 255, ${a.opacity})`),r.addColorStop(.5,`rgba(255, 255, 255, ${.5*a.opacity})`),r.addColorStop(1,"rgba(255, 255, 255, 0)"),n.beginPath(),n.arc(a.x,a.y,2*a.radius,0,2*Math.PI),n.fillStyle=r,n.fill()})),Math.random()<.001&&s.length<3&&s.push({x:Math.random()*o.width,y:-50,length:120+120*Math.random(),speed:3+1*Math.random(),opacity:.9}),s=s.filter((e=>{e.x-=e.speed,e.y+=e.speed,e.opacity-=.01;const t=n.createLinearGradient(e.x,e.y,e.x+.707*e.length,e.y-.707*e.length);t.addColorStop(0,`rgba(255, 255, 255, ${e.opacity})`),t.addColorStop(.5,`rgba(255, 255, 255, ${.5*e.opacity})`),t.addColorStop(1,"rgba(255, 255, 255, 0)"),n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(e.x+.707*e.length,e.y-.707*e.length),n.strokeStyle=t,n.lineWidth=2,n.stroke();const a=n.createRadialGradient(e.x,e.y,0,e.x,e.y,4);return a.addColorStop(0,`rgba(255, 255, 255, ${e.opacity})`),a.addColorStop(1,"rgba(255, 255, 255, 0)"),n.beginPath(),n.arc(e.x,e.y,4,0,2*Math.PI),n.fillStyle=a,n.fill(),e.y<o.height+50&&e.opacity>0})),a.current=window.requestAnimationFrame(d)};return d(),()=>{y.Z.unobserve(r,c),a.current&&window.cancelAnimationFrame(a.current)}}),[]),o.createElement(h.Z,{style:f.container},o.createElement("div",{ref:t,style:f.outerCanvasContainer},o.createElement("canvas",{ref:e,style:f.canvas})))},f=i.default.create((e=>({container:{position:"fixed",top:0,start:0,width:"100%",height:"100%",zIndex:-1,animationDuration:"5s",animationKeyframes:[{"0%":{opacity:0},"100%":{opacity:1}}],animationTimingFunction:"ease",animationFillMode:"both",pointerEvents:"none",userSelect:"none",maxHeight:"100vh"},outerCanvasContainer:{width:"100%",height:"100%"},canvas:{width:"100%",height:"100%"}}))),C="rweb.grok.outageBanner",w=({access:e,conversationKey:t})=>{const{isGrokDrawer:a}=(0,d.ZP)(),h=(0,r.Dv)(l.lZ),y=(0,n.yu)(),f=!(0,p.ZP)()||y,w=(0,c.wW)("responsive_web_grok_outage_banner_message")||"",k=(0,c.hC)("responsive_web_grok_home_dark_enabled"),v=""!==w,[_,x]=o.useState(!1),[Z,I]=o.useState(!1);o.useEffect((()=>{if("light"===i.default.theme.paletteName||!k)return;const e=setTimeout((()=>{I(!0)}),5e3);return()=>clearTimeout(e)}),[k]);const M=o.useMemo((()=>a?o.createElement(m.Z,null):f?o.createElement(g.Z,{access:e,conversationKey:t}):o.createElement(u.Z,{access:e,conversationKey:t})),[a,f,e,t]);o.useEffect((()=>{v&&h.get(C).then((e=>{e?.shownMessage!==w&&x(!0)}))}),[v,w,h]);const S=o.useMemo((()=>Z?o.createElement(b,null):null),[Z]);return o.createElement(o.Fragment,null,S,_&&o.createElement(s.ZP,{onClose:()=>{x(!1),h.set(C,{shownMessage:w})},style:E.toast,text:w,withAutoDismiss:!1,withClearButton:!0}),M)},E=i.default.create((e=>({toast:{animationDuration:"0.2s",animationKeyframes:[{"0%":{opacity:0},"100%":{opacity:1}}],animationTimingFunction:"ease-out",animationFillMode:"both"}})))}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.Grok-140f0005.6753068a.js.map