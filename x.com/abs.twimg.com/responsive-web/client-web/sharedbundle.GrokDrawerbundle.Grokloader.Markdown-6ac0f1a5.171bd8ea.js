"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~bundle.GrokDrawer~bundle.Grok~loader.Markdown-6ac0f1a5"],{448781:(e,t,n)=>{n.d(t,{XD:()=>l,eK:()=>d,p9:()=>c,pB:()=>i,yF:()=>s,z_:()=>u});n(202784);var a=n(392237),o=n(111677),r=n.n(o);n(725516),n(988290),n(928831);r().g7b1c574,r().f388a7ec,r().ab1eb384;const l=r().f388a7ec,s=r().i330e54c,i="default",c=r().fdcce108,d=r().ac64b674,u="deeper";a.default.create((e=>({container:{flex:1},scrollView:{flex:1},contentContainerScrollView:{display:"flex",flexDirection:"column",gap:e.spaces.space12,paddingHorizontal:e.spaces.space24},compactContentContainerScrollView:{gap:e.spaces.space8,paddingVertical:e.spaces.space16},title:{fontSize:e.fontSizes.headline2},subtitle:{color:e.colors.gray700},section:{marginTop:e.spaces.space8,gap:e.spaces.space12},buttonContainer:{display:"flex",width:"100%",flexDirection:"row",justifyContent:"flex-end",padding:e.spaces.space24},compactButtonContainer:{justifyContent:"center"},resetToDefaultButton:{}})))},928831:(e,t,n)=>{n.d(t,{w:()=>f});var a=n(202784),o=n(400752),r=n(67369),l=n(323265),s=n(420182),i=n(443781),c=n(952793),d=n(125363),u=n(389071),p=n(962379),m=n(988290),g=n(448781);const b="rweb.grokInputAdvancedSettings",f=()=>{const[e,t]=a.useState(!1),n=(0,o.Dv)(s.lZ),f=(0,d.v9)((e=>(0,u.JU)(e))),{advancedSettings:h,filterKey:y}=f,{isGrokDrawer:C}=(0,m.ZP)(),E=(0,d.I0)(),k=(()=>{const e=(0,d.oR)(),t=(0,u.F9)(e.getState()),{layout:n}=(0,p.Z)();return a.useMemo((()=>n&&n?.mode_buttons.filter((e=>(e.supported_models||[]).includes(t?.id)))||[]),[n,t?.id])})(),w=(()=>{const{userClaims:e}=(0,i.QZ)(),t=e.isAnyPremiumSubscriber();let n="free_status";return e.hasSubscription("premium_plus")?n="premium_plus_status":t&&(n="premium_status"),n})(),I=(()=>{const e=(0,d.v9)((e=>(0,u.JU)(e))),{advancedSettings:t}=e;return a.useMemo((()=>{const e={Research:{},Reasoning:{},ImageEdit:{enabledOnClickBehavior:"FileInput"}};return t?.deepsearchArgs?.mode===g.z_&&(e.Research.label=g.p9),e}),[t])})(),[v,_]=a.useState(""),x=(0,c.hC)("responsive_web_grok_enable_file_attachment_with_deepsearch"),S=(0,c.hC)("responsive_web_grok_enable_file_attachment_with_think"),Z=(0,c.hC)("responsive_web_grok_enable_deepersearch"),D=a.useCallback((e=>{E((0,u.X4)(e))}),[E]),P=a.useCallback((e=>{E((0,u.F0)(e))}),[E]),B=a.useCallback((()=>{if(h){const e={...h};delete e.deepsearchArgs,P(e)}else P(null)}),[h,P]),F=a.useCallback((()=>{P({...h,deepsearchArgs:{mode:g.z_}})}),[h,P]);a.useEffect((()=>{n.get(b).then((e=>{e&&n.set(b,null)}))}),[n,P,Z]);const M=a.useCallback((e=>{E((0,u.ni)(null===e?null:e))}),[E]),R=a.useCallback((()=>{M(null)}),[M]),T=a.useCallback((()=>{M("Research")}),[M]),z=a.useCallback((()=>{M("Reasoning")}),[M]),K=a.useCallback((()=>{M("ImageEdit")}),[M]),A=a.useCallback((e=>{M(e)}),[M]),L=(0,r.Mv)(),O=!y,W=!!y,G="Research"===y,H="Reasoning"===y,j="ImageEdit"===y,V="CreateImage"===y,N=(0,r.yu)(),$=N&&l.ZP.isWebView(),X=L||!!C,U=f.focused,J=G&&!x||H&&!S;return a.useEffect((()=>{v&&("Research"!==v||G?"Reasoning"!==v||H?"ImageEdit"!==v||j||K():z():T(),_(""))}),[k,w,R,j,H,G,v,T,K,z]),{grokInput:f,setFocused:D,isResearchEnabled:G,isReasoningEnabled:H,isImageEditEnabled:j,isCreateImageEnabled:V,isDefault:O,isInputFocused:U,hasSelectedFilterKey:W,isInputMobileSize:N,isInputMobile:$,isInputCompact:X,grokModeButtons:k,grokModeButtonStatusKey:w,filterKey:y,isFileInputDisabled:J,setAdvancedSettings:P,setDeepsearchAdvancedSettings:B,setDeepersearchAdvancedSettings:F,advancedSettings:h,grokModeButtonOverrides:I,selectDeepsearchFilterKey:T,selectReasoningFilterKey:z,selectImageEditFilterKey:K,clearFilterKey:R,setPendingModeButtonFilterKey:_,setFilterKey:A,hasValue:e,setHasValue:t}}},475007:(e,t,n)=>{n.d(t,{Z:()=>nt});n(136728);var a=n(202784),o=n(400752),r=n(325686),l=n(107267),s=n(392237),i=n(442730),c=n(371344),d=n(111677),u=n.n(d),p=n(666536),m=n(403808),g=n(420182),b=n(952793),f=n(246851),h=n(782642),y=n(725516),C=n(125363),E=n(389071),k=n(958602),w=n(100326),I=n(309373),v=n(327597),_=n(620988),x=n(305442),S=n(962379),Z=n(623494),D=n(976021),P=n(246277),B=n(335785),F=n(988290),M=n(731708),R=n(154003),T=n(386594),z=n(837020),K=n(654917),A=n(492010);const L=u().ff9dc268,O=()=>{const e=(0,K.uf)(),t=(0,C.I0)(),n=(0,C.v9)(e.selectEditingMessage),o=a.useCallback((()=>{t(e.clearEditing())}),[t,e]),{showInputEdit:l}=(0,A.u)();return l&&n?a.createElement(r.Z,{style:W.container},a.createElement(r.Z,{style:W.leftSide},a.createElement(T.default,{style:W.pencilIcon}),a.createElement(M.ZP,{numberOfLines:1,size:"subtext2",weight:"normal"},L)),a.createElement(R.ZP,{backgroundColor:"transparent",borderColor:"transparent",color:"gray700",icon:a.createElement(z.default,{style:W.closeIcon}),onPress:o,size:"small",style:W.closeButton})):null},W=s.default.create((e=>({container:{paddingHorizontal:e.spaces.space20,paddingTop:e.spaces.space8,flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:`calc(-1 * ${e.spaces.space4})`},leftSide:{flexDirection:"row",gap:e.spaces.space8},pencilIcon:{fill:"none",width:e.spaces.space16,height:e.spaces.space16},closeIcon:{height:e.spaces.space16,width:e.spaces.space16},closeButton:{display:"flex",alignItems:"center",justifyItems:"center"}})));var G=n(815858),H=n(530732),j=n(796064),V=n(928831);function N(){const{clearFilterKey:e,isCreateImageEnabled:t,isImageEditEnabled:n}=(0,V.w)(),o=t||n,l=a.useCallback((()=>t?j.y3:n?(0,j.zF)({ttc_grok_preset:""}):""),[t,n]),s=a.useCallback((t=>{t.preventDefault(),e()}),[e]);return a.createElement(r.Z,{style:[X.container,o&&X.showContainer]},a.createElement(G.Z,{show:o},a.createElement(r.Z,{style:X.content},a.createElement(M.ZP,{style:X.label},l()),a.createElement(H.Z,{onClick:s,withoutInteractiveStyles:!0},a.createElement(z.default,{style:X.closeIcon})))))}const $=s.default.theme.spacesPx.space64,X=s.default.create((e=>({container:{position:"absolute",top:0,start:0,width:"100%"},showContainer:{animationDuration:"0.2s",animationKeyframes:[{"0%":{top:0},"100%":{top:-$/2-e.spacesPx.space2}}],animationTimingFunction:"ease",animationFillMode:"both"},content:{width:"100%",height:$,backgroundColor:e.colors.gray0,borderTopStartRadius:e.spaces.space24,borderTopEndRadius:e.spaces.space24,display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",paddingHorizontal:e.spaces.space16,paddingTop:e.spaces.space8},label:{fontSize:e.fontSizes.subtext1,color:e.colors.gray700},closeIcon:{color:e.colors.gray700}})));var U=n(449161),J=n(721266),Q=n(449404),Y=n(473026),q=n(323265),ee=n(725405);const te={borderRadius:25,padding:8,paddingStart:8,paddingEnd:8,flexDirection:"row",display:"flex",alignItems:"center",borderStyle:"solid",borderWidth:1},ne={padding:6,paddingStart:6,paddingEnd:6},ae={transitionTimingFunction:"ease-out",opacity:1,animationDuration:"0.4s",animationKeyframes:[{"0%":{opacity:0},"100%":{opacity:1}}]},oe={height:17,width:16},re=u().add55c98,le={label:re};function se({disabled:e,fadeIn:t,focused:n,isInputCompact:o,label:l,useButtonsForExpandedInput:s}){const{onFileSelected:i}=(0,_.ZP)(),c=(0,ee.Z)(),d=(0,b.hC)("responsive_web_grok_pdf_upload_enabled"),u=(0,b.hC)("responsive_web_grok_text_upload_enabled"),p=(0,_.x9)(),{clearFilterKey:m,isImageEditEnabled:g}=(0,V.w)(),f=a.useCallback((e=>{[...e].forEach((e=>i(e))),(0,Z.dP)(c,"button"),g&&m()}),[i,c,m,g]),h=(0,b.hC)("responsive_web_grok_file_upload_enabled"),y=(0,b.hC)("responsive_web_grok_webview_file_upload_enabled");return!h||q.ZP.isWebView()&&!y?null:s?a.createElement(r.Z,{style:de.buttonContainer},a.createElement(U.Z,{accept:p.join(","),"aria-label":re,backgroundColor:"transparent",borderColor:"transparent",color:"gray900",disabled:e,hoverLabel:le,multiple:!0,onChange:f,onPressIn:ie,size:"smallCompact",style:[de.button,o?de.compactButton:null,t?de.fadeIn:null]},a.createElement(Q.default,{style:de.icon}),l&&a.createElement(a.Fragment,null,a.createElement(J.Z,{size:"space4"}),a.createElement(M.ZP,{color:"gray900",size:"subtext2",weight:"medium"},l)))):a.createElement(r.Z,{style:de.buttonContainer},a.createElement(U.Z,{accept:p.join(","),"aria-label":re,color:"gray900",hoverLabel:le,icon:d||u?a.createElement(Q.default,{style:de.icon}):a.createElement(Y.default,{style:de.icon}),multiple:!0,onChange:f,onPressIn:ie,size:"smallCompact",style:de.deprecatedButton}))}const ie=e=>{e.preventDefault(),e.stopPropagation()},ce=.5,de=s.default.create((e=>({buttonContainer:{borderColor:e.colors.gray300,borderWidth:1,borderRadius:e.borderRadii.infinite},button:{...te,padding:te.padding-ce,paddingStart:te.paddingStart-ce,paddingEnd:te.paddingEnd-ce},compactButton:{...ne,padding:ne.padding-ce,paddingStart:ne.paddingStart-ce,paddingEnd:ne.paddingEnd-ce},fadeIn:{...ae},deprecatedButton:{marginStart:e.spaces.space4},icon:{...oe}})));var ue=n(858440),pe=n(443781),me=n(807896),ge=n(20716),be=n(448781);const fe="rweb.grok.buttonClicks";var he=n(797553),ye=n(143670),Ce=n(487552);function Ee({isInputCompact:e,menuItems:t,onDismiss:n}){const[o,l]=a.useState(!1);return a.createElement(r.Z,{style:ke.buttonDropdownContainer},a.createElement(R.ZP,{backgroundColor:"transparent",borderColor:"transparent",icon:a.createElement(Ce.default,{style:ke.buttonDropdownIcon}),onClick:()=>l(!0),size:"smallCompact",style:[ke.buttonDropdownIconContainer,e&&ke.buttonDropdownIconContainerCompact]}),o&&a.createElement(he.default,{isFixed:!0,onDismiss:()=>{l(!1),n&&n()},preferredHorizontalOrientation:"right",preferredVerticalOrientation:"up"},t.map(((e,t)=>a.createElement(ye.Z,{actionSubText:e.subText,actionText:e.text,isSelected:e.isSelected,key:`menuItem-${t}`,onClick:e.onClick,selectable:!0})))))}const ke=s.default.create((e=>({buttonDropdownContainer:{position:"relative"},buttonDropdownIconContainer:{display:"flex",borderRadius:e.borderRadii.xLarge,transition:"background-color 0.2s ease",opacity:1,animationDuration:"0.3s",animationKeyframes:[{"0%":{opacity:0},"100%":{opacity:1}}],padding:te.padding,paddingStart:te.paddingStart,paddingEnd:te.paddingEnd},buttonDropdownIconContainerCompact:{padding:ne.padding,paddingStart:ne.paddingStart,paddingEnd:ne.paddingEnd},buttonDropdownIcon:{...oe,color:e.colors.gray900}})));var we=n(744610);function Ie({text:e}){return e?a.createElement(we.Z.View,{style:ve.tooltipContainer},a.createElement(r.Z,{style:ve.tooltipWrapper},a.createElement(r.Z,{style:ve.triangle}),a.createElement(r.Z,{style:ve.tooltip},a.createElement(M.ZP,{numberOfLines:1,style:ve.tooltipText},e)))):null}const ve=s.default.create((e=>({tooltipContainer:{position:"absolute",top:"110%",start:"50%",transform:"translateX(-50%)",alignItems:"center",zIndex:10,opacity:1,animationDuration:"0.2s",animationKeyframes:[{"0%":{opacity:0},"100%":{opacity:1}}]},tooltipWrapper:{flexDirection:"column",alignItems:"center"},triangle:{width:0,height:0,borderStartWidth:5,borderStartColor:"transparent",borderEndWidth:5,borderEndColor:"transparent",borderBottomWidth:5,borderBottomColor:"light"===e.paletteName?e.colors.gray200:e.colors.gray400},tooltip:{backgroundColor:"light"===e.paletteName?e.colors.gray200:e.colors.gray400,padding:e.spaces.space8,borderRadius:4,maxWidth:900},tooltipText:{fontSize:e.fontSizes.subtext2}}))),_e={Research:u().e9fcdd0c,Reasoning:u().fc4e8aba,ImageEdit:u().e4ae6abe};function xe({analytics:e,button:t,buttonOverrides:n,disabled:l,isInputCompact:s,isToggled:i,onButtonEnter:c,onButtonLeave:d,onDisabledClick:u,onEnabledClick:p,onHomeScreen:m,statusKey:f}){const{advancedSettings:h,grokModeButtons:y,selectImageEditFilterKey:C,setAdvancedSettings:E,setFilterKey:k}=(0,V.w)(),w=(0,ue.Z)(),{clearSelectedFile:I,onFileSelected:v,selectedFiles:x}=(0,_.ZP)(),{markAsClicked:S}=function(e){const t=(0,o.Dv)(g.lZ),[n,r]=a.useState(!1);return a.useEffect((()=>{(async()=>{try{const n=await t.get(fe);r((n?.clicked||[]).includes(e))}catch(e){}})()}),[t,e]),{hasClicked:n,markAsClicked:async()=>{try{const n=await t.get(fe),a=n?.clicked||[];a.includes(e)||(a.push(e),await t.set(fe,{clicked:a})),r(!0)}catch(e){}}}}(t.filter_key??""),[D,B]=a.useState(!1),[F,T]=a.useState(!1),z=n[t.filter_key||""],K=z?.status||t[f],A=_e[t.filter_key||""],L=w.width<350||s&&y&&y.length>=3,O="Disabled"===K,W="Hidden"===K;let G=t.icon_name?(0,ge.wG)(t.icon_name):null;"IconLightbulbGrokStrokeOff"===t.icon_name&&i&&(G=(0,ge.wG)("IconLightbulbGrokStrokeOn")||null);const j=a.useCallback((t=>{if(t.length<=0)return;const n=Object.keys(x);n.length>0&&n.forEach((e=>{I(e)}));const a=t[0];v(a).then((()=>{C()})),(0,Z.dP)(e,"button")}),[v,e,C,x,I]),N=()=>{c(),T(!0),s||i||!m||B(!0)},$=()=>{d(),T(!1),B(!1)},X=(0,b.hC)("responsive_web_grok_enable_deepersearch"),Q=a.useMemo((()=>"Research"===t.filter_key&&!i&&X?[{text:be.XD,subText:be.yF,onClick:()=>{E({...h,deepsearchArgs:void 0}),k(t.filter_key||null),B(!1),e.scribe({action:"change",component:"grok-deepsearch-mode",element:be.pB})},isSelected:!h||!h.deepsearchArgs||h.deepsearchArgs.mode===be.pB},{text:be.p9,subText:be.eK,onClick:()=>{E({...h,deepsearchArgs:{mode:be.z_}}),k(t.filter_key||null),B(!1),e.scribe({action:"change",component:"grok-deepsearch-mode",element:be.z_})},isSelected:!!h&&h.deepsearchArgs&&h.deepsearchArgs.mode===be.z_}]:[]),[h,E,t,i,k,X,e]);if(W)return null;const Y={borderColor:"transparent",backgroundColor:"transparent",color:i?"blue600":"gray900",disabled:l,onClick:e=>{B(!1),p(),S(),e.preventDefault()},size:"smallCompact",style:[Ze.button,s?Ze.compactButton:null,i?Ze.buttonSelected:null]},q=a.createElement(r.Z,{style:Ze.buttonContent},G&&a.createElement(G,{style:Ze.icon}),(!L||i)&&t.label&&a.createElement(a.Fragment,null,a.createElement(J.Z,{size:"space8"}),a.createElement(M.ZP,{size:"subtext2",style:Ze.appText,weight:"medium"},z.label||t.label)));return O?a.createElement(Se,{handleMouseEnter:void 0,handleMouseLeave:void 0,isHoveringButton:!1,isToggled:!1,showTooltip:!1,style:Ze.disabledButtonContainer},a.createElement(H.Z,{disabled:l,key:t.label,onClick:u,style:[Ze.button,s?Ze.compactButton:null,Ze.disabledButton],withoutInteractiveStyles:!0},q)):i||"FileInput"!==z.enabledOnClickBehavior?a.createElement(Se,{dropdownMenuItems:Q,handleMouseEnter:N,handleMouseLeave:$,hideTooltip:()=>B(!1),isHoveringButton:F,isInputCompact:s,isToggled:i,showTooltip:D,tooltipText:A},a.createElement(R.ZP,Y,q)):a.createElement(Se,{handleMouseEnter:N,handleMouseLeave:$,isHoveringButton:F,isToggled:i,showTooltip:D,tooltipText:A},a.createElement(U.Z,(0,me.Z)({},Y,{accept:P.$.join(","),multiple:!1,onChange:e=>{j(e)},onClick:()=>{e.scribe({action:"click",component:"grok-input",element:t.filter_key})}}),q))}const Se=({children:e,dropdownMenuItems:t,handleMouseEnter:n,handleMouseLeave:o,hideTooltip:l,isHoveringButton:s,isInputCompact:i,isToggled:c,showTooltip:d,style:u,tooltipText:p})=>a.createElement(r.Z,{onMouseEnter:n,onMouseLeave:o,style:[Ze.buttonContainer,c?Ze.buttonContainerSelected:null,s?Ze.hoveredButtonContainer:null,u]},e,t&&t.length>0&&a.createElement(Ee,{isInputCompact:i,menuItems:t,onDismiss:l}),d&&a.createElement(Ie,{text:p})),Ze=s.default.create((e=>({buttonContainer:{position:"relative",borderColor:e.colors.gray300,borderWidth:1,borderRadius:25,flexDirection:"row",alignItems:"center",transition:"background-color 0.2s ease, width 0.2s ease",backgroundColor:"transparent"},hoveredButtonContainer:{backgroundColor:"light"===s.default.theme.paletteName?s.default.theme.colors.gray50:s.default.theme.colors.gray100},buttonContainerSelected:{borderColor:"rgba(29, 155, 240, 0.2)"},disabledButtonContainer:{borderColor:e.colors.gray300},button:{...te,position:"relative",height:"100%"},compactButton:{...ne},buttonContent:{display:"flex",flex:1,flexDirection:"row",alignItems:"center"},disabledButton:{color:e.colors.gray400,borderColor:"transparent",backgroundColor:"transparent"},buttonSelected:{backgroundColor:"rgba(29, 155, 240, 0.2)"},icon:{...oe},appText:{color:"inherit",lineHeight:e.fontSizes.subtext2}})));function De({disabled:e,fadeIn:t,onClick:n,onHomeScreen:o=!1,onShowDegradedModal:s}){const{filterKey:i,grokModeButtonOverrides:c,grokModeButtonStatusKey:d,grokModeButtons:u,isInputCompact:p,isInputFocused:m,setFilterKey:g}=(0,V.w)(),{userClaims:f}=(0,pe.QZ)(),h=(0,l.useHistory)(),C=f.hasSubscription("premium_plus"),{clearSelectedFile:E,selectedFiles:k}=(0,_.ZP)(),w=(0,b.hC)("responsive_web_grok_route_disabled_search_think_to_paywall"),I=(0,b.hC)("responsive_web_grok_enable_file_attachment_with_deepsearch"),v=(0,b.hC)("responsive_web_grok_enable_file_attachment_with_think"),x=(0,ue.Z)(),S=p||x.width<650,Z=(0,y.z)(),[,D]=a.useState(0),[P,B]=a.useState(!0),F=a.useRef(null),M=()=>{D((e=>{const t=e+1;return 1===t&&(B(!1),F.current&&(clearTimeout(F.current),F.current=null)),t}))},R=()=>{D((e=>{const t=Math.max(e-1,0);return 0===t&&(F.current=setTimeout((()=>{B(!0)}),800)),t}))},T=a.useCallback((()=>{Object.keys(k).forEach((e=>{E(e)}))}),[k,E]),z=a.useCallback((e=>{const t=c[e.filter_key||""];t&&t.disabledReasonMessage?s(t.disabledReasonMessage):C||!w?s():h.push("/i/premium_sign_up?referring_page=grok_3")}),[C,w,h,s,c]),K=a.useCallback((e=>{Z.scribe({action:"click",component:"grok-input",element:e.filter_key}),("Research"===e.filter_key&&!I||"Reasoning"===e.filter_key&&!v)&&T(),n&&n(),g(i===e.filter_key?null:e.filter_key||null)}),[Z,I,v,T,n,g,i]);return a.createElement(r.Z,{style:[Pe.container,p?Pe.compactContainer:null,t?Pe.fadeIn:null]},u.map((t=>{const n=i===t.filter_key;return a.createElement(xe,{analytics:Z,button:t,buttonOverrides:c,disabled:e,enableDelay:P,isInputCompact:S,isInputFocused:m,isToggled:n,key:t.label,onButtonEnter:M,onButtonLeave:R,onDisabledClick:()=>z(t),onEnabledClick:()=>K(t),onHomeScreen:o,statusKey:d})})))}const Pe=s.default.create((e=>({fadeIn:{...ae},container:{flexDirection:"row",gap:e.spaces.space8,flex:1,overflowX:"auto",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},compactContainer:{gap:e.spaces.space4}})));var Be=n(67369);function Fe({arrowXStart:e,onAnimationEnd:t,subtitle:n,title:o}){const l=a.useRef(new we.Z.Value(0)).current,s=a.useRef(new we.Z.Value(10)).current,i=(0,Be.yu)();return a.useEffect((()=>{we.Z.timing(l,{toValue:1,duration:500,useNativeDriver:!1}).start(),we.Z.timing(s,{toValue:0,duration:500,useNativeDriver:!1}).start((()=>{setTimeout((()=>{we.Z.timing(l,{toValue:0,duration:500,useNativeDriver:!1}).start((()=>{t&&t()}))}),1e3)}))}),[l,s,t]),a.createElement(we.Z.View,{style:[Me.banner,{opacity:l,transform:[{translateY:s}]},i?Me.bannerNarrow:null]},a.createElement(r.Z,{style:Me.bannerContent},!!o&&a.createElement(M.ZP,{color:"gray0",size:"body",weight:"medium"},o),!!n&&a.createElement(M.ZP,{color:"gray700",size:"body",weight:"normal"},n)),e&&a.createElement(r.Z,{style:[Me.triangle,{start:e}]}))}const Me=s.default.create((e=>({banner:{position:"absolute",display:"flex",flexDirection:"column",width:"max-content",maxWidth:"100%",bottom:"100%",start:0},bannerNarrow:{width:"100%"},triangle:{width:0,height:0,top:-1,backgroundColor:"transparent",borderStyle:"solid",borderStartWidth:e.spaces.space8,borderEndWidth:e.spaces.space8,borderBottomWidth:e.spaces.space8,borderStartColor:"transparent",borderEndColor:"transparent",borderBottomColor:e.colors.brandColor,transform:"rotate(180deg)"},bannerContent:{padding:e.spaces.space16,backgroundColor:e.colors.brandColor,fontSize:e.fontSizes.subtext2,borderRadius:e.spaces.space16}})));var Re=n(525271),Te=n(293723),ze=n(41065),Ke=n(480243);const Ae=u().e8ade5e2,Le=({conversationKey:e,disabled:t,fadeIn:n,focused:o,inputAtBottom:l,inputAtHome:s})=>{const i=(0,C.I0)(),c=(0,ee.Z)(),{clearFilterKey:d,isInputCompact:u}=(0,V.w)(),{isGrokDrawer:p}=(0,F.ZP)(),[m,g]=a.useState(!1),[b,f]=a.useState(!1),{currentPersonalityId:h,getPersonality:y,setGrokPersonality:E,userPersonalities:k}=(0,Ke.W)(),w=()=>{f(!1),g((e=>!e))},I=()=>{g(!1),f((e=>!e))},_=a.useCallback((()=>{l||u&&!p?I():w()}),[l,p,u]),x=a.useMemo((()=>t=>{if(t){d();const n=y(t),a=n?.personality.initial_user_prompt;n&&a&&s&&i((0,v.u)({analytics:c,conversationKey:e})({text:a,attachments:[],returnCitations:!1,isGrokDrawer:!1,onStart:()=>{},personalityId:t}))}E(t),_()}),[c,e,i,y,_,s,d,E]),S=a.useMemo((()=>y(h)),[h,y]),Z=a.useMemo((()=>{const e=k.map(((e,t)=>{const{personality:n,personality_id:o}=e;return a.createElement(ye.Z,{actionText:a.createElement(r.Z,{style:Oe.menuItem},a.createElement(r.Z,{style:Oe.nameContainer},a.createElement(M.ZP,null,n.name)),a.createElement(Te.default,{style:S?.personality_id===o?Oe.checkIcon:Oe.invisible})),key:o,onClick:()=>x(o)})}));return[a.createElement(ye.Z,{actionText:a.createElement(r.Z,{style:Oe.menuItem},a.createElement(M.ZP,null,"Default Grok"),a.createElement(Te.default,{style:void 0===S?Oe.checkIcon:Oe.invisible})),key:"0",onClick:()=>x()}),...e]}),[S,x,k]),D=S?.personality;return a.createElement(r.Z,{style:[Oe.container,u?{alignItems:"flex-end"}:{alignItems:"flex-start"}]},a.createElement(R.ZP,{borderColor:D?"blue600":"transparent",color:D?"blue600":"gray900",disabled:t,onClick:_,size:"smallCompact",style:[Oe.button,o?Oe.buttonOverFocusedInput:null,n?Oe.fadeIn:null]},a.createElement(r.Z,{style:Oe.buttonContent},a.createElement(ze.default,{style:Oe.icon}),a.createElement(M.ZP,{numberOfLines:1,size:"subtext2",weight:"medium"},S?.personality?.name??"Personalities"),a.createElement(Ce.default,{style:Oe.icon}))),a.createElement(r.Z,{style:[Oe.dropdownContainer,l?{top:-8}:{top:36}]},m&&a.createElement(he.default,{onDismiss:w,preferredHorizontalOrientation:"right"},a.createElement(r.Z,{style:Oe.menuItemContainer},Z))),b&&a.createElement(Re.Z,{align:"right",buttonType:"primaryText",onDismissed:I,title:Ae},Z))},Oe=s.default.create((e=>({container:{position:"relative",flex:1},button:{...te,borderWidth:e.spaces.space2,backgroundColor:"light"===e.paletteName?e.colors.gray50:e.colors.gray100,maxWidth:"100%"},fadeIn:{...ae},buttonOverFocusedInput:{backgroundColor:"light"===e.paletteName?e.colors.gray100:e.colors.gray200},dropdownContainer:{position:"absolute"},menuItemContainer:{maxHeight:"35vh",overflowY:"auto",alignItems:"stretch"},icon:{height:14,width:14,flexShrink:0},menuItem:{flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"space-between",gap:e.spaces.space12},nameContainer:{flexGrow:1,flexShrink:1,whiteSpace:"normal",wordWrap:"break-word"},checkIcon:{opacity:.8,flexShrink:0},invisible:{opacity:0},buttonContent:{flexGrow:1,maxWidth:"100%",display:"flex",flexDirection:"row",alignItems:"center",gap:e.spaces.space4}})));var We=n(776933),Ge=n(730616),He=n(123588);const je=u().b5df32b0,Ve={label:je},Ne=u().cfd2f35e,$e={label:Ne},Xe={label:u().fad48eea};function Ue({fadeIn:e,isInProgress:t,isInputCompact:n,isLoading:o,isSendEnabled:l,onSend:s,onStop:i,useMagicWandIcon:c}){return t?a.createElement(r.Z,{style:[Qe.buttonContainer,e?Qe.fadeIn:null]},a.createElement(R.ZP,{"aria-label":Ne,backgroundColor:"brandColor",borderColor:"transparent",color:"gray50",hoverLabel:$e,icon:a.createElement(We.default,{style:Qe.icon}),onPress:i,onPressIn:Je,onPressOut:i,size:"smallCompact",style:[Qe.button,n?Qe.compactButton:null]})):a.createElement(r.Z,{style:[Qe.buttonContainer,e?Qe.fadeIn:null]},a.createElement(R.ZP,{"aria-label":je,backgroundColor:"brandColor",borderColor:"transparent",color:"gray50",disabled:!l||o,hoverLabel:o?Xe:Ve,icon:c?a.createElement(Ge.default,{style:[Qe.icon,Qe.sendIcon]}):a.createElement(He.default,{style:[Qe.icon,Qe.sendIcon]}),onPress:s,onPressIn:Je,onPressOut:s,size:"smallCompact",style:[Qe.button,n?Qe.compactButton:null]}))}const Je=e=>{e.preventDefault(),e.stopPropagation()},Qe=s.default.create((e=>({buttonContainer:{position:"relative",borderRadius:25},fadeIn:{...ae},button:{...te},compactButton:{...ne},icon:{...oe},sendIcon:{transform:"scale(1.3)"}})));const Ye="new_prompt",qe="rweb.grok.prompt";const et=u().ef4602ec,tt={title:u().c65f7308,subtitle:u().f2a8655e};function nt({abortController:e,conversationKey:t,disableFileUploads:n,grokShare:d,hasAccess:u,inputAtBottom:M,inputAtHome:R,insideConversation:T,isIdle:z,mode:K,onFieldTextInputRef:L,placeholder:W,promptSender:G,style:H,useDraftPersistence:j,useMagicWandIcon:$,useNonExpanded:X}){const U=(0,C.I0)(),J=(0,y.z)(),Q=(0,l.useHistory)(),{clearFilterKey:Y,hasValue:q,isCreateImageEnabled:ee,isFileInputDisabled:te,isImageEditEnabled:ne,isInputCompact:ae,isInputFocused:oe,isInputMobile:re,isInputMobileSize:le,isReasoningEnabled:ie,isResearchEnabled:ce,setFocused:de,setHasValue:ue,setPendingModeButtonFilterKey:pe}=(0,V.w)(),{isGrokDrawer:me}=(0,F.ZP)(),ge=(0,E.bD)(t),be=(0,C.v9)(ge.selectEditingMessageId);let fe=(0,C.v9)(ge.selectEditingMessage);const he=(0,C.v9)(ge.selectInputPrefill),ye=a.useRef(null),{showInputEdit:Ce}=(0,A.u)();fe=Ce?fe:void 0;const Ee=(0,b.hC)("responsive_web_grok_file_upload_enabled"),ke=(0,b.hC)("responsive_web_grok_show_citations"),we=(0,b.hC)("responsive_web_grok_personality_button_enabled"),[Ie,ve]=a.useState(!1),{loading:_e}=(0,S.Z)(),xe=a.useRef(_e),Se=a.useRef(null),{clearSelectedFile:Ze,onFileSelected:Pe,onGrokFileSelected:Be,selectedFiles:Me}=(0,_.ZP)(),Re=a.useMemo((()=>Object.keys(Me)),[Me]),Te=(0,h.p)(),ze=Object.keys(Me).some((e=>Me[e]?.isUploading)),Ke=Object.keys(Me).some((e=>Me[e]?.isPendingAutomaticPromptSend)),[Ae,Oe]=a.useState(""),We=(0,o.Dv)(g.dd),Ge=0===Ae.length,[He,je]=a.useState(null);a.useEffect((()=>{He&&J.scribe({action:"impression",component:"grok-input",element:"degraded-modal",data:{event_info:JSON.stringify(He)}})}),[J,He]);const Ve=(0,f.Z)(R);a.useEffect((()=>{!Ve&&R&&ne&&Y()}),[Ve,R,ne,Y]);const Ne=function(e,t,n){const r=(0,o.Dv)(g.lZ),l=(0,C.v9)(t.selectConversationId),s=a.useMemo((()=>l||(n?"":Ye)),[l,n]),i=a.useMemo((()=>(0,p.Z)((e=>{s&&r.get(qe).then((t=>{const n={...t};n?.drafts||(n.drafts=new Map),n?.drafts&&n.drafts.set(s,e),r.set(qe,n)}))}),500)),[r,s]);return a.useEffect((()=>{s&&r.get(qe).then((t=>{t?.drafts&&t.drafts.has(s)&&e((e=>e||t.drafts?.get(s)||""))}))}),[r,e,s]),i}(Oe,ge,!j||!!be||!!d),$e=a.useCallback((e=>{let t=e.target.value;e.target.value.length>Ae.length+1&&(t=t.replace(/\r?\n+$/,"")),Ne(t),Oe(t)}),[Ne,Ae]);a.useEffect((()=>{const e=Ae.length>0;e!==q&&ue(e)}),[Ae,q,ue]);const Xe=Re.length>0,Je=a.useMemo((()=>Object.values(Me).every((e=>e&&!e.isUploading))),[Me]),Qe=a.useMemo((()=>(Ae.trim().length>0||Xe)&&Je&&!Ke),[Ae,Xe,Je,Ke]),nt=a.useMemo((()=>Re.map((e=>Me[e]?.remote)).filter(Boolean)),[Re,Me]),ot=a.useMemo((()=>Re.map((e=>Me[e]?.local)).filter(Boolean)),[Re,Me]),rt=a.useCallback((()=>{Se.current?.focus(),de(!0)}),[de]),lt=a.useCallback((()=>{Se.current?.blur(),de(!1)}),[de]),st=(0,x.Z)("grok_input"),it=function(e,t){const n={};return t&&e.length?{promptMetadata:{promptSource:"IMAGE_EDIT",action:"INPUT",properties:{imageUrl:e[0].url}}}:n}(nt,ne),ct=(0,m.r)((async()=>{try{if(G)G({text:Ae,attachments:nt,mode:K,returnCitations:ke,onStart:()=>{ve(!1),Re.forEach((e=>{Ze(e)})),Oe(""),Ne(""),(ee||ne)&&Y()},imageGenerationCount:st,isReasoning:ie,isDeepsearch:ce});else if(d){const e=await(0,w.X)({analytics:J,api:We,dispatch:U,grokModule:ge,fromShareId:d});e?(ve(!1),Re.forEach((e=>Ze(e))),Oe(""),Q.push(`/i/grok?conversation=${e}&text=${encodeURIComponent(Ae)}`)):Te({text:et})}else be?fe&&await U((0,I.X)({analytics:J,conversationKey:t})({editingMessageId:be,text:Ae,fileAttachments:nt,returnCitations:ke,mode:K,imageGenerationCount:st,onStart:()=>{ve(!1),Re.forEach((e=>{Ze(e)})),Oe("")},isReasoning:ie,isDeepsearch:ce})):(Ne(""),await U((0,v.u)({analytics:J,conversationKey:t})({text:Ae,attachments:nt,mode:K,returnCitations:ke,isGrokDrawer:me,promptMetadata:it.promptMetadata,onStart:()=>{ve(!1),Re.forEach((e=>{Ze(e)})),Oe(""),(ee||ne)&&Y()},imageGenerationCount:st,isReasoning:ie,isDeepsearch:ce,isImageGen:ee})))}catch(e){Te({text:et})}finally{ve(!1)}}));a.useEffect((()=>{fe||Oe(""),fe&&(Oe(fe.message??""),Re.forEach((e=>{Ze(e)})),fe.fileAttachments&&fe.fileAttachments.length>0&&fe.fileAttachments.forEach((e=>{Be(e)})),setTimeout((()=>{rt()}),0))}),[fe]);const dt=a.useCallback((e=>{e?.preventDefault(),e?.stopPropagation(),ve(!0)}),[ve]);a.useEffect((()=>{!Ie||ze||Ke||ct()}),[Ie,ze,ct,Ke]);const ut=a.useCallback((0,p.Z)((()=>{U((0,k.I)({analytics:J,conversationKey:t})),e&&e.abort(),(0,Z.DE)(J)}),50),[Ge,e]),pt=a.useCallback((e=>{Ee&&(Pe(e[0]),(0,Z.dP)(J,"clipboard"))}),[Pe,J,Ee]),mt=a.useCallback((e=>{re||"Enter"!==e.key||e.shiftKey||(e.preventDefault(),Qe&&dt())}),[re,Qe,dt]),gt=a.useCallback((e=>{"Backspace"===e.key&&0===Ae.length&&(ee||ne)&&Y()}),[Y,ee,ne,Ae.length]),bt=a.useCallback((()=>{rt()}),[rt]),ft=a.useMemo((()=>{if(0!==Re.length)return a.createElement(r.Z,{style:at.fileAttachments},Re.map(((e,t)=>{const n=Me[e];return P.$.includes(n?.local?.type)||P.$.includes(n?.remote?.mimeType)?a.createElement(B.L,{key:`attachment_${e}`,onRemove:()=>{ne&&1===Re.length&&Y(),Ze(e),bt()},selectedFile:n}):a.createElement(B.L,{key:`attachment_${e}`,onRemove:()=>{Ze(e),bt()},selectedFile:n})})))}),[Me,Re,Ze,bt,ne,Y]),ht=!_e,yt=u&&(!le||!Ie)&&!Ke,Ct={color:Ae?s.default.theme.colors.brandColor:s.default.theme.colors.gray700};a.useEffect((()=>{yt||lt()}),[yt,lt]);const Et=a.useMemo((()=>a.createElement(Ue,{fadeIn:xe.current,isInProgress:!z,isInputCompact:ae,isLoading:Ie||Ke,isSendEnabled:Qe,onSend:dt,onStop:ut,useMagicWandIcon:$})),[z,Ie,Ke,Qe,dt,ut,$,ae]),kt=a.useMemo((()=>a.createElement(r.Z,{style:at.contentBelowContainer},a.createElement(r.Z,{style:[at.contentBelowLeft,(ae||me)&&at.compactContentBelowLeft]},ht&&a.createElement(a.Fragment,null,a.createElement(se,{disabled:te,fadeIn:xe.current,focused:oe,isInputCompact:ae,label:"",useButtonsForExpandedInput:!0}),a.createElement(De,{disabled:null!==He,fadeIn:xe.current,focused:oe,onClick:()=>clearTimeout(ye.current),onHomeScreen:R,onShowDegradedModal:e=>{He||je(e||tt)}}))),a.createElement(r.Z,{style:[at.contentBelowRight,(ae||me)&&at.compactContentBelowRight]},we&&a.createElement(Le,{conversationKey:t,disabled:T,fadeIn:xe.current,focused:oe,inputAtBottom:M,inputAtHome:R}),!1,Et))),[me,ae,ht,!0,te,oe,He,we,t,T,M,R,Et]);return a.useEffect((()=>{ot.length>0&&rt()}),[rt,ot]),a.useEffect((()=>{if(he.text.length>0&&Oe(he.text),he.attachments.length>0)for(const e of he.attachments)Be(e);he.modeButtonFilterKey&&(pe(he.modeButtonFilterKey),bt()),(he.text.length>0||he.attachments.length>0||he.modeButtonFilterKey)&&U((0,E.Uo)(t,{text:"",attachments:[]}))}),[he,t,U,Be,bt,pe]),X?a.createElement(r.Z,{style:[at.outerContainer,H]},a.createElement(N,null),a.createElement(r.Z,{style:at.deprecatedContainer},a.createElement(D.P,{direction:i.Z.getTextDirection(Ae)},a.createElement(O,null),a.createElement(r.Z,{style:at.inputOuterContainer},a.createElement(c.Z,{autoFocus:!le,contentAbove:ft,editable:u&&(!le||!Ie)&&!Ke,inputStyle:[at.inputStyle,Ct],leftAligned:!0,leftContent:n?void 0:a.createElement(se,{disabled:te,isInputCompact:ae,label:""}),maxNumberOfLines:15,multiline:!0,numberOfLines:1,onChange:$e,onFilesAdded:pt,onKeyPress:mt,placeholder:W,ref:e=>{Se.current=e,e&&L?.(e)},rightContent:Et,style:at.deprecatedInputContainer,styleType:"selection",value:Ae}))))):a.createElement(r.Z,{style:[at.outerContainer,H]},a.createElement(N,null),a.createElement(r.Z,{onClick:bt,style:at.container},a.createElement(D.P,{direction:i.Z.getTextDirection(Ae)},a.createElement(O,null),a.createElement(r.Z,{style:at.inputOuterContainer},a.createElement(c.Z,{autoFocus:!le,contentAbove:ft,contentBelow:kt,editable:yt,inputStyle:[at.inputStyle,Ct],leftAligned:!0,maxNumberOfLines:15,multiline:!0,numberOfLines:1,onBlur:()=>de(!1),onChange:$e,onFilesAdded:pt,onFocus:()=>de(!0),onKeyDown:gt,onKeyPress:mt,placeholder:W,ref:e=>{Se.current=e,e&&L?.(e)},style:at.inputContainer,styleType:"selection",value:Ae}))),He&&a.createElement(Fe,{arrowXStart:"50%",onAnimationEnd:()=>je(null),subtitle:He.title,title:He.subtitle})))}const at=s.default.create((e=>({outerContainer:{position:"relative",width:"100%"},container:{width:"100%",borderRadius:e.spaces.space24,backgroundColor:e.colors.gray0,transition:"all 0.2s",boxShadow:`0px 0px 4px 2px ${e.colors.gray0}`},contentBelowContainer:{width:"100%",paddingHorizontal:e.spaces.space8,paddingBottom:e.spaces.space8,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},contentBelowLeft:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",gap:e.spaces.space8,flex:1},compactContentBelowLeft:{gap:e.spaces.space4},contentBelowRight:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",gap:e.spaces.space8,paddingStart:e.spaces.space8},compactContentBelowRight:{gap:e.spaces.space4},inputOuterContainer:{position:"relative",flex:1},inputStyle:{flex:1,fontSize:16,paddingTop:20,paddingBottom:20,border:"none",outlineStyle:"none"},inputContainer:{width:"100%",paddingStart:e.spaces.space4,backgroundColor:e.colors.gray0,borderRadius:e.spaces.space24,borderStyle:"solid",borderWidth:1,borderColor:e.colors.gray100,height:300,fontSize:16,flex:1,justifyContent:"space-between"},deprecatedContainer:{width:"100%"},deprecatedInputContainer:{backgroundColor:e.colors.gray50,borderRadius:e.spaces.space32,paddingHorizontal:e.spaces.space8,paddingVertical:e.spaces.space4,width:"100%",borderColor:e.colors.gray50,borderWidth:e.spaces.space1,borderStyle:"solid",outlineStyle:"none"},fileAttachments:{flex:1,display:"flex",flexDirection:"row",gap:e.spaces.space8,paddingHorizontal:e.spaces.space12,paddingTop:14,paddingBottom:0,flexWrap:"wrap"}})))},492010:(e,t,n)=>{n.d(t,{u:()=>r});var a=n(537392),o=n(392237);function r(){const e=(0,a.Zx)((({containerWidth:e})=>e<=o.default.theme.breakpoints.small));return{showChatBubbleEdit:!e,showInputEdit:e}}},988290:(e,t,n)=>{n.d(t,{BQ:()=>l,ZP:()=>s});var a=n(202784);const o={scrollable:void 0,isCompactLayout:!1,isEditingEnabled:!0,isShowButtons:!0,isShowCarousel:!0,isPagedScroll:!0,isGrokShare:!1,isGrokDrawer:!1},r=a.createContext(o);function l({children:e,isCompactLayout:t,isEditingEnabled:n,isGrokDrawer:o,isGrokShare:l,isPagedScroll:s,isShowButtons:i,isShowCarousel:c,scrollable:d}){return a.createElement(r.Provider,{value:{scrollable:d,isCompactLayout:t,isShowButtons:i,isEditingEnabled:n,isShowCarousel:c,isPagedScroll:s,isGrokShare:l,isGrokDrawer:o}},e)}function s(){return a.useContext(r)}},796064:(e,t,n)=>{n.d(t,{ZP:()=>B,y3:()=>S,zF:()=>Z});var a=n(807896),o=(n(136728),n(202784)),r=n(214997),l=n(325686),s=n(107267),i=n(449161),c=n(731708),d=n(154003),u=n(721266),p=n(392237),m=n(111677),g=n.n(m),b=n(707187),f=n(254944),h=n(784732),y=n(409600),C=n(191796),E=n(323265),k=n(952793),w=n(725405),I=n(620988),v=n(623494),_=n(246277),x=n(928831);const S=g().acb2baa0,Z=g().fe9ad897,D=g().h30fd372,P=g().d4388aea;function B({focusInput:e,isMobile:t,style:n}){const p=(0,s.useHistory)(),m=(0,w.Z)(),{setFilterKey:g}=(0,x.w)(),{clearSelectedFile:B,onFileSelected:M,selectedFiles:R}=(0,I.ZP)(),T=o.useMemo((()=>Object.keys(R)),[R]),z=(0,k.hC)("responsive_web_grok_05221996"),K=[{id:"create-images",text:S,icon:o.createElement(b.default,{style:[F.icon,t?F.mobileIcon:null]}),onClick:()=>{g("CreateImage")},type:"prefill"},{id:"edit-image",text:Z({ttc_grok_preset:""}),icon:o.createElement(f.default,{style:[F.icon,t?F.mobileIcon:null]}),onClick:()=>{g("ImageEdit")},type:"file-input"}];z&&K.push({id:"latest-news",text:P,icon:o.createElement(h.default,{style:[F.icon,t?F.mobileIcon:null]}),type:"push-link",url:"/i/news"}),E.ZP.isAndroid()&&K.push({id:"try-voice-mode",text:D,icon:o.createElement(y.default,{style:[F.icon,t?F.mobileIcon:null]}),type:"replace-link",url:"https://play.google.com/store/apps/details?id=ai.x.grok"});const A=o.useCallback((e=>{if(e.length<=0)return;T.length>0&&T.forEach((e=>{B(e)}));const t=e[0];M(t).then((()=>{g("ImageEdit")})),(0,v.dP)(m,"button")}),[M,m,g,B,T]),L=o.useCallback(((t,n)=>{m.scribe({element:"grok-home-preset",action:"click",data:{event_info:n.id}}),"replace-link"===n.type&&n.url?window.location.href=n.url:"push-link"===n.type&&n.url?p.push(n.url):n.onClick&&(n.onClick?.(),t.preventDefault(),e?.())}),[e,m,p]),O=e=>({backgroundColor:"gray0",borderColor:"gray100",key:e.id,onClick:t=>{L(t,e)},style:t?F.mobilePreset:F.preset,disabled:"edit-image"===e.id&&T.length>1});return t?o.createElement(r.Z,{contentContainerStyle:F.mobilePresetContainer,horizontal:!0,showsHorizontalScrollIndicator:!1,style:[F.mobilePresets,n]},K.map((e=>{const t=O(e);return"file-input"===e.type&&"edit-image"===e.id&&T.length<1?o.createElement(i.Z,(0,a.Z)({},t,{accept:_.$.join(","),multiple:!1,onChange:e=>{A(e)},onClick:()=>{m.scribe({element:"grok-home-preset",action:"click",data:{event_info:e.id}})}}),o.createElement(l.Z,{style:F.mobileButtonContent},e.icon,o.createElement(c.ZP,{style:F.text},e.text))):o.createElement(d.ZP,t,o.createElement(l.Z,{style:F.mobileButtonContent},o.createElement(l.Z,{style:F.mobilePresetHeader},e.icon,("replace-link"===e.type||"push-link"===e.type)&&o.createElement(C.default,{style:F.externalLinkIcon})),o.createElement(c.ZP,{style:F.text},e.text)))}))):o.createElement(l.Z,{style:[F.presets,n]},K.map((e=>{const t=O(e);return"file-input"===e.type&&"edit-image"===e.id&&T.length<1?o.createElement(i.Z,(0,a.Z)({},t,{accept:_.$.join(","),multiple:!1,onChange:e=>{A(e)},onClick:()=>{m.scribe({element:"grok-home-preset",action:"click",data:{event_info:e.id}})}}),e.icon,o.createElement(u.Z,{size:"space4"}),o.createElement(c.ZP,{style:F.text},e.text)):o.createElement(d.ZP,t,e.icon,o.createElement(u.Z,{size:"space4"}),o.createElement(c.ZP,{style:F.text},e.text))})))}const F=p.default.create((e=>({mobilePresets:{animationDuration:"0.2s",animationKeyframes:[{"0%":{opacity:0},"100%":{opacity:1}}],animationTimingFunction:"ease",animationFillMode:"both"},mobilePresetContainer:{display:"flex",flexDirection:"row",gap:e.spaces.space12},mobilePreset:{borderRadius:e.spaces.space16,overflow:"hidden",padding:e.spaces.space12,paddingStart:e.spaces.space12,paddingEnd:e.spaces.space12},mobileButtonContent:{display:"flex",gap:e.spaces.space8,flexDirection:"column"},mobilePresetHeader:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"},presets:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:e.spaces.space12,animationDuration:"0.2s",animationKeyframes:[{"0%":{opacity:0},"100%":{opacity:1}}],animationTimingFunction:"ease",animationFillMode:"both"},preset:{display:"flex",flexDirection:"row",alignItems:"center",transition:"background-color 0.2s ease",paddingStart:e.spaces.space12,paddingEnd:e.spaces.space12,paddingTop:e.spaces.space8,paddingBottom:e.spaces.space8,borderRadius:e.spaces.space16},icon:{width:e.spaces.space16,height:e.spaces.space16,color:e.colors.gray900},mobileIcon:{width:e.spaces.space20,height:e.spaces.space20},text:{fontSize:e.fontSizes.subtext1,fontWeight:e.fontWeights.medium,marginStart:e.spaces.space4,color:e.colors.gray900},externalLinkIcon:{width:e.spaces.space20,height:e.spaces.space20,color:e.colors.gray400}})))},962379:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(952793),o=n(87063),r=n(125363),l=n(389071);function s(){const e=(0,r.v9)((e=>(0,l.uX)(e))),t=(0,a.hC)("responsive_web_grok_use_new_layout"),n=(0,r.v9)((e=>(0,l.Pt)(e))),s=Boolean(e?.sections.find((e=>"WIDE_TEXT_CARD"===e.section_type)));return{enabled:t,layout:e,loading:!n||"none"===n||n===o.Z.LOADING,isGrok3LayoutEnabled:s}}},976021:(e,t,n)=>{n.d(t,{B:()=>c,P:()=>i});var a=n(202784),o=n(224162),r=n(442730),l=n(952793);const s="responsive_web_grok_rtl_detection",i=({children:e,direction:t})=>{const n=a.useContext(o.RD),r=t||n.direction,i=a.useMemo((()=>({...n,direction:r})),[r,n]);return(0,l.hC)(s)?a.createElement(o.RD.Provider,{value:i},e):a.createElement(a.Fragment,null,e)},c=({children:e,text:t})=>{const n=a.useContext(o.RD),i=a.useMemo((()=>r.Z.getTextDirection(t||"")),[t]),c=a.useMemo((()=>({...n,direction:i})),[i,n]);return(0,l.hC)(s)?a.createElement(o.RD.Provider,{value:c},e):a.createElement(a.Fragment,null,e)}},20716:(e,t,n)=>{n.d(t,{vN:()=>l,wG:()=>s});var a=n(202784),o=n(379848);function r(e){const t=[...e];for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1)),a=t[e];t[e]=t[n],t[n]=a}return t}function l(e,t){return a.useMemo((()=>t?r(e).slice(0,t):r(e)),[e,t])}function s(e){try{if(e&&o[e]){const t=o[e];if(a.isValidElement(a.createElement(t,null)))return t}return null}catch(e){return null}}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~bundle.GrokDrawer~bundle.Grok~loader.Markdown-6ac0f1a5.171bd8ea.js.map