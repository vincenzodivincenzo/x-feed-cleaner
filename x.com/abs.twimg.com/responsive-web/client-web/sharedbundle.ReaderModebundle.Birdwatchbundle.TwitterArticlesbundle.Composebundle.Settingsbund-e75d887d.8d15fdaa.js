"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-e75d887d"],{988245:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(807896),s=a(202784),r=a(126962),o=a(676145),l=a(988566);const i=(0,a(668214).Z)().withAnalytics({element:"social_proof"})((e=>{const t=s.useContext(l.pz);if(t&&e.contextType===t)return null;const{analytics:a,link:i,...c}=e,u=i&&!(0,o.Z)(i)?{...i,state:{...i.state,referringScribeNamespace:{...a.contextualScribeNamespace,action:"click"}}}:i;return s.createElement(r.Z,(0,n.Z)({},c,{link:u,onClick:function(){const{analytics:t,onClick:a}=e;t.scribeAction("click"),a&&a()}}))}))},41803:(e,t,a)=>{a.d(t,{Z:()=>w});var n=a(262324),s=a(202784),r=a(325686),o=(a(585488),a(351743)),l=a.n(o),i=a(731708),c=a(154003),u=a(392237),g=a(111677),d=a.n(g),p=a(922449),m=a(946474),h=a(671212),T=a(517330),b=a(725405),_=a(506534);const f=n.Z,y=d().d6b533dc,k=d().j2f9ab6e,E=d().d56779a2,x=d().b6fe8a56;function L(e){const{translateTargetType:t,translationSource:a,tweetId:n,useGrokTranslation:o}=e,{translationFeedback:u,updateTranslationFeedback:g}=s.useContext(_.I),[d]=l()(f),L=(0,b.Z)(),w=s.useCallback((e=>{const s="auto"===o?"grok_auto_translation":"button"===o?"grok_button_translation":`translation-${a||""}`,r="Good"===e?`vote_up_${t}`:`vote_down_${t}`;L.scribe({component:s,element:r,action:"click"}),d({variables:{feedback_enum:e,source:"Grok"===a?"X":a,tweet_id:n},onCompleted:()=>{g(n,e)}})}),[L,d,t,a,n,g,o]),Z=u[n];return s.createElement(r.Z,{style:S.container},s.createElement(i.ZP,{color:"gray700",size:"subtext1"},Z?k:y),s.createElement(c.ZP,{"aria-checked":"Good"===Z,disabled:!!Z,hoverLabel:{label:E},icon:"Good"===Z?s.createElement(p.default,{style:S.icon}):s.createElement(m.default,{style:S.icon}),onClick:()=>{w("Good")},size:"xSmall",testID:"thumbsUpVoteButton",type:"primaryText"}),s.createElement(c.ZP,{"aria-checked":"Bad"===Z,disabled:!!Z,hoverLabel:{label:x},icon:"Bad"===Z?s.createElement(h.default,{style:S.icon}):s.createElement(T.default,{style:S.icon}),onClick:()=>{w("Bad")},size:"xSmall",testID:"thumbsDownVoteButton",type:"primaryText"}))}const w=s.memo(L),S=u.default.create((e=>({container:{marginTop:e.spaces.space12,alignItems:"center",justifyContent:"start",flexDirection:"row",gap:e.spaces.space2},icon:{color:e.colors.gray700}})))},574663:(e,t,a)=>{a.d(t,{O:()=>q});var n=a(202784),s=a(154003),r=a(224162),o=a(167630),l=a(731708),i=a(853435),c=a(392237),u=a(111677),g=a.n(u),d=a(99223),p=a(692165),m=a(187669),h=a(818065),T=a(952793),b=a(725405),_=a(325686),f=a(688715),y=a(529356),k=a(125363),E=a(390387),x=a(883229),L=a(943914),w=(a(571372),a(945907)),S=a(794966),Z=(a(585488),a(351743)),C=a.n(Z),G=a(451566),F=a(782642),v=a(535338);const I=g().hba0547a,D=S.Z,A=w.Z;function P({label:e,lang:t,sourceLanguageDisplayName:a}){const s=(0,v.p)(D,{lang:t},{fetchPolicy:"store-and-network"}),r=s.viewer_v2?.user_results?.result,o=r?.__id,l=r?.user_auto_translate_language_enabled;if(null==l||null==o)throw new Error("unable to fetch auto translation status");const i=(0,F.p)(),[c]=C()(A);return n.createElement(G.Z,{"aria-label":e,onValueChange:e=>{(e=>{const a=a=>{const n=a.get(o);n?.setValue(e,"user_auto_translate_language_enabled",{view:t})};c({variables:{language:t,enable:e},optimisticUpdater:a,updater:a,onError:()=>{i({text:I})}})})(e)},value:l})}const B=g().e7a86c77,O=g().c60b9e5c,N=(0,f.ju)("https://x.com/settings/languages"),z=g().a39dc51e,M={link:n.createElement(l.ZP,{color:"text",link:N,weight:"bold",withUnderline:!0})},H=()=>n.createElement(g().I18NFormatMessage,{$i18n:"c4c230bf"},n.cloneElement(M.link,null,g().f9317b98)),V={context:"GrokAutoTranslationInfoToggle"};function $({close:e,sourceLanguage:t,sourceLanguageDisplayName:a}){const s=n.createElement(H,null),r=B({language:a}),i="ja"===(0,k.v9)(E.VT)?"自動翻訳":z;return n.createElement(y.Z,{graphicDisplayMode:"none",headline:i,onAction:e,onClose:e,subtext:s,withCloseButton:!0},t&&a&&n.createElement(x.N,{errorConfig:V},n.createElement(_.Z,{style:R.switch},n.createElement(l.ZP,{size:"headline2"},r),n.createElement(L.B,{fallback:n.createElement(o.Z,{size:"small"})},n.createElement(P,{label:r,lang:t,sourceLanguageDisplayName:a}))),n.createElement(l.ZP,{color:"gray700",size:"subtext1",style:R.desc},O)))}const R=c.default.create((e=>({switch:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"row"},desc:{marginTop:e.spaces.space8,marginBottom:e.spaces.space32}}))),U=g().ba10dab6,j=g().g8eaaca3,W=g().be9b9fb8,X=g().ce2e69a1,Y=g().e0bffbf8;function q(e){const[t,a]=n.useState(!1),c=(0,b.Z)(),{handleCollapseTranslation:u,handleGetTranslationClick:g,position:_,showInfoButton:f,showSourceLanguage:y,sourceLanguage:k,sourceLanguageDisplayName:E,style:x,translateButtonText:L,translateTargetType:w,translationStatus:S,useGrokTranslation:Z}=e,C=n.createElement(d.default,{style:J.logo}),G="auto"===Z?"grok_auto_translation":"grok_button_translation",[F,v]=n.useState(!1);(0,m.q)((()=>{c.scribe({component:G,element:`translate_${w}`,action:"impression"})}));const I=()=>{c.scribe({component:G,element:`original_${w}`,action:"click"}),u?.()},D=()=>{c.scribe({component:G,element:`translate_${w}`,action:"click"}),g?.()},A=()=>{c.scribe({component:G,element:`error_retry_${w}`,action:"click"}),g?.()},P=n.createElement(s.ZP,{"aria-label":Y,icon:n.createElement(p.default,{style:J.infoIcon}),onPress:()=>a(!0),pullLeft:!0,size:"xSmall",style:[J.action,J.infoButton],type:"primaryText"}),B=n.useCallback((e=>{e&&v(!0)}),[]),O=F?void 0:1,N=(0,T.hC)("responsive_web_grok_show_translation_source_lang")&&y&&!F,z=n.createElement(r.RD.Consumer,null,(({direction:e})=>{if("loading"===S)return n.createElement(Q,{position:_,style:x},C,n.createElement(K,{label:h.B,onPress:I}),n.createElement(o.Z,{size:15,style:J.gapLeft}));if("failed"===S)return n.createElement(Q,{position:_,style:x},C,n.createElement(l.ZP,{style:[J.text,J.gapLeft]},h.k7),g&&n.createElement(K,{label:h.so,onPress:A}));if("loaded"===S){const e="auto"===Z?N?j({sourceLanguageDisplayName:E}):U:N?X({sourceLanguageDisplayName:E}):W;return n.createElement(Q,{numberOfLines:O,onTextOverflow:B,position:_,style:x},C,n.createElement(l.ZP,{style:[J.text,J.gapLeft]},e),u&&n.createElement(K,{label:h.eE,onPress:I}),f&&P)}return null!=L?n.createElement(Q,{position:_,style:x},C,n.createElement(K,{label:L,onPress:D}),f&&P):void 0}));return n.createElement(n.Fragment,null,t&&n.createElement($,{close:()=>a(!1),sourceLanguage:k,sourceLanguageDisplayName:E}),n.createElement(i.z,{context:{id:"",richtext_tags:[],entity_set:{},is_expandable:!1,text:"",inline_media:[]}},z))}const J=c.default.create((e=>({logo:{verticalAlign:"top",color:e.colors.gray700},action:{marginTop:"-3px",verticalAlign:"top"},infoIcon:{color:e.colors.gray700},infoButton:{marginTop:"-4px"},text:{verticalAlign:"top"},callout:{marginTop:e.spaces.space4,paddingTop:e.spaces.space4,gap:e.spaces.space4,minHeight:e.spaces.space24,textAlign:"start"},calloutOnTop:{marginTop:0},gapLeft:{marginStart:5}})));function K({label:e,onPress:t}){return n.createElement(s.ZP,{"aria-label":e,fontWeight:"normal",onPress:t,size:"smallCompact",style:J.action,type:"brandText"},e)}function Q({children:e,numberOfLines:t,onTextOverflow:a,position:s,style:r}){return n.createElement(l.ZP,{align:"center",color:"gray700",getTextOverflow:a,numberOfLines:t,size:"subtext2",style:[J.callout,"top"===s&&J.calloutOnTop,r]},e)}},818065:(e,t,a)=>{a.d(t,{B:()=>C,VW:()=>L,WJ:()=>F,eE:()=>G,k7:()=>S,lL:()=>D,so:()=>x});var n=a(202784),s=a(731708),r=a(392237),o=a(224162),l=a(167630),i=a(853435),c=a(111677),u=a.n(c),g=a(518532),d=a(176632),p=a(993752),m=a(457566);const h=u().c39b0e24,T=u().i73a7d48,b=u().eeadb767,_=u().d9c6f69d,f=u().dc445f82,y=u().he9803d3,k=u().f8264fc0,E=u().caa5ba3d,x=u().deaf5b16,L=u().a66d80d0,w=u().be9b9fb8,S=u().he9c9634,Z=u().j2198c98,C=u().d4d35bea,G=u().f4f69be8,F=u().e3097a5c;function v({a11yLabel:e,translatorLogo:t,translatorUrl:a}){return n.createElement(s.ZP,{"aria-label":e,color:"gray700",link:a,size:"subtext2",style:A.translationSourceLink,withInteractiveStyling:!1},t)}function I(e,t){return{company:e,toggle:n.createElement(s.ZP,{"aria-expanded":!0,"aria-label":Z,color:"link",onPress:t,role:"button",size:"subtext2",style:A.toggle,withInteractiveStyling:!0})}}function D(e){const{handleCollapseTranslation:t,handleGetTranslationClick:a,originLanguage:c,position:L,translateButtonText:Z,translationSource:G,translationStatus:F}=e,D=c?b({originLanguage:c}):T,P=r.default.isDarkMode()?n.createElement(g.default,{style:A.nightLogo}):n.createElement(d.default,null),B=I(n.createElement(v,{a11yLabel:D,translatorLogo:P,translatorUrl:"https://translate.google.com"}),t),O=c?y({originLanguage:c}):f,N=r.default.isDarkMode()?n.createElement(p.default,{style:A.nightLogo}):n.createElement(p.default,null),z=I(n.createElement(v,{a11yLabel:O,translatorLogo:N,translatorUrl:"https://papago.naver.com"}),t),M=c?E({originLanguage:c}):k,H=I(n.createElement(v,{a11yLabel:M,translatorLogo:h,translatorUrl:""}),t),V=r.default.isDarkMode()?n.createElement(s.ZP,{color:"white"},n.createElement(m.x1,{style:A.nightLogo})," Grok"):n.createElement(s.ZP,{color:"alwaysBlack"},n.createElement(m.x1,null)," Grok"),$=c?_({originLanguage:c}):w,R=I(n.createElement(v,{a11yLabel:$,translatorLogo:V,translatorUrl:""}),t);let U;U="Papago"===G?z:"X"===G?H:"Grok"===G?R:B;const j=n.createElement(o.RD.Consumer,null,(({direction:e})=>"loading"===F?n.createElement(s.ZP,{align:"center",color:"link",dir:e,numberOfLines:1,size:"subtext2",style:[A.callout,"top"===L&&A.calloutOnTop]},C," ",n.createElement(l.Z,{size:13,style:A.loading})):"failed"===F?n.createElement(s.ZP,{align:"center",color:"gray700",dir:e,numberOfLines:1,size:"subtext2",style:[A.callout,"top"===L&&A.calloutOnTop]},S," ",n.createElement(s.ZP,{color:"link",onClick:a,role:"button",style:A.retry},x)):"loaded"===F?n.createElement(s.ZP,{align:"center",dir:e,numberOfLines:1,size:"subtext2",style:[A.callout,"top"===L&&A.calloutOnTop]},"X"===G?n.createElement(u().I18NFormatMessage,{$i18n:"cbb4db07"},n.cloneElement(U.toggle,null,u().e0f81ff3)):c?n.createElement(u().I18NFormatMessage,{$i18n:"be5322c7"},n.cloneElement(U.toggle,null,u().j2862695({originLanguage:c})),U.company):n.createElement(u().I18NFormatMessage,{$i18n:"c5f6ee1d"},n.cloneElement(U.toggle,null,u().b7cb4fab),U.company)):n.createElement(s.ZP,{"aria-expanded":!1,color:"link",onClick:a,role:"button",size:"subtext2",style:[A.callout,A.toggle,"top"===L&&A.calloutOnTop],withInteractiveStyling:!0},Z)));return n.createElement(i.z,{context:{id:"",richtext_tags:[],entity_set:{},is_expandable:!1,text:"",inline_media:[]}},j)}const A=r.default.create((e=>({translationSourceLink:{marginTop:"0.1em",marginHorizontal:e.spaces.space4},nightLogo:{fill:e.colors.white},callout:{display:"flex",flexWrap:"wrap",marginTop:e.spaces.space4},calloutOnTop:{marginTop:0,marginBottom:e.spaces.space4},toggle:{cursor:"pointer"},retry:{marginStart:e.spaces.space4},loading:{marginStart:e.spaces.space4}})))},714989:(e,t,a)=>{a.d(t,{H:()=>y});var n=a(807896),s=a(202784),r=a(766661),o=a(111677),l=a.n(o),i=a(952793),c=a(943245),u=a(725405),g=a(125363),d=a(979090),p=a(390387),m=a(312771),h=a(574663);const T=l().b9957590,b=l().a038ab9a;function _({grokTranslation:e,isCommunityNoteTranslatable:t,isFocal:a,language:o,noteId:l,subtitle:i,...u}){const d=e?.subtitle,[m,b]=s.useState(!0),_=(0,g.v9)(p.VT),f=a||!m,y=e?.sourceLanguage??o,k=s.useMemo((()=>_?(0,c.t)(_,y):void 0),[y,_]),E=s.useCallback((()=>s.createElement(h.O,{handleCollapseTranslation:()=>b(!1),handleGetTranslationClick:()=>b(!0),position:"top",showInfoButton:f,sourceLanguage:y,sourceLanguageDisplayName:k,translateButtonText:T,translateTargetType:"community_note",translationStatus:m?"loaded":"none",useGrokTranslation:"auto"})),[f,m,y,k]),x=m?d:i;return s.createElement(r.Z,(0,n.Z)({noteId:l},u,{renderGrokTranslationHeader:E,subtitle:x}))}function f({grokTranslation:e,isCommunityNoteTranslatable:t,isFocal:a,language:o,noteId:l,subtitle:T,..._}){const f=(0,u.Z)(),y=(0,g.I0)(),k=(0,i.hC)("responsive_web_grok_community_note_auto_translation_is_enabled"),E=e?.subtitle,x=null!=E?"auto":"button",[L,w]=s.useState("auto"===x),S=k&&(a||!L),Z=s.useCallback((e=>d.Vc(e,l??"")),[l]),C=(0,g.v9)(Z),G=C?.fetchStatus,F=s.useCallback((()=>{G!==m.iF.LOADED&&G!==m.iF.LOADING&&y((0,d.C7)(l??"",f))}),[f,y,l,G]),v=o,I=(0,g.v9)(p.VT),D=s.useMemo((()=>I?(0,c.t)(I,v):void 0),[v,I]),A=s.useCallback((()=>s.createElement(h.O,{handleCollapseTranslation:()=>w(!1),handleGetTranslationClick:()=>{w(!0),F()},position:"top",showInfoButton:S,sourceLanguage:v,sourceLanguageDisplayName:D,translateButtonText:b,translateTargetType:"community_note",translationStatus:L?G:"none",useGrokTranslation:"button"})),[S,L,v,D,F,G]);let P=L?C?.result:T;return 0===P?.text.length&&(P=T),s.createElement(r.Z,(0,n.Z)({noteId:l},_,{animateIn:!0,renderGrokTranslationHeader:A,subtitle:P}))}function y({grokTranslation:e,isCommunityNoteTranslatable:t,isFocal:a,language:o,...l}){const c=(0,i.hC)("responsive_web_grok_community_note_translation_is_enabled");return null!=e?.subtitle?s.createElement(_,(0,n.Z)({isFocal:a,language:o},l,{grokTranslation:e})):c&&t&&a?s.createElement(f,(0,n.Z)({isFocal:a,language:o},l)):s.createElement(r.Z,l)}},720728:(e,t,a)=>{a.d(t,{Z:()=>h});var n=a(202784),s=a(325686),r=a(853435),o=a(879113),l=a(392237),i=a(725516),c=a(312771),u=a(443781),g=a(818065),d=a(574663);class p extends n.Component{constructor(e,t){super(e,t),this._handleGetTranslationClick=e=>{const{fetchTranslation:t,onToggleTranslation:a}=this.props,{featureSwitches:n}=this.context;t(),this._scribeActionForNonGrok("translate"),this.setState({translationVisible:!0}),a&&n.isTrue("responsive_web_alt_text_translations_enabled")&&a(!0)},this._handleCollapseTranslation=e=>{const{onToggleTranslation:t}=this.props,{featureSwitches:a}=this.context;this._scribeActionForNonGrok("original"),this.setState({translationVisible:!1}),t&&a.isTrue("responsive_web_alt_text_translations_enabled")&&t(!1)},this._scribeImpressionForNonGrok=()=>{const{analytics:e,translateTargetType:t,useGrokTranslation:a}=this.props;if(a)return;const n={element:`translate_${t}`,action:"impression"};e.scribe(n)},this._scribeActionForNonGrok=e=>{const{analytics:t,translateTargetType:a,useGrokTranslation:n}=this.props;if(n)return;const s={element:`${e}_${a}`,action:"click"};t.scribe(s)},this._isInlineTranslationEnabled=()=>this.context.featureSwitches.isTrue("responsive_web_grok_post_inline_translation_is_enabled"),this._isInfoButtonEnabled=()=>{const{featureSwitches:e}=this.context;switch(this.props.translateTargetType){case"post":return e.isTrue("responsive_web_grok_show_grok_translated_post");case"bio":return e.isTrue("responsive_web_grok_bio_auto_translation_is_enabled");case"community_note":return e.isTrue("responsive_web_grok_community_note_auto_translation_is_enabled");default:return!1}},this._renderTranslationHeader=()=>{const{originLanguage:e,originLanguageCode:t,showSourceLanguage:a,streamedTranslationFetchStatus:s,translateButtonText:r,translateTargetType:o,translationFetchStatus:l,translationSource:i,useGrokTranslation:u}=this.props,p=this.state.translationVisible?s||l:"none",m=this._isInlineTranslationEnabled()?"top":"bottom";return u?n.createElement(d.O,{handleCollapseTranslation:this._handleCollapseTranslation,handleGetTranslationClick:this._handleGetTranslationClick,position:m,showInfoButton:this._isInfoButtonEnabled()&&p===c.iF.LOADED,showSourceLanguage:a,sourceLanguage:t,sourceLanguageDisplayName:e,translateButtonText:r,translateTargetType:o,translationStatus:p,useGrokTranslation:u}):n.createElement(g.lL,{handleCollapseTranslation:this._handleCollapseTranslation,handleGetTranslationClick:this._handleGetTranslationClick,originLanguage:e,position:m,translateButtonText:r,translationSource:i,translationStatus:p})},this._renderTranslationMessage=()=>{if(!this.state.translationVisible)return null;const{translatedMessage:e}=this.props,t=this._isInlineTranslationEnabled();return n.createElement(s.Z,{style:!t&&m.translation},e)},this._renderTranslationFeedback=()=>{if(!this.state.translationVisible)return null;const{renderTranslationFeedback:e}=this.props;return n.createElement(r.z,{context:{id:"",richtext_tags:[],entity_set:{},is_expandable:!1,text:"",inline_media:[]}},e?.())},this._renderTranslationBlock=()=>n.createElement(n.Fragment,null,this._renderTranslationHeader(),this._renderTranslationMessage(),this._renderTranslationFeedback()),this.state={translationVisible:e.isInitiallyTranslated??!1}}componentDidMount(){const{disableTranslation:e}=this.props;e||this._scribeImpressionForNonGrok()}render(){const{children:e,disableTranslation:t,header:a,streamedTranslationFetchStatus:r,style:l,translationFetchStatus:i,withOriginalText:u}=this.props,{translationVisible:d}=this.state,{featureSwitches:p,loggedInUserId:m}=this.context,h=t||!m&&p.isTrue("machine_translation_holdback_logged_out")||m&&p.isTrue("machine_translation_holdback_logged_in"),T=this._isInlineTranslationEnabled(),b=u||!d?e:null;if(h)return b?n.createElement(s.Z,{style:l},this.props.renderGrokAutoTranslationHeader?.(),b,this.props.renderGrokAutoTranslationFeedback?.()):null;if(T){const e=d&&!!this.props.translatedMessage;return n.createElement(s.Z,{style:l},a,this._renderTranslationBlock(),!e&&b)}return d?n.createElement(s.Z,{style:l},a,b,n.createElement(o.Z,{fetchStatus:r||i,loadingMessage:r===c.iF.LOADING?g.B:void 0,onRequestRetry:this._handleGetTranslationClick,render:this._renderTranslationBlock,retryMessage:g.k7})):n.createElement(s.Z,{style:l},a,b,this._renderTranslationHeader())}}p.contextType=u.rC,p.defaultProps={withOriginalText:!0};const m=l.default.create((e=>({translation:{marginTop:e.spaces.space4}}))),h=(0,i.Z)(p)},900813:(e,t,a)=>{a.d(t,{Z:()=>G});var n=a(807896),s=a(202784),r=a(853435),o=a(451051),l=a(392237),i=a(912021),c=a(401388),u=a(720728),g=a(943245),d=a(3693),p=a(556303),m=a(312771),h=a(443781),T=a(818065),b=a(71620),_=a(668214),f=a(709318),y=a(872788),k=a(390387),E=a(251441);const x=(e,t)=>E.Z.select(e,t.tweetId),L=(e,t)=>E.Z.selectFetchStatus(e,t.tweetId);function w(e,t){return(0,f.br)(e).type===y.Jz.HOME}const S=(0,_.Z)().propsFromState((()=>({translation:x,translationFetchStatus:L,userLanguage:k.VT,isForYouTimelineSelected:w}))).propsFromActions((()=>({createLocalApiErrorHandler:(0,b.zr)("TRANSLATE_TWEET"),fetchTranslation:E.Z.fetchOneIfNeeded,fetchStreamedGrokTranslation:E.Z.fetchStreamedGrokTranslation}))).withAnalytics();class Z extends s.Component{constructor(...e){super(...e),this._useGrokTranslation=()=>{const{isGrokAutoTranslated:e,text:t}=this.props,{featureSwitches:a}=this.context;if((0,p.F)(a,t))return e?"auto":"button"},this._fetchTranslation=()=>{const{analytics:e,createLocalApiErrorHandler:t,fetchStreamedGrokTranslation:a,fetchTranslation:n,lang:s,text:r,translation:o,translationFetchStatus:l,tweetId:i,userLanguage:c}=this.props,{featureSwitches:u}=this.context,g=this._useGrokTranslation(),p=u.isTrue("responsive_web_grok_poll_translation_enabled");if(o?.translationState!==d.H.SUCCESS)if(g){if(o?.streamedTranslationFetchStatus===m.ZP.LOADING)return;a(i,{lang:s,userLanguage:c,text:r,includePolls:p,analytics:e})}else l!==m.ZP.LOADING&&n(i,{lang:s,userLanguage:c,text:r}).catch(t())},this._shouldDisableTranslation=()=>{const{disableTranslation:e,displayTextRange:t,entities:a,isFocal:n,isTranslatable:s,lang:r,supplementalLang:o,text:l,userLanguage:i}=this.props,c=this._getMemoizedDisableTranslation(e,t,a,l,r,o,i,s);return!n||c},this._renderTranslation=()=>{const{analytics:e,createLocalApiErrorHandler:t,disableTranslation:a,fetchStreamedGrokTranslation:l,fetchTranslation:i,header:c,hitHighlights:u,isFocal:g,isForYouTimelineSelected:d,isGrokAutoTranslated:m,isTranslatable:h,onMediaTranslation:T,onToggleTranslation:b,renderGrokAutoTranslationFeedback:_,renderGrokAutoTranslationHeader:f,renderTranslationFeedback:y,style:k,supplementalLang:E,text:x,translation:L,translationFetchStatus:w,tweetId:S,userLanguage:Z,weight:G,withOriginalText:F,...v}=this.props,{featureSwitches:I}=this.context,D=(0,p.F)(I,x),A=I.isTrue("responsive_web_grok_fade_in_animation_v2_enabled");if(!L)return;const P={id:S,richtext_tags:[],entity_set:L.entities,is_expandable:!1,text:L.text,inline_media:[]};return L.text.length?s.createElement(r.z,{context:P},s.createElement(o.Z,(0,n.Z)({},v,{animateDisplayTextIn:D,displayTextRange:D?[0,L.text.length]:this._getMemoizedDisplayTextRange(L.text),entities:L.entities,lang:L.destinationLanguage,style:g&&C.focalTweetText,text:L.text,useIncrementalAnimation:A}))):null},this._getMemoizedDisplayTextRange=(0,i.Z)((e=>[0,e.length])),this._getMemoizedDisableTranslation=(0,i.Z)(((e,t,a,n,s,r,o,l)=>{if(void 0!==l)return!l;const i=o&&s&&(0,g.sE)(s.split("-")[0])!==(0,g.sE)(o.split("-")[0])&&(0,g.mD)({displayTextRange:t,entities:a,text:n,language:s});return e||!i||!!r}))}componentDidUpdate(e){const{onMediaTranslation:t,translation:a}=this.props;if(e.translation!==a&&a){const{featureSwitches:e}=this.context,n={};(a?.entities?.media||[]).forEach((e=>{e.alt_text&&(n[e.id_str]=e.alt_text)})),t&&!(0,c.Z)(n)&&e.isTrue("responsive_web_alt_text_translations_enabled")&&t(n)}}render(){const{analytics:e,createLocalApiErrorHandler:t,disableTranslation:a,fetchStreamedGrokTranslation:r,fetchTranslation:l,header:i,isFocal:c,isForYouTimelineSelected:d,isGrokAutoTranslated:p,isTranslatable:m,onMediaTranslation:h,onToggleTranslation:b,renderGrokAutoTranslationFeedback:_,renderGrokAutoTranslationHeader:f,renderTranslationFeedback:y,style:k,supplementalLang:E,translation:x,translationFetchStatus:L,tweetId:w,userLanguage:S,withOriginalText:Z,...G}=this.props,F=x?.localizedSourceLanguage??(0,g.t)(S,x?.sourceLanguage);return s.createElement(u.Z,{disableTranslation:this._shouldDisableTranslation(),fetchTranslation:this._fetchTranslation,header:i,key:w,onToggleTranslation:b,originLanguage:F,originLanguageCode:x?.sourceLanguage,renderGrokAutoTranslationFeedback:_,renderGrokAutoTranslationHeader:f,renderTranslationFeedback:y,showSourceLanguage:c,streamedTranslationFetchStatus:x?.streamedTranslationFetchStatus,style:k,translateButtonText:T.VW,translateTargetType:"post",translatedMessage:this._renderTranslation(),translationFetchStatus:L,translationSource:x&&x.translationSource,tweetId:w,useGrokTranslation:this._useGrokTranslation(),withOriginalText:Z},s.createElement(o.Z,(0,n.Z)({style:c&&C.focalTweetText},G)))}}Z.contextType=h.rC;const C=l.default.create((e=>({focalTweetText:{lineHeight:e.lineHeightsPx.headline1}}))),G=S(Z)}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-e75d887d.8d15fdaa.js.map