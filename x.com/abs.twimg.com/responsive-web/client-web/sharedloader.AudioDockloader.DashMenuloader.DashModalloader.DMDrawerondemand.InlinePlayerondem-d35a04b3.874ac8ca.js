"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~ondemand.InlinePlayer~ondem-d35a04b3"],{649872:(e,t,s)=>{s.d(t,{Z:()=>r});s(202784);var n=s(950822),o=s(392237);const r=e=>{const{style:t,...s}=e;return(0,n.Z)("form",{...s,action:"#",style:[o.default.view,t]})}},335923:(e,t,s)=>{s.d(t,{Z:()=>n});s(202784);const n=(0,s(523561).Z)({loader:()=>Promise.all([s.e("icons.13"),s.e("icons.0"),s.e("icons.22"),s.e("icons.5"),s.e("icons.29"),s.e("icons.7"),s.e("icons.1"),s.e("icons.15"),s.e("icons.25"),s.e("icons.10"),s.e("icons.14"),s.e("icons.20"),s.e("modules.common-e907d115"),s.e("modules.common-e019dbda"),s.e("icons.11"),s.e("icons.16"),s.e("icons.24"),s.e("modules.audio-6107ac1a"),s.e("modules.audio-b953418a"),s.e("modules.audio-7c51e6a7"),s.e("modules.audio-04db59e9"),s.e("modules.audio-76583d6c"),s.e("modules.audio-b7a8a5fb"),s.e("modules.audio-51f6e793"),s.e("modules.audio-e019dbda"),s.e("modules.audio-262c94d4"),s.e("modules.audio-c6fe4ea4"),s.e("icons.17"),s.e("icons.6"),s.e("icons.23"),s.e("icons.26"),s.e("icons.3"),s.e("icons.9"),s.e("icons.28"),s.e("icons.8"),s.e("shared~loader.Typeahead~loader.AppModules~loader.DMDrawer~ondemand.HoverCard~ondemand.NotFound~bundle.AboutTh"),s.e("shared~loader.DashMenu~loader.SideNav~loader.SideNavRedesign~loader.AppModules~loader.DMDrawer~bundl-4b4cb9aa"),s.e("shared~loader.DashMenu~loader.SideNav~loader.SideNavRedesign~loader.AppModules~loader.DMDrawer~bundl-96df1800"),s.e("shared~loader.DashMenu~loader.SideNav~loader.SideNavRedesign~loader.AppModules~loader.DMDrawer~bundl-bc43d9b3"),s.e("shared~loader.Typeahead~loader.DMDrawer~ondemand.HoverCard~bundle.ReaderMode~bundle.AudioSpacePeek~bundle.Bir"),s.e("shared~loader.Dock~bundle.Articles~bundle.AudioSpaceDetail~bundle.AudioSpaceDiscovery~bundle.AudioSp-bbc41769"),s.e("shared~loader.Dock~bundle.Articles~bundle.AudioSpaceDetail~bundle.AudioSpaceDiscovery~bundle.AudioSp-3ec0edf6"),s.e("shared~loader.Dock~bundle.Articles~bundle.AudioSpaceDetail~bundle.AudioSpaceDiscovery~bundle.AudioSp-3fd5f349"),s.e("shared~loader.Dock~bundle.Articles~bundle.AudioSpaceDetail~bundle.AudioSpaceDiscovery~bundle.AudioSp-d9c770f1"),s.e("shared~loader.DashMenu~loader.SideNav~loader.SideNavRedesign~loader.AppModules~loader.DMDrawer~bundl-f45b4eac"),s.e("shared~loader.DashMenu~loader.SideNav~loader.SideNavRedesign~loader.AppModules~loader.DMDrawer~bundl-6cce8a9f"),s.e("shared~loader.DashMenu~loader.SideNav~loader.SideNavRedesign~loader.AppModules~loader.DMDrawer~bundl-93606ba8"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-c9d567be"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-7a04a44b"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-dba52705"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-1ce0fa70"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-4d00f589"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-2a74f407"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-757f3ab2"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-f3039e62"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-e75d887d"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-b93f71f2"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-743779ef"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-e851f17f"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-f2a58eac"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-29ff9b73"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-d622e6ad"),s.e("shared~bundle.ReaderMode~bundle.Birdwatch~bundle.TwitterArticles~bundle.Compose~bundle.Settings~bund-d425713a"),s.e("shared~loader.DMDrawer~bundle.Birdwatch~bundle.Compose~bundle.DirectMessages~bundle.DMRichTextCompos-8d7085c2"),s.e("shared~loader.DMDrawer~bundle.Birdwatch~bundle.Compose~bundle.DirectMessages~bundle.DMRichTextCompos-53f39e22"),s.e("shared~loader.DMDrawer~bundle.Birdwatch~bundle.Compose~bundle.DirectMessages~bundle.DMRichTextCompos-a7fd62bb"),s.e("shared~bundle.Birdwatch~bundle.News~bundle.Grok~ondemand.News~loader.inlineTombstoneHandler~loader.tweetHandl"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~bundle.Ocf~ondemand.Insights~bundle.TV~l"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~bundle.Payments~ondemand.News~ondemand.Insights~loader"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-b75711ed"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-eadf0bc8"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-b6859af7"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-856c9f2b"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-30607449"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-ff768435"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-b8a8a774"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-4e7553e3"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-68027d49"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-b20998b4"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-703d6ce2"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-5f0ed14e"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-bd66f825"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-92ee7280"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-4cd14b6e"),s.e("shared~bundle.AccountAnalytics~bundle.News~bundle.Grok~ondemand.News~ondemand.Insights~loader.Explor-380ace89"),s.e("shared~bundle.TwitterArticles~bundle.Grok~loader.Markdown~loader.TexBlock"),s.e("shared~bundle.TwitterArticles~bundle.Grok~loader.Markdown"),s.e("shared~bundle.GrokDrawer~bundle.Grok~loader.Markdown-bc6ccf4c"),s.e("shared~bundle.GrokDrawer~bundle.Grok~loader.Markdown-6107ac1a"),s.e("shared~bundle.GrokDrawer~bundle.Grok~loader.Markdown-e4e3d8bb"),s.e("shared~bundle.GrokDrawer~bundle.Grok~loader.Markdown-6ac0f1a5"),s.e("shared~bundle.Grok~loader.Markdown-6107ac1a"),s.e("shared~bundle.Grok~loader.Markdown-0ae4e026"),s.e("shared~bundle.Grok~loader.Markdown-b16f5c14"),s.e("shared~bundle.Grok~loader.Markdown-63cb1cc4"),s.e("shared~bundle.Grok~loader.Markdown-d49ace54"),s.e("shared~bundle.Grok~loader.Markdown-3277c3ad"),s.e("shared~bundle.Grok~loader.Markdown-57c2c4a2"),s.e("shared~bundle.Grok~loader.Markdown-6bf2d53b"),s.e("shared~bundle.Grok~loader.Markdown-78667c23"),s.e("shared~bundle.Grok~loader.Markdown-a244d277"),s.e("shared~bundle.Grok~loader.Markdown-0d8ef87b"),s.e("shared~bundle.Grok~loader.Markdown-26844252"),s.e("shared~bundle.Grok~loader.Markdown-f29574de"),s.e("shared~bundle.Grok~loader.Markdown-4ff64aa1"),s.e("loader.Markdown")]).then(s.bind(s,312778))})},321835:(e,t,s)=>{s.d(t,{Z:()=>r});var n=s(202784),o=s(390686);function r(e){const t=n.useRef({events:{impression:!1}});return n.createElement(o.ZP,{onPlacementChange:function(s){const n=s.visibleFraction()<=o.Ow,r=!n;"function"==typeof e.onOffscreenChange&&e.onOffscreenChange({isOffscreen:n}),"function"==typeof e.onImpression&&r&&(t.current.events.impression||(t.current.events.impression=!0,e.onImpression()))},testID:e.testID},e.children)}},524110:(e,t,s)=>{s.d(t,{Z:()=>w});var n=s(202784),o=s(928316),r=s(325686),a=s(420412),i=s(912021),d=s(817480),l=s(27951),c=s(602427),u=s(822399),h=s(392237),p=s(111677),m=s.n(p),f=s(575211);const b=m().f2b3fe06,y=h.default.create((e=>({hidden:{visibility:"hidden"}}))),g=({isLoading:e})=>{const[t,s]=n.useState(!1);return n.useEffect((()=>{let t;return e?t=setTimeout((()=>s(!0)),f.n):s(!1),()=>clearTimeout(t)}),[e]),n.createElement(u.Z,{ariaValueText:t?b:"",indeterminate:t,style:!t&&y.hidden})};class w extends n.Component{constructor(e,t){super(e),this._setFocusedItemRef=e=>{this._shouldScrollToFocusedItem&&e&&((0,c.up)(this._getScrollParent(),e),this._shouldScrollToFocusedItem=!1)},this._resetScroll=()=>{const e=this._getScrollParent();e&&(e.scrollTop=0)},this._getFlattenedItems=(0,i.Z)((e=>(0,d.Z)(e))),this._handleItemClick=(e,t)=>{const{items:s,onItemClick:n}=this.props,o=this._getFlattenedItems(s).indexOf(e);e&&!t&&!this._shouldBlockInteractivity&&n(e,o),this._resetFocus()},this._getResultCount=()=>{const{items:e}=this.props;return this._getFlattenedItems(e).length},this._setFocusIndex=(e,t)=>{const{items:s,onItemFocusChanged:n}=this.props;this._shouldScrollToFocusedItem=t,this.setState({focusIndex:e}),n&&n(this._getFlattenedItems(s)[e])},this._resetFocus=()=>{this._setFocusIndex(this.props.withItemAlwaysSelected?0:-1)},this.focusNext=()=>{const{focusIndex:e}=this.state,t=this._getResultCount();if(0===t)return;const s=e+1>=t?0:e+1;this._setFocusIndex(s,!0)},this.focusPrevious=()=>{const{focusIndex:e}=this.state,t=this._getResultCount();if(0===t)return;const s=e-1<0?t-1:e-1;this._setFocusIndex(s,!0)},this.hasFocusedItem=()=>{const{focusIndex:e}=this.state,t=this._getResultCount();return e>=0&&t>e},this.selectFocusedItem=()=>{const{focusIndex:e}=this.state,{getItemIsDisabled:t,items:s}=this.props;if(this.hasFocusedItem()){const n=this._getFlattenedItems(s)[e],o=!!t&&t(n,n.data);this._handleItemClick(n,o)}},this.state={focusIndex:e.withItemAlwaysSelected?0:-1}}componentDidMount(){this._resetFocus()}componentWillUnmount(){clearTimeout(this._interactivityTimeout)}componentDidUpdate(e){e.items!==this.props.items&&(this._resetFocus(),this._resetScroll(),this._interactivityTimeout&&clearTimeout(this._interactivityTimeout),this._shouldBlockInteractivity=!0,this._interactivityTimeout=setTimeout((()=>{this._shouldBlockInteractivity=!1}),500))}render(){const{domId:e,isLoading:t,items:s,renderCallout:o,renderFooter:a,renderHeader:i,renderNoResultsState:d,selectedItems:l,shouldAlwaysRender:c,style:u}=this.props,h=!!(t||s.length||c);let p=0;const m=!!l;return h?n.createElement(r.Z,{"aria-multiselectable":m,id:e,role:"listbox",style:u},o?o():null,n.createElement(g,{isLoading:!!t}),i?i():null,s.length?s.map(((e,t)=>{const n=!Array.isArray(s[t-1])&&t>0,o=t<s.length-1,r=Array.isArray(e)?this._renderTypeaheadGroup(e,p,n,o):this._renderTypeaheadItem(e,p);return p+=Array.isArray(e)?e.length:1,r})):null,a?a():null):d?d({style:u}):null}_renderTypeaheadGroup(e,t,s,o){const{withSectionDivider:r}=this.props;return n.createElement(n.Fragment,{key:`typeaheadGroup-${t}`},r&&s?n.createElement(a.Z,{key:`typeaheadDividerTop-${t}`}):null,e.map(((e,s)=>this._renderTypeaheadItem(e,t+s))),r&&o?n.createElement(a.Z,{key:`typeaheadDividerBottom-${t}`}):null)}_renderTypeaheadItem(e,t){const{ariaDescendantId:s,getItemDisabledMessage:o,getItemIsDisabled:r,getUserDisplayNameLabel:a,getUserDisplayNameType:i,query:d,renderAvatarDecoration:c,renderUserDecoration:u,selectedItems:h,source:p,withUserHoverCard:m}=this.props,{focusIndex:f}=this.state,b=!(!h||!e.id)&&h.indexOf(e.id)>=0,y=!!h,g=f===t,w=r&&r(e,e.data),_=o&&o(e,e.data);return n.createElement(l.ZP,{disabledMessage:_,domId:g?s:void 0,getUserDisplayNameLabel:a,getUserDisplayNameType:i,isDisabled:w,isFocused:g,isInMultiSelect:y,isSelected:b,item:e,key:`typeaheadItem-${t}-${e.id||""}`,onClick:this._handleItemClick,onRef:g?this._setFocusedItemRef:void 0,query:d,renderAvatarDecoration:c,renderUserDecoration:u,source:p,withUserHoverCard:m})}_getScrollParent(){if(!this._scrollParent){const e=(0,c.rP)(o.findDOMNode(this));this._scrollParent=e===window?null:e}return this._scrollParent}}},705079:(e,t,s)=>{s.d(t,{s:()=>o});var n=s(99107);const o=e=>e===n.p_},999769:(e,t,s)=>{s.d(t,{ZP:()=>p});var n=s(807896),o=s(202784),r=s(154003),a=s(688715),i=s(392237),d=s(638236),l=s(111677),c=s.n(l),u=s(982790),h=s(907552);function p(e){const{audioSpaceId:t,type:s}=e,{space:n,utils:r}=(0,u.$)(t),a=r.hashtags().join(" ");let i=m;"icon"===s?i=f:"icon-borderless"===s&&(i=b);const d=r.is.replayable?void 0:I.dmText,l=Boolean(n?.is_employee_only);return o.createElement(h.ZP.Custom,{ButtonComponent:i,isFixed:e.isFixed,pullRight:e.pullRight,scribeNamespace:g,url:y(t)},l?null:o.createElement(h.ZP.Action,{scribeNamespace:w.tweet,shareText:a,type:"tweet"}),o.createElement(h.ZP.Action,{scribeNamespace:w.dm,shareText:d,type:"dm"}),o.createElement(h.ZP.Action,{scribeNamespace:w.copy,shareText:a,type:"copy"}),o.createElement(h.ZP.Action,{scribeNamespace:w.via,shareText:a,type:"via"}))}function m(e){return o.createElement(r.ZP,(0,n.Z)({},e,{borderColor:"transparent",style:_.shareButton,type:"primaryOutlined"}),I.share)}function f(e){return o.createElement(r.ZP,(0,n.Z)({},v,{type:"primaryOutlined"},e))}function b(e){return o.createElement(r.ZP,(0,n.Z)({},v,e))}const y=e=>(0,a.ju)(`https://x.com/i/spaces/${e}`),g={page:"audiospace",component:"share_sheet"},w={tweet:{element:"send_tweet",action:"click"},dm:{element:"send_dm",action:"click"},copy:{element:"link",action:"click"},via:{element:void 0,action:"impression"}},_=i.default.create((e=>({shareButton:{width:"100%"}}))),I={share:c().ifea3114,dmText:c().c63dd2cc},v={"aria-label":I.share,borderColor:"transparent",color:"text",hoverLabel:{label:I.share},icon:o.createElement(d.Z,null),size:"medium"}},928875:(e,t,s)=>{s.d(t,{T:()=>d,t:()=>i});s(543673),s(240753),s(128399);var n=s(688715),o=s(111677),r=s.n(o),a=s(415506);function i(e){const t=new URL(c);t.searchParams.set("content_id",e.tweet.id_str),t.searchParams.set("content_type","Tweet"),e.tweet.user?.screen_name&&t.searchParams.set("content_author",`@${e.tweet.user?.screen_name}`);const s=String(t);return{Icon:a.default,link:s,text:l.reportNetzDG}}function d(e){const t=new URL(c),s=(0,n.ju)(`https://x.com/i/spaces/${e.audioSpaceId}`);t.searchParams.set("content_id",s),t.searchParams.set("content_type","Tweet");const o=String(t);return{Icon:a.default,link:o,text:l.reportNetzDG}}const l={reportNetzDG:r().d1e21610},c=(0,n.ju)("https://help.x.com/forms/netzwerkdurchsetzungsgesetz")},131364:(e,t,s)=>{s.d(t,{Z:()=>U});var n=s(807896),o=s(202784),r=s(817480),a=s(666536),i=s(524110),d=s(735e3),l=s(942893),c=s(339110),u=s(575211),h=s(962741),p=s(312771),m=s(443781),f=(s(136728),s(24949)),b=s(459679),y=s(450681),g=s(71620),w=s(456910),_=s(668214),I=s(828186),v=s(104140),D=s(624479),x=s(919022);const C=[c.my.Users],E=e=>{const{communityId:t,filter:s,query:n,source:o,trustedFriendsId:r}=e;return(0,I.Ol)({q:n,result_type:(s||C).join(","),src:o},{communityId:t,trustedFriendsId:r})},S=(e,t)=>{const s=E(t);return(0,I.uD)(e,s)},k=(e,t)=>{const s=E(t);return(0,I.YN)(e,s)},R=(e,t)=>{const s=E(t);return(0,I.T5)(e,s)},T=(e,t)=>{const s=E(t);return(0,I.dV)(e,s)};function N(e,t){const s=E(t);return(0,I.PG)(e,s)}const A=(e,t)=>(t.rounded_graph_weight||0)-(e.rounded_graph_weight||0);const Z=()=>(0,f.P1)(k,(0,f.P1)(((e,t)=>t.query),((e,t)=>t.filter),v.Sc,v.sM,((e,t,s,n)=>{if(!e||!t||t.indexOf(c.my.Users)<0)return(0,d.o)();const o=(0,v.UA)(s,e);return(0,c.It)(o.map((e=>n[e])).sort(A).slice(0,10))})),S,((e,t)=>t.injectedItems),((e,t)=>t.query),((e,t)=>t.getUserExactMatch),((e,t)=>t.userLimit),((e,t,s,n,o,r,a)=>{const i=(0,b.Z)(n||[],(e=>e.type===c.El.User?e.data.id_str:void 0)),l=t.filter((e=>i.indexOf(e.id)<0)),u=e.filter((e=>i.indexOf(e.id)<0)),h=(0,w.sY)(l,u).slice(0,a||10),m=s===p.ZP.LOADED,f=r&&r({query:o,hasResults:!!e.length,isLoaded:m,remoteUsers:e}),y=f?[...h,f]:h;return{users:y.length?y:(0,d.o)(),userExactMatch:f,filteredPrefetchUsers:l,filteredRemoteUsers:u}})),M=()=>(0,f.P1)((0,f.P1)(T,S,((e,t)=>t.query),((e,t)=>t.maxEvents),((e,t)=>t.filter),((e,t,s,n,o)=>{const r=s&&o&&o.indexOf(c.my.Events)>=0,a=e.slice(0,n||1);return a.length&&r?a:(0,d.o)()})),(0,f.P1)(N,S,((e,t)=>t.query),((e,t)=>t.maxLists),((e,t)=>t.filter),((e,t,s,n,o)=>{const r=s&&o&&o.indexOf(c.my.Lists)>=0,a=e.slice(0,n||5);return a.length&&r?a:(0,d.o)()})),(0,f.P1)(R,S,((e,t)=>t.query),((e,t)=>t.maxTopics),((e,t)=>t.getTopicExactMatch),((e,t,s,n,o)=>{const r=t===p.ZP.LOADED,a=o&&o({query:s,hasResults:!!e.length,isLoaded:r}),i=e.slice(0,n||3);return a&&i.push(a),i.length?i:(0,d.o)()})),Z(),((e,t)=>t.injectedItems),((e,t,s,n,o)=>{const{users:r}=n,a=o&&o.length?o:null;return e.length||t.length||s.length||r.length?(0,y.Z)([a,e.length?e:void 0,s.length?s:void 0,r.length?r:void 0,t.length?t:void 0]):a?[a]:(0,d.o)()})),P=(0,_.Z)().propsFromState((()=>({fetchStatus:S,items:M()}))).propsFromActions((()=>({createLocalApiErrorHandler:(0,g.zr)("TYPEAHEAD_DROPDOWN_CONTAINER_CONTEXT"),fetchTypeaheadIfNeeded:I.o4,fetchUsersIfNeeded:x.ZP.fetchManyIfNeeded,fetchUsersPresenceIfNeeded:D.ZP.fetchManyIfNeeded,prefetchTypeaheadUsersIfNeeded:v.zP}))).withAnalytics({element:"typeahead"});class F extends o.Component{constructor(e,t){super(e,t),this._fetchUsersIfNeeded=(e=[])=>{const{fetchUsersIfNeeded:t,items:s,source:n}=this.props;if(this.context.featureSwitches.isTrue("follow_nudge_search_enabled")&&this.context.loggedInUserId&&n===c._4.SearchBox){const n=(0,r.Z)(e).filter((e=>e.type===h.ZP.User)).map((e=>e.id)),o=(0,r.Z)(s).filter((e=>e.type===h.ZP.User)).filter((e=>!n.includes(e.id))).map((e=>e.id));o?.length&&t(o)}},this._fetchTypeaheadResultsIfNeeded=e=>{const t=this.context.featureSwitches.isTrue("c9s_community_composer_hashtag_suggestions_enabled");e.query&&e.fetchTypeaheadIfNeeded({q:e.query,src:e.source,result_type:e.filter.join(","),context_text:e.contextText,topic_type:e.topicType,context_community_id:t?e.communityId:void 0},{communityId:e.communityId,trustedFriendsId:e.trustedFriendsId}).catch(e.createLocalApiErrorHandler({}))},this._handleItemClick=(e,t)=>{const{analytics:s,onItemClick:n,query:o}=this.props;n(e,t);const r=l.Z.forTypeaheadResult(e,t),a=r?[r]:void 0;s.scribe({action:"click",data:{search_details:{query:o},targets:a}})},this._scribeResults=()=>{const{analytics:e,items:t,query:s}=this.props;e.scribe({action:"impression",data:{items:l.Z.forTypeaheadResults(t),search_details:{query:s}}})},this._debouncedFetchTypeaheadResultsIfNeeded=(0,a.Z)(this._fetchTypeaheadResultsIfNeeded,250),this.state={shouldShowPrefetchResults:!0},this._previouslyLoadedResults=(0,d.o)()}componentDidMount(){const{createLocalApiErrorHandler:e,prefetchTypeaheadUsersIfNeeded:t}=this.props;this._debouncedFetchTypeaheadResultsIfNeeded(this.props),t().catch(e({})),this._fetchUsersIfNeeded()}componentWillUnmount(){clearTimeout(this._prefetchResultsTimer)}componentDidUpdate(e){const{createLocalApiErrorHandler:t,domId:s,fetchUsersPresenceIfNeeded:n,filter:o,items:a,onItemsChanged:i,query:d,shouldDeferPrefetch:l,source:c}=this.props,{filter:m,query:f,source:b}=e,{loggedInUserId:y}=this.context,g=this.context.featureSwitches.isTrue("voice_rooms_typeahead_audiospace_ring_enabled")&&y;if(a?.length&&a!==e.items){if(this._scribeResults(),i){let e=!1;const t=s?document.getElementById(s):null;t&&t.scrollHeight>t.offsetHeight&&(e=!0),i(a,e)}if(g){const e=(0,r.Z)(a).filter((e=>e.type===h.ZP.User)).map((e=>e.id));e&&n(e).catch(t({}))}this._fetchUsersIfNeeded(e.items)}e.fetchStatus===p.ZP.LOADED&&(this._previouslyLoadedResults=e.items),d===f&&o===m&&c===b||(this._debouncedFetchTypeaheadResultsIfNeeded(this.props),l&&(clearTimeout(this._prefetchResultsTimer),this.setState({shouldShowPrefetchResults:!1}),this._prefetchResultsTimer=setTimeout((()=>{this.props.query&&this.props.fetchStatus!==p.ZP.LOADED&&this.setState({shouldShowPrefetchResults:!0})}),u.n)))}render(){const{analytics:e,communityId:t,contextText:s,createLocalApiErrorHandler:r,dropdownRef:a,fetchStatus:d,fetchTypeaheadIfNeeded:l,fetchUsersIfNeeded:c,fetchUsersPresenceIfNeeded:u,filter:h,getTopicExactMatch:m,getUserExactMatch:f,injectedItems:b,items:y,maxEvents:g,maxLists:w,maxTopics:_,onItemClick:I,onItemsChanged:v,prefetchTypeaheadUsersIfNeeded:D,query:x,shouldDeferPrefetch:C,topicType:E,trustedFriendsId:S,userLimit:k,...R}=this.props,T=x&&d!==p.ZP.LOADED;let N;return N=T?this.state.shouldShowPrefetchResults&&y.length?y:this._previouslyLoadedResults:y,o.createElement(i.Z,(0,n.Z)({},R,{isLoading:!!T,items:N,onItemClick:this._handleItemClick,query:x,ref:a}))}}F.contextType=m.rC,F.defaultProps={filter:[c.my.Users],injectedItems:[],maxEvents:3,maxLists:3,maxTopics:1};const L=o.forwardRef(((e,t)=>o.createElement(F,(0,n.Z)({},e,{dropdownRef:t})))),U=P.forwardRef(L)},874088:(e,t,s)=>{s.r(t),s.d(t,{TypeaheadInput:()=>C,default:()=>S,styles:()=>E});var n=s(807896),o=s(202784),r=s(325686),a=s(424028),i=s(371344),d=s(392237),l=s(567447),c=s(537392),u=s(111677),h=s.n(u),p=s(956272),m=s(323265),f=s(649872),b=s(110548),y=s(655352),g=s(530745),w=s(339110),_=s(456910),I=s(443781),v=s(131364);const D=h().f065ba8c;let x=1;class C extends o.Component{constructor(e,t){super(e,t),this._render=({containerWidth:e})=>{const{alwaysOpen:t,disableClearButton:s,inputStyle:d,isCompact:l,isOnHomepage:c,placeholder:u,renderCustomInput:h,renderInSearchField:m,rounded:b,shouldAutoFocus:y,shouldFocusOnClear:g,style:w,testID:_}=this.props,I=this.state.showTypeaheadDropdown||t,v={Icon:p.default,ariaActiveDescendant:this.state.ariaDescendantId,ariaAutocomplete:"list",ariaExpanded:I,ariaLabel:D,ariaOwns:this._dropdownDomId,ariaRole:"combobox",autoComplete:"off",autoCorrect:!1,autoFocus:y,contentBelow:m&&m(),focusOnClear:g,isCompact:l,leftAligned:c,onBlur:this._handleInputBlur,onChange:this._handleInputChange,onClear:this._handleInputClear,onFocus:this._handleInputFocus,onLayout:this._handleInputLayoutChanged,placeholder:u,returnKeyType:"search",spellCheck:"false",styleType:b?"pill":"selection",testID:_,value:this.state.query,withClearButton:!s&&this.state.showTypeaheadDropdown};return o.createElement(r.Z,{onLayout:this._handleLayout,ref:this._setRootContainerNode,style:[E.root,w]},o.createElement(a.Z,{onKeyDown:this._handleKeyDown,style:E.keydownInputListener},o.createElement(f.Z,{"aria-label":u,onSubmit:this._handleFormSubmit,role:"search",style:E.wrapper},o.createElement(r.Z,{ref:this._setInputContainerNode,style:d},h?h({...v,handleReturn:this._handleRichTextInputReturn}):o.createElement(i.Z,(0,n.Z)({},v,{ref:this._setInputRef}))),o.createElement(r.Z,{style:[E.typeaheadContainer,!b&&E.topBorder]},I?this._renderDropdown(e):null))))},this._renderDropdown=e=>{const{communityId:t,filter:s,getItemDisabledMessage:n,getItemIsDisabled:r,getTopicExactMatch:a,getUserDisplayNameLabel:i,getUserDisplayNameType:l,getUserExactMatch:c,injectedItems:u,isModal:h,isOnHomepage:p,maxEvents:m,maxLists:f,maxTopics:b,onItemsChanged:g,renderAvatarDecoration:w,renderCallout:I,renderCustomDropdown:D,renderEmptyState:x,renderHeader:C,renderNoResultsState:S,renderUserDecoration:k,selectedItems:R,shouldDeferPrefetch:T,source:N,trustedFriendsId:A,userLimit:Z,withFixedPositioning:M,withSectionDivider:P,withUserHoverCard:F}=this.props,L=e>=d.default.theme.breakpoints.medium||(0,y.ZP)(),{dropdownOffset:U,query:B}=this.state,G=h?E.modalDropdown:[E.dropdown,!L&&M&&U?[(0,_.xX)(U),{height:`calc(100vh - ${U}px)`}]:null,(L||p)&&E.wideModeDropdown,p&&E.shortModeDropdown,!L&&p&&E.shortModeDropdownMobile],H={ariaDescendantId:this.state.ariaDescendantId,domId:this._dropdownDomId,onDismiss:this._handleOnEmptyStateDismiss,onItemFocusChanged:this._handleItemFocusChanged,ref:this._handleDropdownRef,style:G},O={ariaDescendantId:this.state.ariaDescendantId,communityId:t,domId:this._dropdownDomId,filter:s,getItemDisabledMessage:n,getItemIsDisabled:r,getTopicExactMatch:a,getUserDisplayNameType:l,getUserDisplayNameLabel:i,getUserExactMatch:c,injectedItems:u,maxEvents:m,maxLists:f,maxTopics:b,onItemClick:this._handleItemClick,onItemFocusChanged:this._handleItemFocusChanged,onItemsChanged:g,query:B,ref:this._handleDropdownRef,renderAvatarDecoration:w,renderCallout:I,renderHeader:C,renderNoResultsState:S,renderUserDecoration:k,selectedItems:R,shouldDeferPrefetch:T,source:N,style:G,trustedFriendsId:A,userLimit:Z,withSectionDivider:P,withUserHoverCard:F};return x&&!B?x(H):D?D(O):o.createElement(v.Z,O)},this._dismissDropdown=()=>{this.setState({showTypeaheadDropdown:!1}),this.props.onDismiss&&this.props.onDismiss()},this._handleOnEmptyStateDismiss=()=>{this._dismissDropdown(),this._inputRef&&this._inputRef.blur()},this._handleLayout=()=>{this._updatePosition()},this._handleInputLayoutChanged=()=>{this._updatePosition()},this._updatePosition=()=>{if(!this._inputContainerNode)return;const{bottom:e}=this._inputContainerNode.getBoundingClientRect();e!==this.state.dropdownOffset&&this.setState({dropdownOffset:e})},this._handleDropdownRef=e=>{this._dropdownRef=e},this._setRootContainerNode=e=>{this._rootContainerNode=e||null},this._setInputRef=e=>{this._inputRef=e,this._activeChildRef||(this._activeChildRef=e)},this._setInputContainerNode=e=>{this._inputContainerNode=e||null,this._inputContainerNode&&this._updatePosition()},this._handleFocusChange=e=>{const t=0+(this.props.isInModal?1:0),s=l.Z.getCount()>t;this._rootContainerNode&&this._rootContainerNode.contains(e.target)||s||this.state.showTypeaheadDropdown&&this._dismissDropdown()},this._handleKeyDown=e=>{const{key:t,shiftKey:s}=e,{alwaysOpen:n}=this.props,{showTypeaheadDropdown:o}=this.state;if((0,_.kE)(e))if(t!==g.Dd){if(this.state.inputHasFocus)return t===g.WX?(this._focusNext(),void e.preventDefault()):t===g.kl?(this._focusPrevious(),void e.preventDefault()):t===g.nQ&&!n&&o?(this._dismissDropdown(),void e.preventDefault()):t===g.NW&&this._hasFocusedItem()?(this._selectFocusedItem(),void e.preventDefault()):void(t!==g.jF&&t!==g.Ci||!this._deleteFocusedItem()?o||this.setState({showTypeaheadDropdown:!0}):e.preventDefault())}else{const t=s&&this._navigatePrevious()||!s&&this._navigateNext();t?(this._activeChildRef=t,e.preventDefault(),t.focus()):this._dismissDropdown()}},this._handleItemFocusChanged=()=>{this.setState({ariaDescendantId:(0,_.A1)()})},this._handleInputClear=()=>{this.setQuery("")},this._handleInputBlur=()=>{this.setState({inputHasFocus:!1}),this.props.onBlur&&this.props.onBlur()},this._handleInputFocus=()=>{this._activeChildRef=this._inputRef,this.setState({inputHasFocus:!0,showTypeaheadDropdown:!0}),this._updatePosition(),this.props.onFocus&&this.props.onFocus()},this._handleRichTextInputReturn=e=>e.shiftKey?"not-handled":(this._hasFocusedItem()||this._handleFormSubmit(e),"handled"),this._handleInputChange=e=>{this.setQuery(e.target.value),this._updatePosition()},this._handleFormSubmit=e=>{e.preventDefault(),e.stopPropagation(),this._inputRef&&this._inputRef.blur(),this.setState({showTypeaheadDropdown:!1}),this.props.onDismiss&&this.props.onDismiss(),this.props.onSubmit&&this.props.onSubmit()},this._handleItemClick=(e,t)=>{const{onDismiss:s,onItemClick:n,shouldClearOnSelect:o,shouldFocusOnClear:r}=this.props,a=o?"":this.state.query;this.setState({showTypeaheadDropdown:!1}),this._inputRef&&(o&&r?this._inputRef.focus():this._inputRef.blur()),this.setQuery(a),s&&s(),n&&n(e,t)},this._hasFocusedItem=()=>this._dropdownRef&&this._dropdownRef.hasFocusedItem(),this._deleteFocusedItem=()=>!!(this._dropdownRef&&this._dropdownRef.deleteFocusedItem&&this._dropdownRef.hasFocusedItem()&&this._dropdownRef.deleteFocusedItem()),this._selectFocusedItem=()=>{this._dropdownRef&&this._dropdownRef.selectFocusedItem()},this._focusNext=()=>{this._dropdownRef&&this._dropdownRef.focusNext()},this._focusPrevious=()=>{this._dropdownRef&&this._dropdownRef.focusPrevious()},this._navigateNext=()=>{if(this._dropdownRef&&this._dropdownRef.navigateNext)return this._dropdownRef.navigateNext()},this._navigatePrevious=()=>{if(!this.state.inputHasFocus&&this._dropdownRef&&this._dropdownRef.navigatePrevious)return this._dropdownRef.navigatePrevious()||this._inputRef},this.state={ariaDescendantId:(0,_.A1)(),inputHasFocus:!1,query:e.initialValue,showTypeaheadDropdown:!1},this._dropdownDomId=`typeaheadDropdown-${x}`,x+=1}componentDidUpdate(e){this.props.initialValue!==e.initialValue&&this.setQuery(this.props.initialValue)}componentDidMount(){window.document.addEventListener("click",this._handleFocusChange,!0)}componentWillUnmount(){window.document.removeEventListener("click",this._handleFocusChange,!0)}render(){return o.createElement(c.ZP,null,this._render)}focus(){this._activeChildRef&&this._activeChildRef.focus()}setQuery(e){this.setState({query:e}),this.props.onQueryChange&&this.props.onQueryChange(e)}}C.defaultProps={disableClearButton:!1,filter:[w.my.Users,w.my.Topics],initialValue:"",withSectionDivider:!0,withUserHoverCard:!1},C.contextType=I.rC;const E=d.default.create((e=>({root:{flex:1,flexDirection:"column",position:"relative",zIndex:b.R0+1},typeaheadContainer:{flex:1,position:"relative"},keydownInputListener:{flexShrink:1,width:"100%"},dropdown:{backgroundColor:e.colors.cellBackground,start:0,end:0,overflowY:"auto",overscrollBehavior:m.ZP.isIOS()?"auto":"contain",position:"absolute",top:0},modalDropdown:{backgroundColor:e.colors.cellBackground,flex:1,minHeight:300,position:"relative",overflowY:"auto",overscrollBehavior:"auto"},wideModeDropdown:{borderRadius:e.borderRadii.medium,boxShadow:e.boxShadows.medium,minHeight:100,maxHeight:`calc(80vh - ${e.componentDimensions.appBarHeight})`},shortModeDropdown:{minHeight:100,maxHeight:"35vh",paddingBottom:"0"},shortModeDropdownMobile:{position:"absolute",height:"40vh",top:0},wrapper:{alignItems:"stretch",flex:1},topBorder:{borderTopColor:e.colors.gray200,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small}}))),S=C},120428:(e,t,s)=>{s.d(t,{Z:()=>d});var n=s(202784),o=s(325686),r=s(530525),a=s(439592),i=s(731708);function d(e){const{image:t,style:s,supportText:d,title:c}=e;return n.createElement(o.Z,{style:[l.root,s]},n.createElement(o.Z,{style:[l.coverContainer,l.cellThumbnail]},t?n.createElement(r.Z,{"aria-label":"",aspectMode:a.Z.SQUARE,image:t}):null),n.createElement(o.Z,{style:l.bodyColumn},d?n.createElement(i.ZP,{color:"gray700",numberOfLines:1,size:"subtext2"},d):null,n.createElement(i.ZP,{numberOfLines:2,weight:"bold"},c)))}const l=s(392237).default.create((e=>({root:{flexDirection:"row",flexShrink:1,flexGrow:1},bodyColumn:{justifyContent:"center",flexDirection:"column",marginEnd:e.spaces.space4,marginStart:e.spaces.space12,flexShrink:1},coverContainer:{borderRadius:e.borderRadii.large,overflow:"hidden"},cellThumbnail:{height:e.spaces.space48,width:e.spaces.space48}})))},27951:(e,t,s)=>{s.d(t,{ib:()=>ae,ZP:()=>ne});var n=s(202784),o=s(325686),r=s(952428),a=s(731708),i=s(392237),d=s(58399),l=s(913973),c=s(339110),u=s(443781),h=s(823161);const p=i.default.create((e=>({container:{flexDirection:"row",padding:e.spaces.space8,gap:4,alignItems:"center"},name:{flexDirection:"row",alignItems:"center"}}))),m=({name:e,query:t,url:s})=>{const r=n.useCallback((()=>{const s=e.split(new RegExp(`(${t})`,"gi"));return n.createElement(n.Fragment,null,s.map(((e,s)=>n.createElement(a.ZP,{key:s,size:"subtext1",weight:e?.toLowerCase()===t?.toLowerCase()?"bold":"normal"},e))))}),[e,t]);return n.createElement(o.Z,{style:p.container},n.createElement(h.default,{shape:"square",size:"medium",uri:s||"https://abs.twimg.com/sticky/default_profile_images/default_profile_400x400.png"}),n.createElement(o.Z,{style:p.name},r()))};var f=s(872405),b=s(503115),y=s(255534),g=s(297436),w=s(668214),_=s(182991),I=s(919022);const v=(e,t)=>t.conversationId,D=(e,t)=>(0,_.x)(e,v(0,t)),x=(0,w.Z)().propsFromState((()=>({conversationId:v,conversation:D,users:I.ZP.selectAll}))).adjustStateProps((({conversation:e,conversationId:t,users:s})=>{const n={conversation:void 0};return e?.data&&(n.conversation=(0,g.E5)(e.data,void 0,s)),n})),C=i.default.create((e=>({root:{cursor:"pointer",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,width:"100%"},avatarColumn:{flexGrow:1,maxWidth:e.spaces.space40,minWidth:"32px"},bodyColumn:{flexGrow:7,alignItems:"center",flexDirection:"row",justifyContent:"space-between"},disabled:{opacity:.6,backgroundColor:e.colors.gray0}}))),E=x((({conversation:e,isDisabled:t,isSelected:s,perspective:o})=>e?n.createElement(f.Z,{avatarCell:n.createElement(b.Z,{conversation:e,perspective:o,size:"xLarge"}),avatarCellStyle:C.avatarColumn,avatarSize:"xLarge",cellStyle:C.bodyColumn,style:[C.root,!s&&t&&C.disabled]},n.createElement(y.Z,{conversation:e,perspective:o,withParticipantsCount:!0}),ae({isSelected:s})):null));var S=s(120428),k=s(530525),R=s(439592),T=s(470397),N=s(642153);function A(e){return n.createElement(o.Z,{style:Z.container},n.createElement(o.Z,{style:Z.imageContainer},n.createElement(k.Z,{"aria-label":"",aspectMode:R.Z.SQUARE,image:e.image})),n.createElement(o.Z,{style:Z.bodyContainer},n.createElement(T.Z,null,n.createElement(a.ZP,{numberOfLines:1,size:"body",weight:"bold"},e.name),n.createElement(a.ZP,{color:"gray700",numberOfLines:1,size:"subtext2"},e.secondaryContext)),n.createElement(o.Z,{style:Z.row},n.createElement(N.Z,{style:Z.facepile,userAvatarSize:"small",userAvatarUrls:e.facepileUrls,withIncreasedSpacing:!0}),n.createElement(a.ZP,{color:"gray700",numberOfLines:1,size:"subtext2"},e.primaryContext))))}const Z=i.default.create((e=>({bodyContainer:{flexShrink:1},container:{flexDirection:"row",paddingHorizontal:e.spaces.space16,paddingVertical:e.spaces.space12},facepile:{marginEnd:e.spaces.space4},imageContainer:{borderRadius:e.borderRadii.medium,height:e.spaces.space40,marginEnd:e.spaces.space12,overflow:"hidden",width:e.spaces.space40},row:{flexDirection:"row"}})));var M=s(226684),P=s(909377),F=s(452693),L=s(264398),U=(s(136728),s(925885));const B=i.default.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16},context:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.primary,height:e.fontSizes.subtext2,paddingEnd:e.spaces.space4,width:e.fontSizes.subtext2},disabled:{backgroundColor:e.colors.gray0},searchIcon:{marginEnd:e.spaces.space12,borderWidth:0,backgroundColor:"none"},searchIconCell:{flexDirection:"row",alignItems:"center"},wrapperCellStyle:{justifyContent:"center"}}))),G=function(e){const{isDisabled:t,query:s,resultContext:r,showIcon:i,style:d,topic:l}=e,c=function(e,t){const s=(0,U.Z)(e),n=e.toLowerCase().indexOf(t.toLowerCase()),o=n+t.length;let r;if(0===s.length){const t=[n>0?[0,n]:void 0,[o,e.length]].filter(Boolean);r=[{highlights:-1!==n?t:void 0,text:e,entityType:"text",prefix:"",indices:[0,e.length]}]}else{const t=s.flatMap((({indices:t},s,n)=>{const o=0===s?0:n[s-1].indices[1],r=s===n.length-1,a=[];return o!==t[0]&&a.push(e.slice(o,t[0])),a.push(e.substring(t[0],t[1])),r&&e.length!==t[1]&&a.push(e.slice(t[1])),a}));let a=0;const i=t.map(((e,t,s)=>{a+=t>0?s[t-1].length:0;const r=e.length;return{runningTotal:a,containsQuery:-1!==n&&a+r>=n&&a<o}}));r=t.map(((e,t)=>{const{containsQuery:s,runningTotal:r}=i[t],a=e.includes("#");let d,l;if(s){if(s){let t=r<n?n-r:0,s=r+e.length<o?e.length:o-r;a&&(t-=1,s-=1),d=[],t>0&&d.push([0,t]),s!==e.length-1&&d.push([s,e.length])}}else d=[[0,e.length]];return d?.length&&(l=d),a?{highlights:l,text:`${e?.replace("#","")}`,entityType:"hashtag",prefix:"#",indices:[r,r+e.length]}:{highlights:l,text:e,entityType:"text",prefix:"",indices:[r,r+e.length]}}))}return r}(l,s),u=n.createElement(a.ZP,null,c.map(((e,t)=>n.createElement(M.ZP,{key:`${e.text}${t}`,part:e})))),h="xLarge",p=n.createElement(n.Fragment,null,u,r?n.createElement(o.Z,{style:B.context},r&&r.types[0]&&"followable_topic"===r.types[0].type?n.createElement(F.default,{style:B.icon}):null,n.createElement(a.ZP,{color:"gray700"},r.display_string||" ")):null);return n.createElement(o.Z,{style:[B.root,t&&B.disabled,d]},i?(e=>{const t=n.createElement(P.Z,{Icon:L.default,color:"neutral",size:h,style:B.searchIcon});return n.createElement(f.Z,{avatarCell:t,avatarCellStyle:B.searchIconCell,avatarSize:h,cellStyle:B.wrapperCellStyle},e)})(p):p)};var H=s(673510),O=s(111677),q=s.n(O),z=s(788993),V=s(624479);const j=(e,t)=>(0,V.cY)(e,t.userId),$=(0,w.Z)().propsFromState((()=>({userSpace:j}))),W="TypeaheadUser",Q=q().ae2205d2,K=q().d960b55c,Y=q().fd06b02f,X=Object.freeze({num_of_followers:z.Z.Follow,bio:z.Z.TextOnly,location:z.Z.Location,num_tweets:z.Z.NewTweets,follow_relationship:z.Z.Follow,followers_follow:z.Z.Follow,social_proof:z.Z.SocialProof,follow_relationship_mutual_follow:z.Z.FollowMutual,follow_relationship_followed:z.Z.FollowFollowed,follow_relationship_following:z.Z.FollowFollowing,highlighted_label:"HighlightedIcon"});class J extends n.PureComponent{constructor(...e){super(...e),this._handleAvatarClick=()=>{const{userSpace:e}=this.props;e||this._handleClick()},this._handleClick=()=>{const{isDisabled:e,item:t,onItemClick:s}=this.props;s&&s(t,!!e)}}render(){const{affiliateBadgeInfo:e,avatarDecoration:t,avatarUri:s,decoration:o,disabledMessage:r,displayNameLabel:a,displayNameType:i,isBlueVerified:d,isDisabled:l,isProtected:u,isVerified:h,name:p,screenName:m,source:f,userId:b,userSpace:y,verifiedType:g,withHoverCard:w}=this.props,{featureSwitches:_}=this.context,{context:I,highlightedLabel:v}=this._getItemContext(),D=f===c._4.SearchBox,x=y&&_.isTrue("voice_rooms_typeahead_audiospace_ring_enabled")?y:void 0;return x&&(x["aria-label"]=Y({screenName:m})),n.createElement(H.ZP,{affiliateBadgeInfo:e,avatarDecoration:t,avatarSize:"xLarge",avatarUri:s,decoration:o,disabledMessage:l?r:void 0,displayMode:"UserCompact",displayNameLabel:a,displayNameLabelType:i,highlightedLabel:v,isBlueVerified:d,isDisabled:l,isProtected:u,isVerified:h,name:p,onAvatarClick:this._handleAvatarClick,onCellClick:this._handleClick,onScreenNameClick:this._handleClick,presenceIndicator:D?x:void 0,screenName:m,socialContext:I,testID:W,userId:b,verifiedType:g,withBottomSocialContext:!0,withInteractiveStyling:!1,withLink:w})}_getItemContext(){const e=this._getResultContext();return{highlightedLabel:e?.highlightedLabel,context:e?.highlightedLabel?void 0:e||this._getSocialContext()}}_getSocialContext(){const{socialContext:e}=this.props;if(!e||!e.following)return;const t=e.followed_by?Q:K;return{contextType:z.Z.Follow,text:t}}_getResultContext(){const{resultContext:e}=this.props;if(!e||!e.display_string||!e.types)return;const{display_string:t,icon_url:s,types:n}=e,o=n.length?n[0].type:void 0,r=o&&o in X?X[o]:z.Z.TextOnly;return{contextType:r,text:t,highlightedLabel:r===X.highlighted_label&&s?{badge:{url:s},description:t}:void 0}}}J.contextType=u.rC,J.defaultProps={withHoverCard:!1};const ee=$.forwardRef(J),te="typeaheadResult",se=({children:e})=>e;function ne(e){return n.createElement(se,{item:e.item},n.createElement(oe,e))}class oe extends n.Component{constructor(...e){super(...e),this._onViewRef=e=>{this._viewRef=e;const{onRef:t}=this.props;t&&t(e)},this._handleClick=()=>{const{item:e}=this.props;e.type!==c.El.User&&this.props.onClick&&this.props.onClick(e,this.isDisabled)}}componentDidMount(){this._loaded=!0,this._viewRef&&(this._rafId=window.requestAnimationFrame((()=>{this._viewRef&&(this._viewRef.style.opacity="1")})))}componentDidUpdate(e){const{onRef:t}=this.props;t&&t!==e.onRef&&this._viewRef&&t(this._viewRef)}componentWillUnmount(){this._rafId&&window.cancelAnimationFrame(this._rafId)}render(){const{domId:e,isDisabled:t,isFocused:s,isInMultiSelect:a,isSelected:i,item:d,style:l}=this.props,u=d.type===c.El.User,h=a?"checkbox":u?"none":"button";return n.createElement(o.Z,{"aria-checked":!(!a||!i)||void 0,"aria-selected":t?void 0:a&&i||!a&&!!s,id:e,role:"option",testID:te},n.createElement(r.Z,{actAsButtonRole:"none"===h,disabled:t,focusable:!0,onPress:this._handleClick,role:h,style:[s&&re.focused,re.transitionStyles,this._loaded&&re.loaded,l],viewRef:this._onViewRef},this._renderResult()))}_renderResult(){const{disabledMessage:e,getUserDisplayNameLabel:t,getUserDisplayNameType:s,isDisabled:r,isSelected:i,item:l,onClick:u,renderAvatarDecoration:h,renderUserDecoration:p,source:f,withUserHoverCard:b}=this.props;switch(l.type){case c.El.CompanyProfile:{const{data:e}=l;return n.createElement(m,{name:l.name,query:e.query,url:e.logoUrl})}case c.El.DMConversation:return!!this.context.viewerUserId&&n.createElement(E,{conversationId:l.id,isDisabled:r,isSelected:i,perspective:this.context.viewerUserId});case c.El.Event:{const{data:e}=l;return n.createElement(S.Z,{image:e.primary_image&&e.primary_image.original_info,style:re.itemPadding,supportText:e.supporting_text,title:e.topic})}case c.El.Hashtag:case c.El.Topic:{const{query:e}=this.props,{data:t}=l,s=f===c._4.SearchBox;return n.createElement(G,{isDisabled:r,query:e||"",resultContext:t.result_context,showIcon:s,style:s?re.itemPadding:void 0,topic:t.topic})}case c.El.List:{const e=l.data.facepile_urls,t=l.data.primary_image.original_info,s=l.data.topic,o=l.data.result_contexts[0].result_context.display_string,r=l.data.result_contexts[1].result_context.display_string;return n.createElement(A,{facepileUrls:e,image:t,name:s,primaryContext:o,secondaryContext:r})}case c.El.SettingGroup:{const{text:e}=l.data;return n.createElement(o.Z,{style:re.navigationLink},n.createElement(a.ZP,{style:re.content,weight:"bold"},e),n.createElement(d.default,{style:re.icon}))}case c.El.Setting:{const{text:e}=l.data;return n.createElement(o.Z,{style:re.navigationLink},n.createElement(a.ZP,{style:re.content},e),n.createElement(d.default,{style:re.icon}))}case c.El.NoResult:{const{data:e}=l,{text:t}=e;return n.createElement(a.ZP,{style:re.noResult},t)}case c.El.User:{const{data:o}=l,a=h?.(),d=p?p({userId:o.id_str,user:o,isSelected:i}):void 0,c=s?s(l,o):void 0,m=t?t(l,o):void 0;return n.createElement(ee,{affiliateBadgeInfo:o.highlightedLabel,avatarDecoration:a||void 0,avatarUri:o.profile_image_url_https,canDm:!!o.can_dm,canMediaTag:!!o.can_media_tag,decoration:d||void 0,disabledMessage:e,displayNameLabel:m,displayNameType:c,isBlueVerified:o.is_blue_verified,isDisabled:r,isProtected:!!o.protected,isVerified:!!o.verified,item:l,name:o.name,onItemClick:u,resultContext:o.result_context,screenName:o.screen_name,socialContext:o.social_context,source:f,userId:o.id_str,verifiedType:o.verified_type,withHoverCard:b})}case c.El.JobLocation:return n.createElement(o.Z,{style:re.navigationLink},n.createElement(a.ZP,{style:re.content,weight:"bold"},l.name));default:return null}}get isDisabled(){return!!this.props.isDisabled}}oe.contextType=u.rC;const re=i.default.create((e=>({checkIcon:{color:e.colors.primary},navigationLink:{alignItems:"center",flexDirection:"row",flexGrow:1,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16},content:{flexGrow:1,flexShrink:1},icon:{color:e.colors.gray700,paddingStart:e.spaces.space12,flexShrink:0},noResult:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16},itemPadding:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},loaded:{opacity:1},focused:{backgroundColor:e.colors.gray0},transitionStyles:{transitionProperty:"opacity",transitionDuration:"250ms",opacity:0}}))),ae=({isSelected:e})=>e?n.createElement(l.default,{"aria-hidden":!0,style:re.checkIcon}):null}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loader.AudioDock~loader.DashMenu~loader.DashModal~loader.DMDrawer~ondemand.InlinePlayer~ondem-d35a04b3.874ac8ca.js.map