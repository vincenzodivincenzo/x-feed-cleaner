(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~loader.Dock~bundle.DockPeek~bundle.LiveEvent~loader.TimelineFrameHandler~loader.JetfuelFrame--d043c1bc"],{736230:(e,t,s)=>{"use strict";s.d(t,{CP:()=>r,OG:()=>n,bP:()=>i,mH:()=>o});var a=s(111677);s.n(a)().g61ed8a4;const r="https://jf.x.com",n="https://jf-t.x.com",o="https://localhost.x.com:3000",i=Object.freeze({MARCH_MADNESS_PICK:1})},355335:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l,k:()=>i});s(543673),s(240753),s(128399),s(136728);var a=s(202784),r=s(565058),n=s(400752),o=s(107267);const i=(0,r.cn)(function(){try{return"true"===sessionStorage.getItem("jfDev")}catch(e){return!1}}()),l=()=>{const e=(0,o.useHistory)(),t=(0,o.useLocation)(),[s,r]=(0,n.KO)(i);a.useEffect((()=>{const e=new URLSearchParams(t.search).get("jfDev"),s=sessionStorage.getItem("jfDev");let a=!1;e?("1"!==e&&"true"!==e||(a=!0),"0"!==e&&"false"!==e||(a=!1)):a="true"===s,a?(r(!0),sessionStorage.setItem("jfDev","true")):(r(!1),sessionStorage.removeItem("jfDev"))}),[t.search,r]);const l=a.useCallback((s=>{const a=new URLSearchParams(t.search);s?(a.set("jfDev","1"),sessionStorage.setItem("jfDev","true")):(a.delete("jfDev"),sessionStorage.removeItem("jfDev"));const n=a.toString();e.push({pathname:t.pathname,search:n}),r(s)}),[e,t.pathname,t.search,r]);return{isDev:s,enableDev:a.useCallback((()=>{l(!0)}),[l]),disableDev:a.useCallback((()=>{l(!1)}),[l])}}},553160:(e,t,s)=>{"use strict";s.d(t,{Z:()=>f});var a=s(202784),r=s(457311),n=s(111677),o=s.n(n),i=s(810641),l=s(519896),c=s(383675),d=s(293115);const u=o().e9f1fbcc,m=o().a3b80be6,p=()=>a.createElement(r.Z,{header:u,message:m}),f=({children:e,p:t})=>{const s=t.str("timelineId"),r=t.str("name")??"JF-GenericURT",n=t.str("scribe_page")??"jf-urt",o=t.str("scribe_section")??void 0,u=(e=>a.useMemo((()=>e?(0,c.R)(e,!1):void 0),[e]))(s);if(u){const e={page:n,section:o};return a.createElement(d.nO,{namespace:e},a.createElement(i.Z,{module:u,prerollDisplayLocation:l.Nw.OTHER,refreshControl:null,renderEmptyState:p,title:r}))}}},725102:(e,t,s)=>{"use strict";s.d(t,{Z:()=>_});var a=s(202784),r=s(244448),n=s(325686),o=s(466999),i=s(107267),l=s(392237),c=s(167630),d=s(111677),u=s.n(d),m=s(403808),p=s(323265),f=s(443781),h=s(125363),g=s(390387),b=s(929378),y=s(163889),v=s(725516);const k=Object.freeze({light:"default",dark:"dim",darker:"dark",business:"business"}),w=u().ic6aa5f4,E=327,S=468,I=500,C=523,Z=l.default.create((e=>({container:{position:"relative",alignItems:"center"},spinner:{alignItems:"center",position:"absolute",start:0,end:0,justifyContent:"center"},label:{color:e.colors.text}}))),_=({p:e})=>{const t=e.str("publicKey")??e.str("webKey"),{featureSwitches:s}=a.useContext(f.rC),d=(0,v.z)(),u=(0,h.v9)(g.OW),_=(0,i.useLocation)(),P=e.str("dataExchangeToken")??"",R=e.str("name")??"arkose_token",x=t?s.getStringValue(t):"",M=a.useMemo((()=>p.ZP.isWebView()),[]),j=M?window.matchMedia("(prefers-color-scheme: dark)")?"dark":"default":k[l.default.theme.paletteName],T=a.useMemo((()=>M||window.innerWidth<S),[M]),[O,D]=a.useState(T?I:C),[F,L]=a.useState(T?E:S),[H,N]=a.useState(b.t.passive),A=a.useMemo((()=>T?Math.min((window.innerWidth-32)/E,(window.innerHeight-32)/I):1),[T]),z=_.query?.guestId,G=a.useMemo((()=>M&&"string"==typeof z?z:M?"":u||""),[M,z,u]),U=a.useCallback((()=>{b.Z.loadIframe(d,G,t||"",t||"")}),[d,G,t]),{change:W,submit:B,values:K}=a.useContext(r.q3),[V,$]=a.useState("loading"),J=(0,m.r)((e=>{if("string"==typeof e.data)try{const s=JSON.parse(e.data);switch(s.eventId){case"challenge-suppressed":b.Z.suppressedChallenge(d,G,t||"0",t||"0"),N(b.t.passive);break;case"challenge-shown":b.Z.shownChallenge(d,G,t||"0",t||"0"),N(b.t.interactive),$("shown");break;case"challenge-complete":{b.Z.completeChallenge(d,G,H,t||"0",t||"0");const e=s.payload.sessionToken;W(R,e),$("complete");break}case"challenge-iframeSize":D(s.payload.frameHeight),L(s.payload.frameWidth);break;case"challenge-loaded":$("loaded");break;case"challenge-failed":$("failed");break;case"challenge-error":$("errored")}}catch(e){$("errored"),(0,y.ZP)(e)}}));a.useEffect((()=>(window.addEventListener("message",J,!1),()=>{window.removeEventListener("message",J,!1)})),[J]);const q=null!=K[R],Q=a.useRef(!1);return a.useEffect((()=>{q&&!Q.current&&(Q.current=!0,B())}),[q,B]),a.createElement(n.Z,{style:Z.container},a.createElement(n.Z,{style:[Z.spinner,{height:O}]},"loading"===V||"loaded"===V?a.createElement(c.Z,null):"complete"===V?a.createElement(o.Z,{style:Z.label},w):null),a.createElement("iframe",{height:O,id:"arkoseFrame",onLoad:U,src:[`https://iframe.arkoselabs.com/${x}/index.html?theme=${j}`,P&&`&data=${P}`].filter(Boolean).join(""),style:{MozTransform:`scale(${A})`,OTransform:`scale(${A})`,WebkitTransform:`scale(${A})`,borderWidth:0,MozTransformOrigin:"50% 0",OTransformOrigin:"50% 0",WebkitTransformOrigin:"50% 0",alignSelf:"center"},title:"arkoseFrame",width:F}))}},634125:(e,t,s)=>{"use strict";s.d(t,{Z:()=>M});var a=s(202784),r=s(244448),n=s(400752),o=s(107267),i=s(392237),l=s(420182),c=s(443781),d=s(689048),u=s(390387),m=s(725405),p=s(736230),f=s(355335),h=s(553160),g=s(725102),b=s(325686),y=s(731708),v=s(127957),k=s(125363);const w={base:{display:"flex",flexShrink:1,flexBasis:"auto",width:"100%",height:"100%",overflow:"hidden"}},E=({p:e})=>{const t=e.str("broadcastId"),s=e.bool("autoplay")??!0,r=e.bool("muted")??!0,n=e.bool("minimal")??!1,o=e.bool("enablePip")??!1,i=(0,k.I0)(),l=a.useMemo((()=>i(((e,t,{api:s})=>s.getHttpClient()))),[i]);if(!t)return a.createElement(y.ZP,null,"Broadcast not provided");const c={type:"broadcast",id:t};return a.createElement(b.Z,{style:[w.base].filter(Boolean)},a.createElement(v.Z,{autoplay:s,config:"auto",controls:n,displayOptions:{objectFitVideo:"cover",hideLeftBadges:!0,hidePosterImage:!0},enablePip:o,httpClient:l,initiallyMuted:r,precache:!0,size:"fill",twitterAuthedHttpClient:l,videoId:c}))};var S=s(45843),I=s(738584),C=s(872415),Z=s(614425);const _={base:{display:"flex",flexShrink:1,flexBasis:"auto",width:"100%",height:"100%",overflow:"hidden",maxWidth:"100vw"},aspectRatioStyle:e=>({aspectRatio:`${e??"auto"}`}),posterImage:{height:"100%",width:"100%",zIndex:-1,position:"absolute"}},P=({p:e})=>{const t=e.url("src"),s=e.str("alt"),n=e.int("ar"),o=e.int("cropAR"),i=n&&void 0!==n,l=void 0!==o&&o&&!Number.isNaN(o),d=e.int("duration"),u=e.url("poster"),m=e.str("postId"),p=e.enum("autoplay")??0,f=e.bool("muted")??!0,h=e.bool("loop")??!1,g=e.bool("showControls")??!1,[v,w]=a.useState(!1),E=a.useRef(null),P=(0,k.I0)(),{featureSwitches:R}=(0,c.QZ)(),x=a.useMemo((()=>P(((e,t,{api:s})=>s.getHttpClient()))),[P]),{isFocused:M,isMuted:j,setCurrentTimeMs:T,setDurationMs:O,setTracksFinished:D}=(0,r.wR)(),F=a.useRef(),L=a.useRef();a.useEffect((()=>{2===p&&F.current?.playPreview()}),[p]),a.useEffect((()=>{M&&F.current?.play()}),[M]),a.useEffect((()=>{1===p&&(v?F.current?.pause():F.current?.playPreview())}),[v,p]);const H=a.useRef(!1);a.useEffect((()=>{const e=F.current,t=L.current;t&&e&&(H.current||j?j!==t.isMuted&&(j?(H.current=!0,e.mute()):e.unmute()):H.current=!0)}),[j]),a.useEffect((()=>{if(1===p){const e=E.current,t=new IntersectionObserver((e=>{e.forEach((e=>{F.current&&(e.isIntersecting?w(!1):e.isIntersecting||w(!0))}))}),{root:null,threshold:.5});return e&&t.observe(e),()=>{e&&t.unobserve(e)}}}),[p]);const N=a.useCallback((e=>{F.current=e,M||e.pause()}),[M]),A=a.useCallback((e=>{L.current=e;const t=e.tracks?.[0]?.currentTimeMs,s=e.tracks?.[0]?.durationMs;D?.(e.tracksFinished),T?.(t),O?.(s)}),[T,O,D]);return t?a.createElement(b.Z,{ref:E,style:[_.base,i?_.aspectRatioStyle(n??1):null,l?_.aspectRatioStyle(o??1):null].filter(Boolean)},a.createElement(I.Z,{"aria-label":s??"video",autoplay:2===p,basePlayerClass:Z.Y7,configType:"static",contentId:m??"",contentType:"media_entity",displayOptions:{objectFitVideo:"cover",hideLeftBadges:!0,hidePosterImage:!0},durationMs:d??0,enableVideoPlayerCaptionRendering:!0,featureProvider:R,httpClient:x,initiallyMuted:f,loop:h,onApiReady:N,onStateUpdate:A,playbackSessionId:m??"",poster:u??"",precache:!0,size:"fill",twitterAuthedHttpClient:x,variants:[{src:t,type:"application/x-mpegURL"}]},(({containerRef:e,guestsState:t,playerApi:s,playerState:r})=>g?a.createElement(C.Z,{containerRef:e,enablePiP:!0,guestsState:t,playerApi:s,playerState:r,useKeyboardShortcuts:!0}):null)),u&&a.createElement(S.Z,{source:u,style:_.posterImage})):a.createElement(y.ZP,null,"Video not provided")},R=(0,r.GZ)("JetfuelV2 Runtime");const x=(e,t)=>e?p.mH:t?p.OG:p.CP,M=function({children:e}){const[t]=(0,n.KO)(l.dd),s=t.apiClient,[p]=(0,n.KO)(l.qc),b=p.getState(),y=(0,o.useHistory)(),v=(0,u.F5)(b),k=Intl.DateTimeFormat().resolvedOptions().timeZone,w=(0,m.Z)(),{featureSwitches:S}=a.useContext(c.rC),I=location.host.includes("x.com")&&S.isTrue("x_jetfuel_enable_test_cluster"),C="darker"===i.default.theme.paletteName?"dark":"dark"===i.default.theme.paletteName?"dim":i.default.theme.paletteName,Z=a.useMemo((()=>{const e={};return e["x-jf-client-theme"]=C,e["x-jf-v"]="JP-4",k&&(e.timezone=k),v&&(e["accept-language"]=(0,d.o)(v)),e}),[C,k,v]),[_]=(0,n.KO)(f.k),M=a.useMemo((()=>({httpPOST:async(e,t)=>{let a,r=!1;const n=e.includes("jfDev=1"),o=x(_||n,I),i=e.startsWith("/")?e:`/${e}`;try{a=await s.jetfuelForm(i,Z,Object.fromEntries(t.entries()),o),r=!0}catch(e){r=!1}return{ok:r,data:a}},httpGet:async e=>{const t=e.includes("jfDev=1"),a=x(_||t,I);let r,n=!1;const o=e.startsWith("/")?e:`/${e}`;try{r=await s.jetfuel(o,Z,a),n=!0}catch(e){n=!1}return{ok:n,data:r}}})),[s,Z,_,I]);a.useEffect((()=>{document.body.setAttribute("data-theme",C??"light")}),[C]);const j=a.useMemo((()=>{R.net=M,R.history=y,R.analytics=w;const e={"x.com.GenericURT":h.Z,"x.com.Video":P,"x.com.Broadcast":E,SignupArkoseSecurityChallenge:g.Z};return R.addComponentOverride(e),R}),[M,y,w]);return"undefined"==typeof window?e:a.createElement(r.N_,{analytics:w,runtime:j},e)}},383675:(e,t,s)=>{"use strict";s.d(t,{R:()=>l,Z:()=>i});var a=s(503768),r=s(644829),n=s(750085),o=s(218951);const i=({endpointParams:e,endpointUrl:t,isUserRefreshable:s,timelineId:a})=>(0,o.Z)({timelineId:a,isUserRefreshable:s,network:{getEndpoint:e=>e.withEndpoint(r.Z).fetchGeneric,getEndpointParams:({count:s,cursor:a})=>({...e,cursor:"string"==typeof a?a:void 0,count:s,endpointUrl:t})},context:"FETCH_TIMELINE",perfKey:"generic"}),l=(e,t)=>(0,o.Z)({timelineId:`generic-graphql-timeline-${e}`,isUserRefreshable:t,network:{getEndpoint:e=>e.withEndpoint(a.ZP).fetchGenericTimelineById,getEndpointParams:({count:t,cursor:s})=>({cursor:"string"==typeof s?s:void 0,count:t,timelineId:e})},formatResponse:n.Z,context:"FETCH_GENERIC_TIMELINE_GQL",perfKey:"genericGQL"})},929378:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i,t:()=>o});var a=s(323265);const r="arkose-subtask",n="arkose",o=Object.freeze({passive:"PASSIVE",interactive:"INTERACTIVE"}),i={loadIframe:(e,t,s,o)=>{e.scribe({action:"load",data:{items:[{guest_id:t,os:a.ZP.osString(),arkose_keys:{mobile:s,web:o}}]},element:n,page:r})},loadIframeFailed:(e,t,s,o)=>{e.scribe({action:"fail",data:{items:[{guest_id:t,os:a.ZP.osString(),arkose_keys:{mobile:s,web:o}}]},element:n,page:r})},completeChallenge:(e,t,s,o,i)=>{e.scribe({action:"complete",data:{items:[{guest_id:t,os:a.ZP.osString(),challenge_type:s,arkose_keys:{mobile:o,web:i}}]},element:n,page:r})},suppressedChallenge:(e,t,s,i)=>{e.scribe({action:"show",data:{items:[{guest_id:t,challenge_type:o.passive,os:a.ZP.osString(),arkose_keys:{mobile:s,web:i}}]},element:n,page:r})},shownChallenge:(e,t,s,i)=>{e.scribe({action:"show",data:{items:[{guest_id:t,challenge_type:o.interactive,os:a.ZP.osString(),arkose_keys:{mobile:s,web:i}}]},element:n,page:r})}}},956935:(e,t,s)=>{var a=s(482609),r=s(600726);(t=a(!1)).i(r),t.push([e.id,"\n",""]),e.exports=t},631673:(e,t,s)=>{var a=s(46062),r=s(956935);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);var n={insert:"head",singleton:!1};a(r,n);e.exports=r.locals||{}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loader.Dock~bundle.DockPeek~bundle.LiveEvent~loader.TimelineFrameHandler~loader.JetfuelFrame--d043c1bc.abd1e0da.js.map