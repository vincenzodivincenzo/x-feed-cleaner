"use strict";(self.webpackChunk_twitter_responsive_web=self.webpackChunk_twitter_responsive_web||[]).push([["shared~loader.DMDrawer~bundle.DirectMessages-d153da50"],{11582:(e,t,n)=>{n.d(t,{ZP:()=>h});var a=n(202784),r=n(325686),o=n(154003),s=n(731708),i=n(392237),c=n(111677),l=n.n(c),d=n(725516);const p=l().b08821f4,u=l().e047b8fa,m=i.default.create((e=>({root:{backgroundColor:e.colors.cellBackground,paddingStart:e.spaces.space16,paddingVertical:e.spaces.space4,alignItems:"center",flexDirection:"row",justifyContent:"space-between",borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor},backButton:{marginEnd:e.spaces.space4},iconContainer:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.text,marginEnd:e.spaces.space12,fontSize:e.fontSizes.body,marginVertical:e.spaces.space8},labelHeader:{borderBottomStyle:"none",paddingVertical:e.spaces.space12}}))),h=e=>{const t=(0,d.z)(),{clearRecentSearches:n,headerText:i,icon:c,isInboxLabelHeader:l,withClearButton:h}=e;a.useEffect((()=>{t.scribe({component:"recent_search",action:"impression"})}),[t]);const v=[m.root,l&&m.labelHeader];return a.createElement(r.Z,{style:v},a.createElement(r.Z,{style:m.iconContainer},(()=>{const e=c;return e?a.createElement(e,{"aria-label":"icon",style:m.icon}):null})(),a.createElement(s.ZP,{"aria-level":2,role:"heading",size:"headline1",weight:"heavy"},i)),h?a.createElement(o.ZP,{"aria-label":p,onPress:n,style:m.backButton,type:"onMediaWhiteFilled"},u):null)}},511495:(e,t,n)=>{n.d(t,{Z:()=>b});var a=n(202784),r=n(325686),o=n(909377),s=n(952428),i=n(872405),c=n(731708),l=n(154003),d=n(392237),p=n(111677),u=n.n(p),m=n(956272),h=n(837020);const v=u().dbd5d400;class _ extends a.PureComponent{render(){const{clearRecentSearch:e,handleRecentSearchClick:t,recentSearch:n}=this.props,d=a.createElement(o.Z,{Icon:m.default,color:"neutral",size:"xLarge",style:g.searchIcon}),p=[g.listItemView,g.bottomBorder];return a.createElement(s.Z,{onPress:t,style:p},a.createElement(r.Z,null,a.createElement(i.Z,{avatarCell:d,avatarSize:"xLarge",cellStyle:g.avatarColumn},a.createElement(r.Z,{style:g.container},a.createElement(c.ZP,{numberOfLines:1},n),a.createElement(l.ZP,{"aria-label":v,borderColor:"transparent",icon:a.createElement(h.default,null),onPress:e,type:"brandText"})))))}}const g=d.default.create((e=>({container:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},searchIcon:{marginEnd:e.spaces.space12,padding:e.spaces.space4},avatarColumn:{flexGrow:1,minWidth:"32px"},bottomBorder:{borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor},listItemView:{backgroundColor:e.colors.cellBackground,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space12,width:"100%"}}))),b=_},572925:(e,t,n)=>{n.d(t,{Z:()=>Ge});n(136728);var a=n(202784),r=n(325686),o=n(310088),s=n(731708),i=n(529509),c=n(601413),l=n(976145),d=n(451051),p=n(966886),u=n(823161),m=n(530732),h=n(952428),v=n(872405),_=n(111677),g=n.n(_),b=n(165243),C=n(7330),y=n(443781),E=n(107914),f=n(198506),T=n(575522),I=n(725516),S=n(275365),w=n(147143),P=n(503115),x=n(255534),O=n(26339),N=n(228245);const Z=({entry:e,entryType:t,isSelected:n=!1,perspective:r,unread:o=!1})=>{const i=(0,N.FC)(e,t,r),c=(0,T.T)(o),l=(0,T.F)(o,n);return a.createElement(s.ZP,{color:l,weight:c},i)};var k=n(513805),D=n(24949),R=n(668214),M=n(919022),B=n(342478);const A=(e,t)=>t.entry,U=(0,R.Z)().propsFromState((()=>({users:(0,D.P1)(M.ZP.selectAll,A,B.f)})))((({entry:e,entryType:t,isSelected:n=!1,perspective:r,unread:o=!1,users:i})=>{const c=(0,k.FC)(e,t,r,i),l=(0,T.T)(o),d=(0,T.F)(o,n);return a.createElement(s.ZP,{color:d,weight:l},c)}));var F=n(677226),L=n(138214),G=n(699897);const $=g().fb3ccb56,z=({conversationType:e,entry:t,highlightingTokens:n,isMessageItem:r=!1,isSelected:o=!1,perspective:i,unread:c})=>{if(t.marked_as_spam)return((e=!1,t=!1)=>{const n=(0,T.T)(e),r=(0,T.F)(e,t);return a.createElement(s.ZP,{color:r,numberOfLines:1,weight:n},$)})(c,o);if((0,O.c)(t)){const{message_data:{recipient_id:s,sender_id:l}={}}=t;return a.createElement(F.Z,{entry:t,highlightingTokens:n,isGroupDM:e===S.eD.GROUP,isMessageItem:r,isSelected:o,perspective:i,recipientId:s,senderId:l,unread:c})}return(0,O.lf)(t)?a.createElement(L.Z,{isGroupDM:e===S.eD.GROUP,isSelected:o,perspective:i,reactionEntry:t,senderId:t.sender_id,unread:c}):(0,O.Tt)(t)?a.createElement(U,{entry:t,entryType:t.type,isSelected:o,perspective:i,unread:c}):(0,O.QD)(t)?a.createElement(Z,{entry:t,entryType:t.type,isSelected:o,perspective:i,unread:c}):(0,O.js)(t)?a.createElement(G.Z,{entry:t,isCompact:!0,isSelected:o,unread:c}):null};var H=n(340130),W=n(593953),V=n(71620),K=n(297436),j=n(296196),Y=n(175856),X=n(601576);const Q=(e,t)=>t.conversationId,q=(e,t)=>j.selectConversation(e,Q(0,t)),J=(e,t)=>!j.selectConversationIsRead(e,Q(0,t)),ee=(e,t)=>(0,Y.t5)(e,Y.Hw),te=(0,R.Z)().propsFromState((()=>({conversationId:Q,conversation:q,entries:j.selectEntries,users:M.ZP.selectAll,unread:J,shouldShowPinnedEducation:ee}))).adjustStateProps((({conversation:e,conversationId:t,entries:n,shouldShowPinnedEducation:a,unread:r,users:o})=>({conversation:e?.data&&(0,K.lk)(e.data,n,o),conversationId:t,unread:r,shouldShowPinnedEducation:a}))).propsFromActions((()=>({addFlag:Y.pj,addRecentSearch:j.addRecentSearches,addToast:X.fz,block:M.ZP.block,createLocalApiErrorHandler:(0,V.zr)("DIRECT_MESSAGES_INBOX_ITEM"),disableNotifications:j.disableNotifications,enableNotifications:j.enableNotifications,leaveConversation:j.leaveConversation,muteDMUser:j.muteDMUser,unmuteDMUser:j.unmuteDMUser,unblock:M.ZP.unblock})));var ne=n(107267),ae=n(811176),re=n(190286),oe=n(840065),se=n(247056),ie=n(963879),ce=n(833057),le=n(565421),de=n(415506),pe=n(684869),ue=n(395067),me=n(125363);const he=n(392237).default.create((e=>({root:{backgroundColor:e.colors.cellBackground,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16,width:"100%"},rootMessageAttachment:{paddingVertical:`calc(${e.spaces.space2} + ${e.spaces.space8})`},active:{backgroundColor:e.colors.gray50},avatarCellContainer:{flexGrow:1,maxWidth:e.spaces.space32,marginEnd:`calc(${e.spaces.space2} + ${e.spaces.space8})`,minWidth:e.spaces.space32},bodyColumn:{flexDirection:"row"},checkbox:{marginStart:`calc(${e.spaces.space16} + ${e.spaces.space2})`,marginEnd:e.spaces.space4},inlineTimestamp:{flexDirection:"row"},inlineTimestampVDL:{flexDirection:"row",alignItems:"center"},messageSearchTitleContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},titleContainer:{flex:1},inlineNotificationsDisabledIcon:{paddingStart:`calc(${e.spaces.space2} * 3)`,color:e.colors.gray700},inlineNotificationsDisabledIconVDL:{width:e.spaces.space16,height:e.spaces.space16},hiddenMenu:{opacity:0,overflow:"hidden",width:0},menu:{alignSelf:"flex-start"},menuContainer:{height:0,marginStart:`calc(${e.spaces.space8} + ${e.spaces.space2})`},messageSearchResultMenuContainer:{height:"100%",marginStart:`calc(${e.spaces.space8} + ${e.spaces.space2})`},unreadMessagePip:{backgroundColor:e.colors.primary,marginTop:`calc(${e.spaces.space8} - ${e.spaces.space1})`,height:e.baseFontSize-5,width:e.baseFontSize-5},unreadMessagePipMessageSearchResult:{marginTop:0,top:`calc(-3 * ${e.spaces.space2} + ${e.spaces.space1})`},vdlXButton:{border:"none",marginStart:`calc(${e.spaces.space8} + ${e.spaces.space2})`,marginEnd:`calc(-1 * ${e.spaces.space4})`,marginTop:`calc(-1 * (${e.spaces.space8} - ${e.spaces.space1}))`},xIcon:{height:`calc(${e.spaces.space28} - ${e.spaces.space1})`,width:`calc(${e.spaces.space28} - ${e.spaces.space1})`},trashcanIcon:{color:e.colors.gray700},snippet:{maxHeight:e.spaces.space40,overflow:"hidden"},snippetPadding:{paddingEnd:`calc(${e.spaces.space28} + ${e.spaces.space1} * 0.75)`},unread:{backgroundColor:e.colors.unreadCellBackground},unreadVDL:{backgroundColor:e.colors.gray0},socialProofContainer:{marginTop:e.spaces.space4},socialProofText:{marginStart:0},convoLabelIcon:{marginEnd:e.spaces.space4},endCell:{marginStart:e.spaces.space16}}))),ve={confirmButtonLabel:g().bb1d57b6,actionTextLeave:g().g9074da4,header:g().gdf4b790,text:g().h09b49f8},_e=g().ad63377e,ge=g().e1c9ec9c,be=g().i6b19b08,Ce=g().e3cfff7c,ye=g().f398722e,Ee=g().bdd91964,fe=g().a8ed0eca,Te=g().jac4eb1e;function Ie(e){const{conversation:t,conversationId:n,conversationType:o,inboxType:s,isHovered:i,isMessageSearchResult:c,isPinned:l,isSnoozed:d,participantCount:p,pinConversation:u,position:m,unpinConversation:h}=e,v=(0,I.z)(),_=(0,V.n7)("DIRECT_MESSAGES_INBOX_ITEM"),g=(0,me.I0)(),{featureSwitches:C}=a.useContext(y.rC),E=(0,ne.useHistory)(),[f,T]=a.useState(!1),[w,P]=a.useState(!1),x=()=>{const e=o===S.eD.GROUP?"leave_group":"delete_thread",t={conversation_type:o===S.eD.GROUP?H.NK.GROUP:H.NK.ONE_TO_ONE,conversation_id:n,conversation_participant_count:p,position:m,inbox_type:(0,W.e4)(s),entry_point:H.eR.THREE_DOT_MENU};P(!1),v.scribe({element:"thread",action:e,data:t}),l&&k(),g(j.leaveConversation({conversationId:n})).catch(_({showToast:!0})),E.replace((0,W.k2)(s))},O=e=>()=>{e&&e(),T(!1)},N=t=>()=>{const{conversationId:n,userId:a}=e,r=ue.C2.DMConversation;if(v.scribeAction("report"),(0,ue.Yw)(C,r)){const e=(0,ue.j_)({clientReferer:window.location.pathname,isMedia:!1,isPromoted:!1,reportType:r,reportedConversationId:n,reportedUser:a,scribeNamespace:v.contextualScribeNamespace});t.push({pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify(e)}}})}else{const e=(0,W.BB)(n,window.location.pathname,v.contextualScribeNamespace,s);t.push(e)}},Z=()=>{if(d)g(j.enableNotifications({conversationId:n})).then((()=>{g((0,X.fz)({ariaOnly:!0,text:Te}))}));else{const e={conversation_type:o===S.eD.GROUP?H.NK.GROUP:H.NK.ONE_TO_ONE,conversation_id:n,conversation_participant_count:p,entry_point:H.eR.THREE_DOT_MENU};v.scribe({element:"thread",action:"mute_dm_thread_forever",data:e}),g(j.disableNotifications({conversationId:n})).then((()=>{g((0,X.fz)({ariaOnly:!0,text:ye}))}))}},k=()=>{const e=l?"unpin_dm_conversation":"pin_dm_conversation",a=l?h:u,r={conversation_type:o===S.eD.GROUP?H.NK.GROUP:H.NK.ONE_TO_ONE,conversation_id:n,conversation_participant_count:p,position:m};v.scribe({element:"thread",action:e,data:r}),t&&a&&a(n,t)},D=!oe.Z.isEnabled||i||f;return a.createElement(a.Fragment,null,w?a.createElement(re.Z,{confirmButtonLabel:ve.confirmButtonLabel,confirmButtonType:"destructiveFilled",headline:ve.header,onCancel:()=>P(!1),onConfirm:x,text:ve.text}):null,a.createElement(r.Z,{style:[he.menuContainer,c&&he.messageSearchResultMenuContainer]},a.createElement(se.Z,{onClick:()=>T(!0),renderActionMenu:e=>{const t={Icon:l?ie.default:ce.default,onClick:k,text:l?Ee:ge,withBottomBorder:!0},r={Icon:le.default,isEmphasized:!0,onClick:()=>P(!0),text:_e,withBottomBorder:!0},o=!(0,W.NL)(n)&&{Icon:de.default,onClick:N(E),text:be,withBottomBorder:!0},s=[t,{Icon:d?pe.default:b.default,onClick:Z,text:d?fe:Ce,withBottomBorder:!0},o,r].filter(Boolean);return a.createElement(ae.Z,{items:s,onCloseRequested:O(e),shouldCloseOnClick:!0})},style:D?he.menu:he.hiddenMenu})))}var Se=n(96083),we=n(554518),Pe=n(30899),xe=n(154003),Oe=n(530813),Ne=n(90411),Ze=n(712816),ke=n(879596),De=n(187891);const Re=g().d88d0790;function Me(e){const{conversationId:t,conversationType:n,inboxType:r,participant:o}=e,s=(0,I.z)(),i=(0,V.n7)("DIRECT_MESSAGES_INBOX_ITEM"),c=(0,me.I0)(),{featureSwitches:l}=a.useContext(y.rC),d=(0,ne.useHistory)(),p=n===S.eD.GROUP,u=e=>{c(M.ZP.unblock(e)).catch(i(ke.D)),s.scribeAction("unblock")},m=()=>{const{participantCount:a,position:o}=e,l=n===S.eD.GROUP?"leave_group":"delete_thread",p={conversation_type:n===S.eD.GROUP?H.NK.GROUP:H.NK.ONE_TO_ONE,conversation_id:t,conversation_participant_count:a,position:o,inbox_type:(0,W.e4)(r),entry_point:H.eR.CELL_X_BUTTON};s.scribe({element:"thread",action:l,data:p}),c(j.leaveConversation({conversationId:t})).catch(i({showToast:!0})),d.replace((0,W.k2)(r))},h=()=>{const{userId:n}=e,a=ue.C2.DMConversation;if(s.scribeAction("report"),(0,ue.Yw)(l,a)){const e=(0,ue.j_)({clientReferer:window.location.pathname,isMedia:!1,isPromoted:!1,reportType:a,reportedConversationId:t,reportedUser:n,scribeNamespace:s.contextualScribeNamespace});d.push({pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify(e)}}})}else{const e=(0,W.BB)(t,window.location.pathname,s.contextualScribeNamespace,r);d.push(e)}};return a.createElement(Pe.Z,{renderContent:(e,n)=>a.createElement(De.ZP,{dismiss:e,flatBorders:"sheet"===n,isGroup:p,onBlockClick:()=>{return e=o.idStr,c(M.ZP.block(e)).then((()=>{c((0,X.fz)({action:{label:Ne.F0,onAction:()=>u(e)},text:Ne.KV}))}),i(Ze.d)),void s.scribeAction("block");var e},onDeleteClick:m,onReportClick:h,requestorScreenName:o?.screenName||"",showBlock:!p&&!(0,W.NL)(t),showCancel:"sheet"===n,showDelete:!0})},a.createElement(xe.ZP,{"aria-label":Re,icon:a.createElement(Oe.default,{style:he.xIcon}),onPress:e=>{e.preventDefault()},style:he.vdlXButton}))}function Be(e){const{conversationId:t,conversationType:n,inboxType:o,participant:s,participantCount:i,position:c,userId:l}=e,[d,p]=a.useState(!1),u=(0,we.Ao)(),m=(0,we.eG)(),h=a.useCallback((()=>{m({type:d?we.uU:we.QF,id:t}),p(!d)}),[m,t,d]);return u.isSelecting?a.createElement(r.Z,{style:he.checkbox},a.createElement(Se.Z,{checked:d,disabled:!d&&u.selectedConversationIds.length>=10,onChange:h})):a.createElement(Me,{conversationId:t,conversationType:n,inboxType:o,participant:s,participantCount:i,position:c,userId:l})}const Ae="conversation",Ue=({children:e})=>a.createElement(r.Z,{style:he.socialProofContainer},e),Fe=g().d7ad7414;class Le extends a.Component{constructor(...e){super(...e),this._renderAvatarCell=()=>{const{conversation:e,perspective:t}=this.props;return a.createElement(r.Z,{style:he.avatarCellContainer},a.createElement(P.Z,{conversation:e,perspective:t,size:"large",withBadge:!1}))},this._renderEndCellWithMenu=(e,t,n,o)=>a.createElement(a.Fragment,null,e?a.createElement(r.Z,{style:he.endCell},e):null,this._renderConversationActions({isFocused:t,isFocusedWithin:n,isHovered:o})),this._renderMenu=({isFocused:e,isFocusedWithin:t,isHovered:n})=>{const{conversation:r,conversationId:o,inboxType:s,isMessageItem:i,pinConversation:c,position:l,unpinConversation:d}=this.props;if(r&&c&&d){const p=(e=>Boolean(e?.labels?.find((e=>e.label_type===w.w1.PINNED))))(r),u=r.notifications_disabled,m=r.participants.length||0,h=r.type===S.eD.GROUP?"0":this._getUserIdOfOneToOneConvo();return a.createElement(Ie,{conversation:r,conversationId:o,conversationType:r.type,inboxType:s,isHovered:e||t||n,isMessageSearchResult:i,isPinned:p,isSnoozed:u,participantCount:m,pinConversation:c,position:l,unpinConversation:d,userId:h})}return null},this._renderConversationActions=({isFocused:e,isFocusedWithin:t,isHovered:n})=>{const{inboxType:a}=this.props;switch(a){case w._2.PRIMARY:return this._renderMenu({isFocused:e,isFocusedWithin:t,isHovered:n});case w._2.SECONDARY:case w._2.TERTIARY:return this._renderX();default:return null}},this._renderConversationEndCell=e=>{const{inboxType:t,isMessageItem:n,unread:r}=this.props,s=r?a.createElement(o.Z,{pip:!0,style:[he.unreadMessagePip,n&&he.unreadMessagePipMessageSearchResult],truncatedCountFormatter:()=>"",unreadCountLabel:()=>""}):null;switch(t){case w._2.PRIMARY:case w._2.SECONDARY:return s;default:return null}},this._renderConversationLabel=({convo_label:e})=>{if(!e?.text)return null;const t=(0,E.N)(e.icon);return a.createElement(s.ZP,{color:"gray700",size:"subtext2"},t?a.createElement(t,{style:he.convoLabelIcon}):null,e.text)},this._renderMessageNotAvailable=e=>a.createElement(s.ZP,{color:(0,T.F)(!1,e),weight:(0,T.T)()},Fe),this._renderSocialProof=({social_proof:e})=>{if(!e||0===e.length)return null;const t=e[0];if(t.proof_type===S.UN.MUTUAL_FRIENDS){if(0===t.total)return null;const e=t.users.map((({profile_image_url_https:e})=>e)),n=t.users.map((({name:e})=>e));return a.createElement(Ue,null,a.createElement(s.ZP,{weight:"medium"},a.createElement(i.Z,{displayFacepileInline:!0,knownFollowersAvatarUrls:e,knownFollowersCount:t.total,knownFollowersNames:n,textStyle:he.socialProofText,withFacepile:!1})))}return null},this._renderSearchConversationPreview=()=>{const{conversation:e,highlightingTokens:t,perspective:n,searchQuery:r}=this.props,o=e?(0,f.Z)(e,n):[],s=[],i=(e,t)=>e.localeCompare(t),p=o.map((({user:e})=>e)).filter((e=>{const t=e.name?.toLowerCase().includes(r);return e.id_str!==n&&(t&&s.push(e.name),!t)})).map((e=>e.name)).sort(i),u=s.sort(i).concat(p);if(e){if(e.type===S.eD.ONE_TO_ONE||e.type===S.eD.SECRET_ONE_TO_ONE){const[e]=o.map((({user:e})=>e)),n=`@${e.screen_name}`,r=n?(0,W.Y)(t,n):null,s=r?.length?(0,W.SM)(r,n):void 0;return a.createElement(c.Z,{color:"gray700",renderScreenNameHighlights:s,screenName:e.screen_name})}{const e=(0,l.Z)(u,!0),n=(0,W.KC)(t),r=n?.filter((t=>e&&-1!==e.toLowerCase().indexOf(t.toLowerCase()))),o=r?.length?r.map((t=>(0,W.FW)(t,e))):void 0;return a.createElement(d.Z,{color:"gray700",displayTextRange:[0,e.length],entities:{},highlightType:"background",hitHighlights:o,key:"groupsearchresult",numberOfLines:2,text:e})}}},this._renderX=()=>{const{conversation:e,conversationId:t,inboxType:n,position:r}=this.props,{viewerUserId:o}=this.context;if(e){const s=(0,W.vm)(e,o),i=e.participants.length||0,c=e?.type===S.eD.GROUP?"0":this._getUserIdOfOneToOneConvo();return a.createElement(Be,{conversationId:t,conversationType:e.type,inboxType:n,participant:s,participantCount:i,position:r,userId:c})}return null},this._getUserIdOfOneToOneConvo=()=>{const{conversation:e,perspective:t}=this.props,n=e&&(0,f.Z)(e,t).map((({user:e})=>e)),a=n&&n[0]||null;return a?a.id_str:""},this._renderTimestamp=e=>{const{conversation:t,isMessageItem:n}=this.props,o=[he.inlineNotificationsDisabledIcon,he.inlineNotificationsDisabledIconVDL],s=Number(e&&n?e?.time:t?.sort_timestamp);return a.createElement(a.Fragment,null,a.createElement(r.Z,{style:[n&&he.inlineTimestamp,he.inlineTimestampVDL]},t&&s?a.createElement(p.Z,{timestamp:s}):null,t?.notifications_disabled?a.createElement(b.default,{style:o}):null))},this._handleOnClick=e=>{const{addRecentSearch:t,analytics:n,conversation:a,conversationId:r,onClick:o,position:s,searchQuery:i}=this.props,c=a?.participants.length||0,l=a?.type===S.eD.GROUP;i&&(n.scribe({component:"search",element:"conversation",action:"click",data:{conversation_id:r,conversation_participant_count:c,conversation_type:l?H.NK.GROUP:H.NK.ONE_TO_ONE,entry_point:H.eR.ALL,inbox_type:H.H6.PRIMARY,dm_search_result_type:H.lt.CONVERSATION,message_type:H.C7.NOT_APPLICABLE,position:s}}),n.scribe({component:"recent_search",action:"add"}),t(i)),o(e,r,a,s)}}shouldComponentUpdate(e){const t=this.props.conversation,n=t?.conversation_id,a=t?.notifications_disabled,r=t?.last_read_event_id,o=t?.sort_event_id,s=t?.max_entry_id,i=t?.convo_label,c=this.props.highlightingTokens,l=this.props.messageId,d=e.conversation,p=d?.conversation_id,u=d?.notifications_disabled,m=e.highlightingTokens,h=d?.last_read_event_id,v=d?.sort_event_id,_=d?.max_entry_id,g=d?.convo_label,b=e.messageId,{filter:C,isActive:y}=this.props,{filter:E,isActive:f}=e;return n!==p||a!==u||c!==m||r!==h||o!==v||s!==_||l!==b||y!==f||C!==E||i!==g}render(){const{conversation:e,highlightingTokens:t,isActive:n,isMessageItem:o,link:s,messageId:i,perspective:c,position:l,searchQuery:d,unread:p}=this.props,_=e?.entries||[],g=o?_.find((e=>e.id===i)):(0,C.Z)(_,(e=>!H.I4.includes(e.type))),b=g?.message_data?.attachment,y=[he.root,o&&b&&he.rootMessageAttachment,p&&he.unread,p&&he.unreadVDL,n&&he.active],E=e?.type===S.eD.GROUP,f=(0,W.NL)(e?.conversation_id),T=e?.conversation_status===S.BU.DEVICE_NOT_A_MEMBER;if(!e)return null;const I=!!e.convo_label,w=!e.trusted&&!I,O=u.default.defaultSize,N=this._renderConversationEndCell(g),Z=d&&!o;let k="bold";return n&&(k="medium"),!e||!d&&e.isSearchResultOnly?null:a.createElement(m.Z,null,(({isFocused:i,isFocusedWithin:u,isHovered:m})=>a.createElement(h.Z,{"aria-selected":n,link:{pathname:s?.pathname,anchorless:!0,state:{...s?.state,position:l,entryPoint:o?g?.id:null,isMessageItem:o}},onPress:this._handleOnClick,style:y,testID:Ae},a.createElement(v.Z,{avatarCell:o?void 0:a.createElement(P.Z,{conversation:e,perspective:c,withBadge:E,withLock:f}),avatarSize:O},a.createElement(r.Z,{style:he.bodyColumn},a.createElement(r.Z,{style:he.titleContainer},a.createElement(r.Z,{style:o?he.messageSearchTitleContainer:void 0},a.createElement(x.Z,{conversation:e,highlightingTokens:t,isConversationSearchTitle:!!Z,isMessageSearchTitle:!!o,perspective:c,renderAvatarCell:this._renderAvatarCell,renderTimestamp:()=>this._renderTimestamp(g),textColor:"text",titleWeight:k,withScreenName:!d&&!o}),a.createElement(r.Z,{style:he.messageSearchTitleContainer},o?this._renderEndCellWithMenu(N,i,u,m):null)),a.createElement(r.Z,{style:[!(o&&(b?.card||b?.tweet))&&he.snippet,!i&&!u&&!m&&!(o&&g?.message_data?.attachment)&&he.snippetPadding]},g&&!Z?a.createElement(z,{conversationType:e.type,entry:g,highlightingTokens:t,isMessageItem:o,isSelected:n,perspective:c,unread:p}):Z?this._renderSearchConversationPreview():f&&T?this._renderMessageNotAvailable(n):null),I?this._renderConversationLabel(e):null,w?this._renderSocialProof(e):null),o?null:this._renderEndCellWithMenu(N,i,u,m))))))}}Le.contextType=y.rC,Le.defaultProps={searchQuery:"",inboxType:"primary",isActive:!1,filter:e=>!0};const Ge=(0,I.Z)(te(Le),{page:"messages",section:"inbox"})},501774:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(202784),r=n(190286),o=n(111677),s=n.n(o);const i=s().a219e218,c=s().d571e4f9,l=s().a551bf7e;function d(e){const{count:t,setShowPinError:n}=e;return a.createElement(r.Z,{confirmButtonLabel:i,headline:c({count:t}),onConfirm:()=>n(!1),text:l,withCancelButton:!1})}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loader.DMDrawer~bundle.DirectMessages-d153da50.1ce0d29a.js.map